(function() {var Sg=Object.defineProperty,Tg=Object.defineProperties;var bg=Object.getOwnPropertyDescriptors;var Mr=Object.getOwnPropertySymbols;var ec=Object.prototype.hasOwnProperty,nc=Object.prototype.propertyIsEnumerable;var tc=(tt,F,a)=>F in tt?Sg(tt,F,{enumerable:!0,configurable:!0,writable:!0,value:a}):tt[F]=a,D=(tt,F)=>{for(var a in F||(F={}))ec.call(F,a)&&tc(tt,a,F[a]);if(Mr)for(var a of Mr(F))nc.call(F,a)&&tc(tt,a,F[a]);return tt},ct=(tt,F)=>Tg(tt,bg(F));var Un=(tt,F)=>{var a={};for(var x in tt)ec.call(tt,x)&&F.indexOf(x)<0&&(a[x]=tt[x]);if(tt!=null&&Mr)for(var x of Mr(tt))F.indexOf(x)<0&&nc.call(tt,x)&&(a[x]=tt[x]);return a};var St=(tt,F,a)=>new Promise((x,R)=>{var B=w=>{try{A(a.next(w))}catch(O){R(O)}},U=w=>{try{A(a.throw(w))}catch(O){R(O)}},A=w=>w.done?x(w.value):Promise.resolve(w.value).then(B,U);A((a=a.apply(tt,F)).next())});(self.webpackChunkextract_css=self.webpackChunkextract_css||[]).push([["8614"],{848882:function(tt,F,a){"use strict";a.d(F,{R:()=>y});var x=a("736005"),R=a("246063"),B=a("612287"),U=a("926836"),A=a("616641"),w=a("298304");function O(l,f,T){const m=[{type:"client_report"},{timestamp:T||(0,w.yW)(),discarded_events:l}];return(0,A.Jd)(f?{dsn:f}:{},[m])}var g=a("203879"),_=a("265132"),d=a("571301"),E=a("174201"),k=a("47509");class y extends x.W{constructor(f){const T=E.m9.SENTRY_SDK_SOURCE||(0,B.S)();(0,R.V)(f,"browser",["browser"],T),super(f),f.sendClientReports&&E.m9.document&&E.m9.document.addEventListener("visibilitychange",()=>{E.m9.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(f,T){return(0,d.dr)(this._options.stackParser,f,T,this._options.attachStacktrace)}eventFromMessage(f,T="info",m){return(0,d.aB)(this._options.stackParser,f,T,m,this._options.attachStacktrace)}captureUserFeedback(f){if(!this._isEnabled()){_.X&&U.kg.warn("SDK not enabled, will not capture user feedback.");return}const T=(0,k.r)(f,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(T)}_prepareEvent(f,T,m){return f.platform=f.platform||"javascript",super._prepareEvent(f,T,m)}_flushOutcomes(){const f=this._clearOutcomes();if(f.length===0){_.X&&U.kg.log("No outcomes to send");return}if(!this._dsn){_.X&&U.kg.log("No dsn provided, will not send outcomes");return}_.X&&U.kg.log("Sending outcomes:",f);const T=O(f,this._options.tunnel&&(0,g.RA)(this._dsn));this._sendEnvelope(T)}}},265132:function(tt,F,a){"use strict";a.d(F,{X:function(){return x}});const x=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__},571301:function(tt,F,a){"use strict";a.d(F,{GJ:function(){return O},ME:function(){return T},aB:function(){return f},dr:function(){return l}});var x=a(653639),R=a(491392),B=a(898709),U=a(382729),A=a(318814),w=a(220886);function O(N,P){const W=d(N,P),I={type:P&&P.name,value:y(P)};return W.length&&(I.stacktrace={frames:W}),I.type===void 0&&I.value===""&&(I.value="Unrecoverable error caught"),I}function g(N,P,W,I){const X=(0,x.s3)(),H=X&&X.getOptions().normalizeDepth,j={exception:{values:[{type:(0,R.cO)(P)?P.constructor.name:I?"UnhandledRejection":"Error",value:C(P,{isUnhandledRejection:I})}]},extra:{__serialized__:(0,B.Qy)(P,H)}};if(W){const Y=d(N,W);Y.length&&(j.exception.values[0].stacktrace={frames:Y})}return j}function _(N,P){return{exception:{values:[O(N,P)]}}}function d(N,P){const W=P.stacktrace||P.stack||"",I=k(P);try{return N(W,I)}catch(X){}return[]}const E=/Minified React error #\d+;/i;function k(N){if(N){if(typeof N.framesToPop=="number")return N.framesToPop;if(E.test(N.message))return 1}return 0}function y(N){const P=N&&N.message;return P?P.error&&typeof P.error.message=="string"?P.error.message:P:"No error message"}function l(N,P,W,I){const X=W&&W.syntheticException||void 0,H=T(N,P,X,I);return(0,U.EG)(H),H.level="error",W&&W.event_id&&(H.event_id=W.event_id),(0,A.WD)(H)}function f(N,P,W="info",I,X){const H=I&&I.syntheticException||void 0,j=m(N,P,H,X);return j.level=W,I&&I.event_id&&(j.event_id=I.event_id),(0,A.WD)(j)}function T(N,P,W,I,X){let H;if((0,R.VW)(P)&&P.error)return _(N,P.error);if((0,R.TX)(P)||(0,R.fm)(P)){const j=P;if("stack"in P)H=_(N,P);else{const Y=j.name||((0,R.TX)(j)?"DOMError":"DOMException"),L=j.message?`${Y}: ${j.message}`:Y;H=m(N,L,W,I),(0,U.Db)(H,L)}return"code"in j&&(H.tags=ct(D({},H.tags),{"DOMException.code":`${j.code}`})),H}return(0,R.VZ)(P)?_(N,P):(0,R.PO)(P)||(0,R.cO)(P)?(H=g(N,P,W,X),(0,U.EG)(H,{synthetic:!0}),H):(H=m(N,P,W,I),(0,U.Db)(H,`${P}`,void 0),(0,U.EG)(H,{synthetic:!0}),H)}function m(N,P,W,I){const X={};if(I&&W){const H=d(N,W);H.length&&(X.exception={values:[{value:P,stacktrace:{frames:H}}]})}if((0,R.Le)(P)){const{__sentry_template_string__:H,__sentry_template_values__:j}=P;return X.logentry={message:H,params:j},X}return X.message=P,X}function C(N,{isUnhandledRejection:P}){const W=(0,w.zf)(N),I=P?"promise rejection":"exception";return(0,R.VW)(N)?`Event \`ErrorEvent\` captured as ${I} with message \`${N.message}\``:(0,R.cO)(N)?`Event \`${v(N)}\` (type=${N.type}) captured as ${I}`:`Object captured as ${I} with keys: ${W}`}function v(N){try{const P=Object.getPrototypeOf(N);return P?P.constructor.name:void 0}catch(P){}}},174201:function(tt,F,a){"use strict";a.d(F,{Wz:function(){return O},m9:function(){return A},re:function(){return _}});var x=a(653639),R=a(503263),B=a(220886),U=a(382729);const A=R.n2;let w=0;function O(){return w>0}function g(){w++,setTimeout(()=>{w--})}function _(d,E={},k){if(typeof d!="function")return d;try{const l=d.__sentry_wrapped__;if(l)return l;if((0,B.HK)(d))return d}catch(l){return d}const y=function(){const l=Array.prototype.slice.call(arguments);try{k&&typeof k=="function"&&k.apply(this,arguments);const f=l.map(T=>_(T,E));return d.apply(this,f)}catch(f){throw g(),(0,x.$e)(T=>{T.addEventProcessor(m=>(E.mechanism&&((0,U.Db)(m,void 0,void 0),(0,U.EG)(m,E.mechanism)),m.extra=ct(D({},m.extra),{arguments:l}),m)),(0,x.Tb)(f)}),f}};try{for(const l in d)Object.prototype.hasOwnProperty.call(d,l)&&(y[l]=d[l])}catch(l){}(0,B.$Q)(y,d),(0,B.xp)(d,"__sentry_wrapped__",y);try{Object.getOwnPropertyDescriptor(y,"name").configurable&&Object.defineProperty(y,"name",{get(){return d.name}})}catch(l){}return y}},74063:function(tt,F,a){"use strict";a.d(F,{O:()=>j,f:()=>H});var x=a("44530"),R=a("653639"),B=a("926836"),U=a("220886"),A=a("503263"),w=a("181565");function O(it){const G="console";(0,w.Hj)(G,it),(0,w.D2)(G,g)}function g(){"console"in A.n2&&B.RU.forEach(function(it){it in A.n2.console&&(0,U.hl)(A.n2.console,it,function(G){return B.LD[it]=G,function(...q){const ft={args:q,level:it};(0,w.rK)("console",ft);const ht=B.LD[it];ht&&ht.apply(A.n2.console,q)}})})}var _=a("699358"),d=a("486429"),E=a("122599"),k=a("497235"),y=a("382729"),l=a("536403");const f=["fatal","error","warning","log","info","debug"];function T(it){return m(it)}function m(it){return it==="warn"?"warning":f.includes(it)?it:"log"}var C=a("654071"),v=a("948093"),N=a("265132"),P=a("174201");const W=1024,I="Breadcrumbs",X=(it={})=>{const G=D({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},it);return{name:I,setupOnce(){},setup(q){G.console&&O(z(q)),G.dom&&(0,_.O)(L(q,G.dom)),G.xhr&&(0,d.UK)(S(q)),G.fetch&&(0,E.U)(et(q)),G.history&&(0,k.a)(nt(q)),G.sentry&&q.on&&q.on("beforeSendEvent",Y(q))}}},H=(0,x._I)(X),j=(0,x.RN)(I,H);function Y(it){return function(q){(0,R.s3)()===it&&(0,R.n_)({category:`sentry.${q.type==="transaction"?"transaction":"event"}`,event_id:q.event_id,level:q.level,message:(0,y.jH)(q)},{event:q})}}function L(it,G){return function(ft){if((0,R.s3)()!==it)return;let ht,mt,pt=typeof G=="object"?G.serializeAttribute:void 0,Rt=typeof G=="object"&&typeof G.maxStringLength=="number"?G.maxStringLength:void 0;Rt&&Rt>W&&(N.X&&B.kg.warn(`\`dom.maxStringLength\` cannot exceed ${W}, but a value of ${Rt} was configured. Sentry will use ${W} instead.`),Rt=W),typeof pt=="string"&&(pt=[pt]);try{const Jt=ft.event,Ee=Q(Jt)?Jt.target:Jt;ht=(0,l.Rt)(Ee,{keyAttrs:pt,maxStringLength:Rt}),mt=(0,l.iY)(Ee)}catch(Jt){ht="<unknown>"}if(ht.length===0)return;const Ht={category:`ui.${ft.name}`,message:ht};mt&&(Ht.data={"ui.component_name":mt}),(0,R.n_)(Ht,{event:ft.event,name:ft.name,global:ft.global})}}function z(it){return function(q){if((0,R.s3)()!==it)return;const ft={category:"console",data:{arguments:q.args,logger:"console"},level:m(q.level),message:(0,C.nK)(q.args," ")};if(q.level==="assert")if(q.args[0]===!1)ft.message=`Assertion failed: ${(0,C.nK)(q.args.slice(1)," ")||"console.assert"}`,ft.data.arguments=q.args.slice(1);else return;(0,R.n_)(ft,{input:q.args,level:q.level})}}function S(it){return function(q){if((0,R.s3)()!==it)return;const{startTimestamp:ft,endTimestamp:ht}=q,mt=q.xhr[d.xU];if(!ft||!ht||!mt)return;const{method:pt,url:Rt,status_code:Ht,body:Jt}=mt,Ee={method:pt,url:Rt,status_code:Ht},Re={xhr:q.xhr,input:Jt,startTimestamp:ft,endTimestamp:ht};(0,R.n_)({category:"xhr",data:Ee,type:"http"},Re)}}function et(it){return function(q){if((0,R.s3)()!==it)return;const{startTimestamp:ft,endTimestamp:ht}=q;if(ht&&!(q.fetchData.url.match(/sentry_key/)&&q.fetchData.method==="POST"))if(q.error){const mt=q.fetchData,pt={data:q.error,input:q.args,startTimestamp:ft,endTimestamp:ht};(0,R.n_)({category:"fetch",data:mt,level:"error",type:"http"},pt)}else{const mt=q.response,pt=ct(D({},q.fetchData),{status_code:mt&&mt.status}),Rt={input:q.args,response:mt,startTimestamp:ft,endTimestamp:ht};(0,R.n_)({category:"fetch",data:pt,type:"http"},Rt)}}}function nt(it){return function(q){if((0,R.s3)()!==it)return;let ft=q.from,ht=q.to;const mt=(0,v.en)(P.m9.location.href);let pt=ft?(0,v.en)(ft):void 0;const Rt=(0,v.en)(ht);(!pt||!pt.path)&&(pt=mt),mt.protocol===Rt.protocol&&mt.host===Rt.host&&(ht=Rt.relative),mt.protocol===pt.protocol&&mt.host===pt.host&&(ft=pt.relative),(0,R.n_)({category:"navigation",data:{from:ft,to:ht}})}}function Q(it){return!!it&&!!it.target}},303224:function(tt,F,a){"use strict";a.d(F,{I:function(){return O},R:function(){return w}});var x=a(44530),R=a(926836),B=a(265132);const U="Dedupe",A=()=>{let f;return{name:U,setupOnce(){},processEvent(T){if(T.type)return T;try{if(g(T,f))return B.X&&R.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(m){}return f=T}}},w=(0,x._I)(A),O=(0,x.RN)(U,w);function g(f,T){return T?!!(_(f,T)||d(f,T)):!1}function _(f,T){const m=f.message,C=T.message;return!(!m&&!C||m&&!C||!m&&C||m!==C||!k(f,T)||!E(f,T))}function d(f,T){const m=y(T),C=y(f);return!(!m||!C||m.type!==C.type||m.value!==C.value||!k(f,T)||!E(f,T))}function E(f,T){let m=l(f),C=l(T);if(!m&&!C)return!0;if(m&&!C||!m&&C||(m=m,C=C,C.length!==m.length))return!1;for(let v=0;v<C.length;v++){const N=C[v],P=m[v];if(N.filename!==P.filename||N.lineno!==P.lineno||N.colno!==P.colno||N.function!==P.function)return!1}return!0}function k(f,T){let m=f.fingerprint,C=T.fingerprint;if(!m&&!C)return!0;if(m&&!C||!m&&C)return!1;m=m,C=C;try{return m.join("")===C.join("")}catch(v){return!1}}function y(f){return f.exception&&f.exception.values&&f.exception.values[0]}function l(f){const T=f.exception;if(T)try{return T.values[0].stacktrace.frames}catch(m){return}}},830247:function(tt,F,a){"use strict";a.d(F,{d:function(){return l},k:function(){return y}});var x=a(44530),R=a(653639),B=a(950984),U=a(491392),A=a(921373),w=a(536403),O=a(926836),g=a(265132),_=a(571301),d=a(174201);const E="GlobalHandlers",k=(I={})=>{const X=D({onerror:!0,onunhandledrejection:!0},I);return{name:E,setupOnce(){Error.stackTraceLimit=50},setup(H){X.onerror&&(f(H),P("onerror")),X.onunhandledrejection&&(T(H),P("onunhandledrejection"))}}},y=(0,x._I)(k),l=(0,x.RN)(E,y);function f(I){(0,B.V)(X=>{const{stackParser:H,attachStacktrace:j}=W();if((0,R.s3)()!==I||(0,d.Wz)())return;const{msg:Y,url:L,line:z,column:S,error:et}=X,nt=et===void 0&&(0,U.HD)(Y)?v(Y,L,z,S):N((0,_.ME)(H,et||Y,void 0,j,!1),L,z,S);nt.level="error",(0,R.eN)(nt,{originalException:et,mechanism:{handled:!1,type:"onerror"}})})}function T(I){(0,A.h)(X=>{const{stackParser:H,attachStacktrace:j}=W();if((0,R.s3)()!==I||(0,d.Wz)())return;const Y=m(X),L=(0,U.pt)(Y)?C(Y):(0,_.ME)(H,Y,void 0,j,!0);L.level="error",(0,R.eN)(L,{originalException:Y,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function m(I){if((0,U.pt)(I))return I;const X=I;try{if("reason"in X)return X.reason;if("detail"in X&&"reason"in X.detail)return X.detail.reason}catch(H){}return I}function C(I){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(I)}`}]}}}function v(I,X,H,j){const Y=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let L=(0,U.VW)(I)?I.message:I,z="Error";const S=L.match(Y);return S&&(z=S[1],L=S[2]),N({exception:{values:[{type:z,value:L}]}},X,H,j)}function N(I,X,H,j){const Y=I.exception=I.exception||{},L=Y.values=Y.values||[],z=L[0]=L[0]||{},S=z.stacktrace=z.stacktrace||{},et=S.frames=S.frames||[],nt=isNaN(parseInt(j,10))?void 0:j,Q=isNaN(parseInt(H,10))?void 0:H,it=(0,U.HD)(X)&&X.length>0?X:(0,w.l4)();return et.length===0&&et.push({colno:nt,filename:it,function:"?",in_app:!0,lineno:Q}),I}function P(I){g.X&&O.kg.log(`Global Handler attached: ${I}`)}function W(){const I=(0,R.s3)();return I&&I.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}},225259:function(tt,F,a){"use strict";a.d(F,{q:function(){return w},s:function(){return A}});var x=a(44530),R=a(174201);const B="HttpContext",U=()=>({name:B,setupOnce(){},preprocessEvent(O){if(!R.m9.navigator&&!R.m9.location&&!R.m9.document)return;const g=O.request&&O.request.url||R.m9.location&&R.m9.location.href,{referrer:_}=R.m9.document||{},{userAgent:d}=R.m9.navigator||{},E=D(D(D({},O.request&&O.request.headers),_&&{Referer:_}),d&&{"User-Agent":d}),k=ct(D(D({},O.request),g&&{url:g}),{headers:E});O.request=k}}),A=(0,x._I)(U),w=(0,x.RN)(B,A)},661721:function(tt,F,a){"use strict";a.d(F,{O:function(){return g},i:function(){return _}});var x=a(44530),R=a(816352),B=a(571301);const U="cause",A=5,w="LinkedErrors",O=(d={})=>{const E=d.limit||A,k=d.key||U;return{name:w,setupOnce(){},preprocessEvent(y,l,f){const T=f.getOptions();(0,R.Z)(B.GJ,T.stackParser,T.maxValueLength,k,E,y,l)}}},g=(0,x._I)(O),_=(0,x.RN)(w,g)},115731:function(tt,F,a){"use strict";a.d(F,{p:function(){return _},t:function(){return g}});var x=a(44530),R=a(220886),B=a(730136),U=a(174201);const A=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],w="TryCatch",O=(l={})=>{const f=D({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},l);return{name:w,setupOnce(){f.setTimeout&&(0,R.hl)(U.m9,"setTimeout",d),f.setInterval&&(0,R.hl)(U.m9,"setInterval",d),f.requestAnimationFrame&&(0,R.hl)(U.m9,"requestAnimationFrame",E),f.XMLHttpRequest&&"XMLHttpRequest"in U.m9&&(0,R.hl)(XMLHttpRequest.prototype,"send",k);const T=f.eventTarget;T&&(Array.isArray(T)?T:A).forEach(y)}}},g=(0,x._I)(O),_=(0,x.RN)(w,g);function d(l){return function(...f){const T=f[0];return f[0]=(0,U.re)(T,{mechanism:{data:{function:(0,B.$P)(l)},handled:!1,type:"instrument"}}),l.apply(this,f)}}function E(l){return function(f){return l.apply(this,[(0,U.re)(f,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,B.$P)(l)},handled:!1,type:"instrument"}})])}}function k(l){return function(...f){const T=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(C=>{C in T&&typeof T[C]=="function"&&(0,R.hl)(T,C,function(v){const N={mechanism:{data:{function:C,handler:(0,B.$P)(v)},handled:!1,type:"instrument"}},P=(0,R.HK)(v);return P&&(N.mechanism.data.handler=(0,B.$P)(P)),(0,U.re)(v,N)})}),l.apply(this,f)}}function y(l){const f=U.m9,T=f[l]&&f[l].prototype;!T||!T.hasOwnProperty||!T.hasOwnProperty("addEventListener")||((0,R.hl)(T,"addEventListener",function(m){return function(C,v,N){try{typeof v.handleEvent=="function"&&(v.handleEvent=(0,U.re)(v.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,B.$P)(v),target:l},handled:!1,type:"instrument"}}))}catch(P){}return m.apply(this,[C,(0,U.re)(v,{mechanism:{data:{function:"addEventListener",handler:(0,B.$P)(v),target:l},handled:!1,type:"instrument"}}),N])}}),(0,R.hl)(T,"removeEventListener",function(m){return function(C,v,N){const P=v;try{const W=P&&P.__sentry_wrapped__;W&&m.call(this,C,W,N)}catch(W){}return m.call(this,C,P,N)}}))}},855229:function(tt,F,a){"use strict";a.d(F,{Eg:function(){return L},Jd:function(){return nt},S1:function(){return j},SS:function(){return X},jp:function(){return Y},lA:function(){return z},nV:function(){return H},re:function(){return S}});var x=a(170453),R=a(538958),B=a(44530),U=a(110753),A=a(866202),w=a(922589),O=a(653639),g=a(730136),_=a(740091),d=a(926836),E=a(497235),k=a(848882),y=a(265132),l=a(174201),f=a(74063),T=a(303224),m=a(830247),C=a(225259),v=a(661721),N=a(115731),P=a(285938),W=a(117263),I=a(764500);const X=[(0,x.S)(),(0,R.C)(),(0,N.t)(),(0,f.f)(),(0,m.k)(),(0,v.O)(),(0,T.R)(),(0,C.s)()];function H(Q){return[...X]}function j(Q={}){Q.defaultIntegrations===void 0&&(Q.defaultIntegrations=H()),Q.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(Q.release=__SENTRY_RELEASE__),l.m9.SENTRY_RELEASE&&l.m9.SENTRY_RELEASE.id&&(Q.release=l.m9.SENTRY_RELEASE.id)),Q.autoSessionTracking===void 0&&(Q.autoSessionTracking=!0),Q.sendClientReports===void 0&&(Q.sendClientReports=!0);const it=ct(D({},Q),{stackParser:(0,g.Sq)(Q.stackParser||P.Dt),integrations:(0,B.m8)(Q),transport:Q.transport||((0,_.Ak)()?W.f:I.K)});(0,U.M)(k.R,it),Q.autoSessionTracking&&et()}const Y=(Q={},it=(0,A.Gd)())=>{if(!l.m9.document){y.X&&d.kg.error("Global document not defined in showReportDialog call");return}const{client:G,scope:q}=it.getStackTop(),ft=Q.dsn||G&&G.getDsn();if(!ft){y.X&&d.kg.error("DSN not configured for showReportDialog call");return}q&&(Q.user=D(D({},q.getUser()),Q.user)),Q.eventId||(Q.eventId=it.lastEventId());const ht=l.m9.document.createElement("script");ht.async=!0,ht.crossOrigin="anonymous",ht.src=(0,w.h)(ft,Q),Q.onLoad&&(ht.onload=Q.onLoad);const{onClose:mt}=Q;if(mt){const Rt=Ht=>{if(Ht.data==="__sentry_reportdialog_closed__")try{mt()}finally{l.m9.removeEventListener("message",Rt)}};l.m9.addEventListener("message",Rt)}const pt=l.m9.document.head||l.m9.document.body;pt?pt.appendChild(ht):y.X&&d.kg.error("Not injecting report dialog. No injection point found in HTML")};function L(){}function z(Q){Q()}function S(Q){return(0,l.re)(Q)()}function et(){if(typeof l.m9.document=="undefined"){y.X&&d.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}(0,O.yj)({ignoreDuration:!0}),(0,O.cg)(),(0,E.a)(({from:Q,to:it})=>{Q!==void 0&&Q!==it&&((0,O.yj)({ignoreDuration:!0}),(0,O.cg)())})}function nt(Q){const it=(0,O.s3)();it&&it.captureUserFeedback(Q)}},285938:function(tt,F,a){"use strict";a.d(F,{$3:function(){return k},$Q:function(){return T},Dt:function(){return Y},HH:function(){return H},NP:function(){return W},R2:function(){return v},d8:function(){return j}});var x=a(730136);const R="?",B=10,U=20,A=30,w=40,O=50;function g(z,S,et,nt){const Q={filename:z,function:S,in_app:!0};return et!==void 0&&(Q.lineno=et),nt!==void 0&&(Q.colno=nt),Q}const _=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,d=/\((\S*)(?::(\d+))(?::(\d+))\)/,k=[A,z=>{const S=_.exec(z);if(S){if(S[2]&&S[2].indexOf("eval")===0){const it=d.exec(S[2]);it&&(S[2]=it[1],S[3]=it[2],S[4]=it[3])}const[nt,Q]=L(S[1]||R,S[2]);return g(Q,nt,S[3]?+S[3]:void 0,S[4]?+S[4]:void 0)}}],y=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,T=[O,z=>{const S=y.exec(z);if(S){if(S[3]&&S[3].indexOf(" > eval")>-1){const it=l.exec(S[3]);it&&(S[1]=S[1]||"eval",S[3]=it[1],S[4]=it[2],S[5]="")}let nt=S[3],Q=S[1]||R;return[Q,nt]=L(Q,nt),g(nt,Q,S[4]?+S[4]:void 0,S[5]?+S[5]:void 0)}}],m=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,v=[w,z=>{const S=m.exec(z);return S?g(S[2],S[1]||R,+S[3],S[4]?+S[4]:void 0):void 0}],N=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,W=[B,z=>{const S=N.exec(z);return S?g(S[2],S[3]||R,+S[1]):void 0}],I=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,H=[U,z=>{const S=I.exec(z);return S?g(S[5],S[3]||S[4]||R,+S[1],+S[2]):void 0}],j=[k,T,v],Y=(0,x.pE)(...j),L=(z,S)=>{const et=z.indexOf("safari-extension")!==-1,nt=z.indexOf("safari-web-extension")!==-1;return et||nt?[z.indexOf("@")!==-1?z.split("@")[0]:R,et?`safari-extension:${S}`:`safari-web-extension:${S}`]:[z,S]}},117263:function(tt,F,a){"use strict";a.d(F,{f:()=>d});var x=a("656716"),R=a("318814"),B=a("740091"),U=a("926836"),A=a("265132"),w=a("174201");let O;function g(){if(O)return O;if((0,B.Du)(w.m9.fetch))return O=w.m9.fetch.bind(w.m9);const E=w.m9.document;let k=w.m9.fetch;if(E&&typeof E.createElement=="function")try{const y=E.createElement("iframe");y.hidden=!0,E.head.appendChild(y);const l=y.contentWindow;l&&l.fetch&&(k=l.fetch),E.head.removeChild(y)}catch(y){A.X&&U.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",y)}return O=k.bind(w.m9)}function _(){O=void 0}function d(E,k=g()){let y=0,l=0;function f(T){const m=T.body.length;y+=m,l++;const C=D({body:T.body,method:"POST",referrerPolicy:"origin",headers:E.headers,keepalive:y<=6e4&&l<15},E.fetchOptions);try{return k(E.url,C).then(v=>(y-=m,l--,{statusCode:v.status,headers:{"x-sentry-rate-limits":v.headers.get("X-Sentry-Rate-Limits"),"retry-after":v.headers.get("Retry-After")}}))}catch(v){return _(),y-=m,l--,(0,R.$2)(v)}}return(0,x.q)(E,f)}},764500:function(tt,F,a){"use strict";a.d(F,{K:function(){return U}});var x=a(656716),R=a(318814);const B=4;function U(A){function w(O){return new R.cW((g,_)=>{const d=new XMLHttpRequest;d.onerror=_,d.onreadystatechange=()=>{d.readyState===B&&g({statusCode:d.status,headers:{"x-sentry-rate-limits":d.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":d.getResponseHeader("Retry-After")}})},d.open("POST",A.url);for(const E in A.headers)Object.prototype.hasOwnProperty.call(A.headers,E)&&d.setRequestHeader(E,A.headers[E]);d.send(O.body)})}return(0,x.q)(A,w)}},47509:function(tt,F,a){"use strict";a.d(F,{r:function(){return B}});var x=a(203879),R=a(616641);function B(A,{metadata:w,tunnel:O,dsn:g}){const _=D(D({event_id:A.event_id,sent_at:new Date().toISOString()},w&&w.sdk&&{sdk:{name:w.sdk.name,version:w.sdk.version}}),!!O&&!!g&&{dsn:(0,x.RA)(g)}),d=U(A);return(0,R.Jd)(_,[d])}function U(A){return[{type:"user_report"},A]}},922589:function(tt,F,a){"use strict";a.d(F,{U:function(){return O},h:function(){return g}});var x=a(220886),R=a(203879);const B="7";function U(_){const d=_.protocol?`${_.protocol}:`:"",E=_.port?`:${_.port}`:"";return`${d}//${_.host}${E}${_.path?`/${_.path}`:""}/api/`}function A(_){return`${U(_)}${_.projectId}/envelope/`}function w(_,d){return(0,x._j)(D({sentry_key:_.publicKey,sentry_version:B},d&&{sentry_client:`${d.name}/${d.version}`}))}function O(_,d={}){const E=typeof d=="string"?d:d.tunnel,k=typeof d=="string"||!d._metadata?void 0:d._metadata.sdk;return E||`${A(_)}?${w(_,k)}`}function g(_,d){const E=(0,R.vK)(_);if(!E)return"";const k=`${U(E)}embed/error-page/`;let y=`dsn=${(0,R.RA)(E)}`;for(const l in d)if(l!=="dsn"&&l!=="onClose")if(l==="user"){const f=d.user;if(!f)continue;f.name&&(y+=`&name=${encodeURIComponent(f.name)}`),f.email&&(y+=`&email=${encodeURIComponent(f.email)}`)}else y+=`&${encodeURIComponent(l)}=${encodeURIComponent(d[l])}`;return`${k}?${y}`}},736005:function(tt,F,a){"use strict";a.d(F,{Q:()=>j,W:()=>P});var x=a("203879"),R=a("926836"),B=a("382729"),U=a("491392"),A=a("318814"),w=a("616641"),O=a("904749"),g=a("922589"),_=a("433883"),d=a("780630"),E=a("653639"),k=a("866202"),y=a("44530"),l=a("473979");function f(Y,L,z,S){const et={sent_at:new Date().toISOString()};z&&z.sdk&&(et.sdk={name:z.sdk.name,version:z.sdk.version}),S&&L&&(et.dsn=(0,x.RA)(L));const nt=T(Y);return(0,w.Jd)(et,[nt])}function T(Y){const L=(0,l.uv)(Y);return[{type:"statsd",length:L.length},L]}var m=a("348163"),C=a("956474"),v=a("463590");const N="Not capturing exception because it's already been captured.";class P{constructor(L){if(this._options=L,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],L.dsn?this._dsn=(0,x.vK)(L.dsn):_.X&&R.kg.warn("No DSN provided, client will not send events."),this._dsn){const z=(0,g.U)(this._dsn,L);this._transport=L.transport(ct(D({recordDroppedEvent:this.recordDroppedEvent.bind(this)},L.transportOptions),{url:z}))}}captureException(L,z,S){if((0,B.YO)(L)){_.X&&R.kg.log(N);return}let et=z&&z.event_id;return this._process(this.eventFromException(L,z).then(nt=>this._captureEvent(nt,z,S)).then(nt=>{et=nt})),et}captureMessage(L,z,S,et){let nt=S&&S.event_id;const Q=(0,U.Le)(L)?L:String(L),it=(0,U.pt)(L)?this.eventFromMessage(Q,z,S):this.eventFromException(L,S);return this._process(it.then(G=>this._captureEvent(G,S,et)).then(G=>{nt=G})),nt}captureEvent(L,z,S){if(z&&z.originalException&&(0,B.YO)(z.originalException)){_.X&&R.kg.log(N);return}let et=z&&z.event_id;const Q=(L.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(L,z,Q||S).then(it=>{et=it})),et}captureSession(L){typeof L.release!="string"?_.X&&R.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(L),(0,m.CT)(L,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(L){const z=this._transport;return z?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(L).then(S=>z.flush(L).then(et=>S&&et))):(0,A.WD)(!0)}close(L){return this.flush(L).then(z=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),z))}getEventProcessors(){return this._eventProcessors}addEventProcessor(L){this._eventProcessors.push(L)}setupIntegrations(L){(L&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(L){return this.getIntegrationByName(L)}getIntegrationByName(L){return this._integrations[L]}getIntegration(L){try{return this._integrations[L.id]||null}catch(z){return _.X&&R.kg.warn(`Cannot retrieve integration ${L.id} from the current Client`),null}}addIntegration(L){const z=this._integrations[L.name];(0,y.m7)(this,L,this._integrations),z||(0,y.uf)(this,[L])}sendEvent(L,z={}){this.emit("beforeSendEvent",L,z);let S=(0,d.M)(L,this._dsn,this._options._metadata,this._options.tunnel);for(const nt of z.attachments||[])S=(0,w.BO)(S,(0,w.zQ)(nt,this._options.transportOptions&&this._options.transportOptions.textEncoder));const et=this._sendEnvelope(S);et&&et.then(nt=>this.emit("afterSendEvent",L,nt),null)}sendSession(L){const z=(0,d.Q)(L,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(z)}recordDroppedEvent(L,z,S){if(this._options.sendClientReports){const et=`${L}:${z}`;_.X&&R.kg.log(`Adding outcome: "${et}"`),this._outcomes[et]=this._outcomes[et]+1||1}}captureAggregateMetrics(L){_.X&&R.kg.log(`Flushing aggregated metrics, number of metrics: ${L.length}`);const z=f(L,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(z)}on(L,z){this._hooks[L]||(this._hooks[L]=[]),this._hooks[L].push(z)}emit(L,...z){this._hooks[L]&&this._hooks[L].forEach(S=>S(...z))}_setupIntegrations(){const{integrations:L}=this._options;this._integrations=(0,y.q4)(this,L),(0,y.uf)(this,L),this._integrationsInitialized=!0}_updateSessionFromEvent(L,z){let S=!1,et=!1;const nt=z.exception&&z.exception.values;if(nt){et=!0;for(const G of nt){const q=G.mechanism;if(q&&q.handled===!1){S=!0;break}}}const Q=L.status==="ok";(Q&&L.errors===0||Q&&S)&&((0,m.CT)(L,ct(D({},S&&{status:"crashed"}),{errors:L.errors||Number(et||S)})),this.captureSession(L))}_isClientDoneProcessing(L){return new A.cW(z=>{let S=0;const et=1,nt=setInterval(()=>{this._numProcessing==0?(clearInterval(nt),z(!0)):(S+=et,L&&S>=L&&(clearInterval(nt),z(!1)))},et)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(L,z,S,et=(0,k.aF)()){const nt=this.getOptions(),Q=Object.keys(this._integrations);return!z.integrations&&Q.length>0&&(z.integrations=Q),this.emit("preprocessEvent",L,z),(0,v.R)(nt,L,z,S,this,et).then(it=>{if(it===null)return it;const G=D(D({},et.getPropagationContext()),S?S.getPropagationContext():void 0);if(!(it.contexts&&it.contexts.trace)&&G){const{traceId:ft,spanId:ht,parentSpanId:mt,dsc:pt}=G;it.contexts=D({trace:{trace_id:ft,span_id:ht,parent_span_id:mt}},it.contexts);const Rt=pt||(0,C._)(ft,this,S);it.sdkProcessingMetadata=D({dynamicSamplingContext:Rt},it.sdkProcessingMetadata)}return it})}_captureEvent(L,z={},S){return this._processEvent(L,z,S).then(et=>et.event_id,et=>{if(_.X){const nt=et;nt.logLevel==="log"?R.kg.log(nt.message):R.kg.warn(nt)}})}_processEvent(L,z,S){const et=this.getOptions(),{sampleRate:nt}=et,Q=H(L),it=X(L),G=L.type||"error",q=`before send for type \`${G}\``;if(it&&typeof nt=="number"&&Math.random()>nt)return this.recordDroppedEvent("sample_rate","error",L),(0,A.$2)(new O.b(`Discarding event because it's not included in the random sample (sampling rate = ${nt})`,"log"));const ft=G==="replay_event"?"replay":G,mt=(L.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(L,z,S,mt).then(pt=>{if(pt===null)throw this.recordDroppedEvent("event_processor",ft,L),new O.b("An event processor returned `null`, will not send event.","log");if(z.data&&z.data.__sentry__===!0)return pt;const Ht=I(et,pt,z);return W(Ht,q)}).then(pt=>{if(pt===null)throw this.recordDroppedEvent("before_send",ft,L),new O.b(`${q} returned \`null\`, will not send event.`,"log");const Rt=S&&S.getSession();!Q&&Rt&&this._updateSessionFromEvent(Rt,pt);const Ht=pt.transaction_info;if(Q&&Ht&&pt.transaction!==L.transaction){const Jt="custom";pt.transaction_info=ct(D({},Ht),{source:Jt})}return this.sendEvent(pt,z),pt}).then(null,pt=>{throw pt instanceof O.b?pt:(this.captureException(pt,{data:{__sentry__:!0},originalException:pt}),new O.b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${pt}`))})}_process(L){this._numProcessing++,L.then(z=>(this._numProcessing--,z),z=>(this._numProcessing--,z))}_sendEnvelope(L){if(this.emit("beforeEnvelope",L),this._isEnabled()&&this._transport)return this._transport.send(L).then(null,z=>{_.X&&R.kg.error("Error while sending event:",z)});_.X&&R.kg.error("Transport disabled")}_clearOutcomes(){const L=this._outcomes;return this._outcomes={},Object.keys(L).map(z=>{const[S,et]=z.split(":");return{reason:S,category:et,quantity:L[z]}})}}function W(Y,L){const z=`${L} must return \`null\` or a valid event.`;if((0,U.J8)(Y))return Y.then(S=>{if(!(0,U.PO)(S)&&S!==null)throw new O.b(z);return S},S=>{throw new O.b(`${L} rejected with ${S}`)});if(!(0,U.PO)(Y)&&Y!==null)throw new O.b(z);return Y}function I(Y,L,z){const{beforeSend:S,beforeSendTransaction:et}=Y;return X(L)&&S?S(L,z):H(L)&&et?et(L,z):L}function X(Y){return Y.type===void 0}function H(Y){return Y.type==="transaction"}function j(Y){const L=(0,E.s3)();!L||!L.addEventProcessor||L.addEventProcessor(Y)}},371908:function(tt,F,a){"use strict";a.d(F,{J:function(){return x}});const x="production"},433883:function(tt,F,a){"use strict";a.d(F,{X:function(){return x}});const x=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__},780630:function(tt,F,a){"use strict";a.d(F,{M:function(){return A},Q:function(){return U}});var x=a(616641),R=a(203879);function B(w,O){return O&&(w.sdk=w.sdk||{},w.sdk.name=w.sdk.name||O.name,w.sdk.version=w.sdk.version||O.version,w.sdk.integrations=[...w.sdk.integrations||[],...O.integrations||[]],w.sdk.packages=[...w.sdk.packages||[],...O.packages||[]]),w}function U(w,O,g,_){const d=(0,x.HY)(g),E=D(D({sent_at:new Date().toISOString()},d&&{sdk:d}),!!_&&O&&{dsn:(0,R.RA)(O)}),k="aggregates"in w?[{type:"sessions"},w]:[{type:"session"},w.toJSON()];return(0,x.Jd)(E,[k])}function A(w,O,g,_){const d=(0,x.HY)(g),E=w.type&&w.type!=="replay_event"?w.type:"event";B(w,g&&g.sdk);const k=(0,x.Cd)(w,d,_,O);delete w.sdkProcessingMetadata;const y=[{type:E},w];return(0,x.Jd)(k,[y])}},371792:function(tt,F,a){"use strict";a.d(F,{RP:function(){return g},cc:function(){return O},fH:function(){return w}});var x=a(503263),R=a(318814),B=a(926836),U=a(491392),A=a(433883);function w(){return(0,x.YO)("globalEventProcessors",()=>[])}function O(_){w().push(_)}function g(_,d,E,k=0){return new R.cW((y,l)=>{const f=_[k];if(d===null||typeof f!="function")y(d);else{const T=f(D({},d),E);A.X&&f.id&&T===null&&B.kg.log(`Event processor "${f.id}" dropped event`),(0,U.J8)(T)?T.then(m=>g(_,m,E,k+1).then(y)).then(null,l):g(_,T,E,k+1).then(y).then(null,l)}})}},653639:function(tt,F,a){"use strict";a.d(F,{$e:function(){return v},TM:function(){return nt},Tb:function(){return g},YA:function(){return m},Yr:function(){return W},_d:function(){return P},av:function(){return C},cg:function(){return it},dk:function(){return z},e:function(){return E},eN:function(){return d},eW:function(){return Y},mG:function(){return T},nZ:function(){return S},n_:function(){return k},rJ:function(){return l},s3:function(){return L},sU:function(){return f},uT:function(){return _},v:function(){return y},wi:function(){return N},xv:function(){return j},yj:function(){return et},yl:function(){return H}});var x=a(926836),R=a(503263),B=a(371908),U=a(433883),A=a(866202),w=a(348163),O=a(463590);function g(G,q){return(0,A.Gd)().captureException(G,(0,O.U0)(q))}function _(G,q){const ft=typeof q=="string"?q:void 0,ht=typeof q!="string"?{captureContext:q}:void 0;return(0,A.Gd)().captureMessage(G,ft,ht)}function d(G,q){return(0,A.Gd)().captureEvent(G,q)}function E(G){(0,A.Gd)().configureScope(G)}function k(G,q){(0,A.Gd)().addBreadcrumb(G,q)}function y(G,q){(0,A.Gd)().setContext(G,q)}function l(G){(0,A.Gd)().setExtras(G)}function f(G,q){(0,A.Gd)().setExtra(G,q)}function T(G){(0,A.Gd)().setTags(G)}function m(G,q){(0,A.Gd)().setTag(G,q)}function C(G){(0,A.Gd)().setUser(G)}function v(...G){const q=(0,A.Gd)();if(G.length===2){const[ft,ht]=G;return ft?q.withScope(()=>(q.getStackTop().scope=ft,ht(ft))):q.withScope(ht)}return q.withScope(G[0])}function N(G){return(0,A.Ok)(()=>G((0,A.aF)()))}function P(G,q){return v(ft=>(ft.setSpan(G),q(ft)))}function W(G,q){return(0,A.Gd)().startTransaction(D({},G),q)}function I(G,q){const ft=S(),ht=L();if(!ht)DEBUG_BUILD&&logger.warn("Cannot capture check-in. No client defined.");else if(!ht.captureCheckIn)DEBUG_BUILD&&logger.warn("Cannot capture check-in. Client does not support sending check-ins.");else return ht.captureCheckIn(G,q,ft);return uuid4()}function X(G,q,ft){const ht=I({monitorSlug:G,status:"in_progress"},ft),mt=timestampInSeconds();function pt(Ht){I({monitorSlug:G,status:Ht,checkInId:ht,duration:timestampInSeconds()-mt})}let Rt;try{Rt=q()}catch(Ht){throw pt("error"),Ht}return isThenable(Rt)?Promise.resolve(Rt).then(()=>{pt("ok")},()=>{pt("error")}):pt("ok"),Rt}function H(G){return St(this,null,function*(){const q=L();return q?q.flush(G):(U.X&&x.kg.warn("Cannot flush events. No client defined."),Promise.resolve(!1))})}function j(G){return St(this,null,function*(){const q=L();return q?q.close(G):(U.X&&x.kg.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))})}function Y(){return(0,A.Gd)().lastEventId()}function L(){return(0,A.Gd)().getClient()}function z(){return!!L()}function S(){return(0,A.Gd)().getScope()}function et(G){const q=L(),ft=(0,A.aF)(),ht=S(),{release:mt,environment:pt=B.J}=q&&q.getOptions()||{},{userAgent:Rt}=R.n2.navigator||{},Ht=(0,w.Hv)(D(D({release:mt,environment:pt,user:ht.getUser()||ft.getUser()},Rt&&{userAgent:Rt}),G)),Jt=ft.getSession();return Jt&&Jt.status==="ok"&&(0,w.CT)(Jt,{status:"exited"}),nt(),ft.setSession(Ht),ht.setSession(Ht),Ht}function nt(){const G=(0,A.aF)(),q=S(),ft=q.getSession()||G.getSession();ft&&(0,w.RJ)(ft),Q(),G.setSession(),q.setSession()}function Q(){const G=(0,A.aF)(),q=S(),ft=L(),ht=q.getSession()||G.getSession();ht&&ft&&ft.captureSession&&ft.captureSession(ht)}function it(G=!1){if(G){nt();return}Q()}},866202:function(tt,F,a){"use strict";a.d(F,{Gd:function(){return T},Ok:function(){return P},Xb:function(){return y},aF:function(){return m},cu:function(){return l},pj:function(){return f},vi:function(){return I}});var x=a(491392),R=a(382729),B=a(298304),U=a(926836),A=a(503263),w=a(371908),O=a(433883),g=a(101957),_=a(348163),d=a(925151);const E=parseFloat(d.J),k=100;class y{constructor(j,Y,L,z=E){this._version=z;let S;Y?S=Y:(S=new g.sX,S.setClient(j));let et;L?et=L:(et=new g.sX,et.setClient(j)),this._stack=[{scope:S}],j&&this.bindClient(j),this._isolationScope=et}isOlderThan(j){return this._version<j}bindClient(j){const Y=this.getStackTop();Y.client=j,Y.scope.setClient(j),j&&j.setupIntegrations&&j.setupIntegrations()}pushScope(){const j=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:j}),j}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(j){const Y=this.pushScope();let L;try{L=j(Y)}catch(z){throw this.popScope(),z}return(0,x.J8)(L)?L.then(z=>(this.popScope(),z),z=>{throw this.popScope(),z}):(this.popScope(),L)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(j,Y){const L=this._lastEventId=Y&&Y.event_id?Y.event_id:(0,R.DM)(),z=new Error("Sentry syntheticException");return this.getScope().captureException(j,ct(D({originalException:j,syntheticException:z},Y),{event_id:L})),L}captureMessage(j,Y,L){const z=this._lastEventId=L&&L.event_id?L.event_id:(0,R.DM)(),S=new Error(j);return this.getScope().captureMessage(j,Y,ct(D({originalException:j,syntheticException:S},L),{event_id:z})),z}captureEvent(j,Y){const L=Y&&Y.event_id?Y.event_id:(0,R.DM)();return j.type||(this._lastEventId=L),this.getScope().captureEvent(j,ct(D({},Y),{event_id:L})),L}lastEventId(){return this._lastEventId}addBreadcrumb(j,Y){const{scope:L,client:z}=this.getStackTop();if(!z)return;const{beforeBreadcrumb:S=null,maxBreadcrumbs:et=k}=z.getOptions&&z.getOptions()||{};if(et<=0)return;const nt=(0,B.yW)(),Q=D({timestamp:nt},j),it=S?(0,U.Cf)(()=>S(Q,Y)):Q;it!==null&&(z.emit&&z.emit("beforeAddBreadcrumb",it,Y),L.addBreadcrumb(it,et))}setUser(j){this.getScope().setUser(j),this.getIsolationScope().setUser(j)}setTags(j){this.getScope().setTags(j),this.getIsolationScope().setTags(j)}setExtras(j){this.getScope().setExtras(j),this.getIsolationScope().setExtras(j)}setTag(j,Y){this.getScope().setTag(j,Y),this.getIsolationScope().setTag(j,Y)}setExtra(j,Y){this.getScope().setExtra(j,Y),this.getIsolationScope().setExtra(j,Y)}setContext(j,Y){this.getScope().setContext(j,Y),this.getIsolationScope().setContext(j,Y)}configureScope(j){const{scope:Y,client:L}=this.getStackTop();L&&j(Y)}run(j){const Y=f(this);try{j(this)}finally{f(Y)}}getIntegration(j){const Y=this.getClient();if(!Y)return null;try{return Y.getIntegration(j)}catch(L){return O.X&&U.kg.warn(`Cannot retrieve integration ${j.id} from the current Hub`),null}}startTransaction(j,Y){const L=this._callExtensionMethod("startTransaction",j,Y);return O.X&&!L&&(this.getClient()?U.kg.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):U.kg.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),L}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(j=!1){if(j)return this.endSession();this._sendSessionUpdate()}endSession(){const Y=this.getStackTop().scope,L=Y.getSession();L&&(0,_.RJ)(L),this._sendSessionUpdate(),Y.setSession()}startSession(j){const{scope:Y,client:L}=this.getStackTop(),{release:z,environment:S=w.J}=L&&L.getOptions()||{},{userAgent:et}=A.n2.navigator||{},nt=(0,_.Hv)(D(D({release:z,environment:S,user:Y.getUser()},et&&{userAgent:et}),j)),Q=Y.getSession&&Y.getSession();return Q&&Q.status==="ok"&&(0,_.CT)(Q,{status:"exited"}),this.endSession(),Y.setSession(nt),nt}shouldSendDefaultPii(){const j=this.getClient(),Y=j&&j.getOptions();return!!(Y&&Y.sendDefaultPii)}_sendSessionUpdate(){const{scope:j,client:Y}=this.getStackTop(),L=j.getSession();L&&Y&&Y.captureSession&&Y.captureSession(L)}_callExtensionMethod(j,...Y){const z=l().__SENTRY__;if(z&&z.extensions&&typeof z.extensions[j]=="function")return z.extensions[j].apply(this,Y);O.X&&U.kg.warn(`Extension method ${j} couldn't be found, doing nothing.`)}}function l(){return A.n2.__SENTRY__=A.n2.__SENTRY__||{extensions:{},hub:void 0},A.n2}function f(H){const j=l(),Y=I(j);return X(j,H),Y}function T(){const H=l();if(H.__SENTRY__&&H.__SENTRY__.acs){const j=H.__SENTRY__.acs.getCurrentHub();if(j)return j}return C(H)}function m(){return T().getIsolationScope()}function C(H=l()){return(!W(H)||I(H).isOlderThan(E))&&X(H,new y),I(H)}function v(H,j=C()){if(!W(H)||I(H).isOlderThan(E)){const Y=j.getClient(),L=j.getScope(),z=j.getIsolationScope();X(H,new y(Y,L.clone(),z.clone()))}}function N(H){const j=l();j.__SENTRY__=j.__SENTRY__||{},j.__SENTRY__.acs=H}function P(H,j={}){const Y=l();return Y.__SENTRY__&&Y.__SENTRY__.acs?Y.__SENTRY__.acs.runWithAsyncContext(H,j):H()}function W(H){return!!(H&&H.__SENTRY__&&H.__SENTRY__.hub)}function I(H){return(0,A.YO)("hub",()=>new y,H)}function X(H,j){if(!H)return!1;const Y=H.__SENTRY__=H.__SENTRY__||{};return Y.hub=j,!0}},44530:function(tt,F,a){"use strict";a.d(F,{M5:function(){return y},RN:function(){return f},_I:function(){return T},m7:function(){return k},m8:function(){return _},q4:function(){return d},uf:function(){return E}});var x=a(382729),R=a(926836),B=a(433883),U=a(371792),A=a(653639),w=a(866202);const O=[];function g(m){const C={};return m.forEach(v=>{const{name:N}=v,P=C[N];P&&!P.isDefaultInstance&&v.isDefaultInstance||(C[N]=v)}),Object.keys(C).map(v=>C[v])}function _(m){const C=m.defaultIntegrations||[],v=m.integrations;C.forEach(I=>{I.isDefaultInstance=!0});let N;Array.isArray(v)?N=[...C,...v]:typeof v=="function"?N=(0,x.lE)(v(C)):N=C;const P=g(N),W=l(P,I=>I.name==="Debug");if(W!==-1){const[I]=P.splice(W,1);P.push(I)}return P}function d(m,C){const v={};return C.forEach(N=>{N&&k(m,N,v)}),v}function E(m,C){for(const v of C)v&&v.afterAllSetup&&v.afterAllSetup(m)}function k(m,C,v){if(v[C.name]){B.X&&R.kg.log(`Integration skipped because it was already installed: ${C.name}`);return}if(v[C.name]=C,O.indexOf(C.name)===-1&&(C.setupOnce(U.cc,w.Gd),O.push(C.name)),C.setup&&typeof C.setup=="function"&&C.setup(m),m.on&&typeof C.preprocessEvent=="function"){const N=C.preprocessEvent.bind(C);m.on("preprocessEvent",(P,W)=>N(P,W,m))}if(m.addEventProcessor&&typeof C.processEvent=="function"){const N=C.processEvent.bind(C),P=Object.assign((W,I)=>N(W,I,m),{id:C.name});m.addEventProcessor(P)}B.X&&R.kg.log(`Integration installed: ${C.name}`)}function y(m){const C=(0,A.s3)();if(!C||!C.addIntegration){B.X&&R.kg.warn(`Cannot add integration "${m.name}" because no SDK Client is available.`);return}C.addIntegration(m)}function l(m,C){for(let v=0;v<m.length;v++)if(C(m[v])===!0)return v;return-1}function f(m,C){return Object.assign(function(...N){return C(...N)},{id:m})}function T(m){return m}},538958:function(tt,F,a){"use strict";a.d(F,{C:function(){return g},c:function(){return _}});var x=a(220886),R=a(653639),B=a(44530);let U;const A="FunctionToString",w=new WeakMap,O=()=>({name:A,setupOnce(){U=Function.prototype.toString;try{Function.prototype.toString=function(...d){const E=(0,x.HK)(this),k=w.has((0,R.s3)())&&E!==void 0?E:this;return U.apply(k,d)}}catch(d){}},setup(d){w.set(d,!0)}}),g=(0,B._I)(O),_=(0,B.RN)(A,g)},170453:function(tt,F,a){"use strict";a.d(F,{Q:function(){return E},S:function(){return d}});var x=a(926836),R=a(382729),B=a(654071),U=a(433883),A=a(44530);const w=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],O=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],g="InboundFilters",_=(W={})=>({name:g,setupOnce(){},processEvent(I,X,H){const j=H.getOptions(),Y=k(W,j);return y(I,Y)?null:I}}),d=(0,A._I)(_),E=(0,A.RN)(g,d);function k(W={},I={}){return{allowUrls:[...W.allowUrls||[],...I.allowUrls||[]],denyUrls:[...W.denyUrls||[],...I.denyUrls||[]],ignoreErrors:[...W.ignoreErrors||[],...I.ignoreErrors||[],...W.disableErrorDefaults?[]:w],ignoreTransactions:[...W.ignoreTransactions||[],...I.ignoreTransactions||[],...W.disableTransactionDefaults?[]:O],ignoreInternal:W.ignoreInternal!==void 0?W.ignoreInternal:!0}}function y(W,I){return I.ignoreInternal&&v(W)?(U.X&&x.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,R.jH)(W)}`),!0):l(W,I.ignoreErrors)?(U.X&&x.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,R.jH)(W)}`),!0):f(W,I.ignoreTransactions)?(U.X&&x.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,R.jH)(W)}`),!0):T(W,I.denyUrls)?(U.X&&x.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,R.jH)(W)}.
Url: ${P(W)}`),!0):m(W,I.allowUrls)?!1:(U.X&&x.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,R.jH)(W)}.
Url: ${P(W)}`),!0)}function l(W,I){return W.type||!I||!I.length?!1:C(W).some(X=>(0,B.U0)(X,I))}function f(W,I){if(W.type!=="transaction"||!I||!I.length)return!1;const X=W.transaction;return X?(0,B.U0)(X,I):!1}function T(W,I){if(!I||!I.length)return!1;const X=P(W);return X?(0,B.U0)(X,I):!1}function m(W,I){if(!I||!I.length)return!0;const X=P(W);return X?(0,B.U0)(X,I):!0}function C(W){const I=[];W.message&&I.push(W.message);let X;try{X=W.exception.values[W.exception.values.length-1]}catch(H){}return X&&X.value&&(I.push(X.value),X.type&&I.push(`${X.type}: ${X.value}`)),U.X&&I.length===0&&x.kg.error(`Could not extract message for event ${(0,R.jH)(W)}`),I}function v(W){try{return W.exception.values[0].type==="SentryError"}catch(I){}return!1}function N(W=[]){for(let I=W.length-1;I>=0;I--){const X=W[I];if(X&&X.filename!=="<anonymous>"&&X.filename!=="[native code]")return X.filename||null}return null}function P(W){try{let I;try{I=W.exception.values[0].stacktrace.frames}catch(X){}return I?N(I):null}catch(I){return U.X&&x.kg.error(`Cannot extract url for event ${(0,R.jH)(W)}`),null}}},709995:function(tt,F,a){"use strict";a.d(F,{JM:function(){return x},RF:function(){return O},X7:function(){return A},gK:function(){return w},g_:function(){return U},is:function(){return B},uG:function(){return R}});const x="c",R="g",B="s",U="d",A=/[^a-zA-Z0-9_/.-]+/g,w=/[^\w\d\s_:/@.{}[\]$-]+/g,O=5e3,g=1e4,_=1e4},473979:function(tt,F,a){"use strict";a.d(F,{Bg:function(){return w},Ic:function(){return B},M:function(){return U},uv:function(){return A}});var x=a(220886),R=a(709995);function B(O,g,_,d){const E=Object.entries((0,x.Jr)(d)).sort((k,y)=>k[0].localeCompare(y[0]));return`${O}${g}${_}${E}`}function U(O){let g=0;for(let _=0;_<O.length;_++){const d=O.charCodeAt(_);g=(g<<5)-g+d,g&=g}return g>>>0}function A(O){let g="";for(const _ of O){const d=Object.entries(_.tags),E=d.length>0?`|#${d.map(([k,y])=>`${k}:${y}`).join(",")}`:"";g+=`${_.name}@${_.unit}:${_.metric}|${_.metricType}${E}|T${_.timestamp}
`}return g}function w(O){const g={};for(const _ in O)if(Object.prototype.hasOwnProperty.call(O,_)){const d=_.replace(R.X7,"_");g[d]=String(O[_]).replace(R.gK,"")}return g}},101957:function(tt,F,a){"use strict";a.d(F,{lW:function(){return E},sX:function(){return d}});var x=a(491392),R=a(298304),B=a(382729),U=a(926836),A=a(371792),w=a(348163),O=a(754731);const g=100;let _;class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=y()}static clone(f){return f?f.clone():new d}clone(){const f=new d;return f._breadcrumbs=[...this._breadcrumbs],f._tags=D({},this._tags),f._extra=D({},this._extra),f._contexts=D({},this._contexts),f._user=this._user,f._level=this._level,f._span=this._span,f._session=this._session,f._transactionName=this._transactionName,f._fingerprint=this._fingerprint,f._eventProcessors=[...this._eventProcessors],f._requestSession=this._requestSession,f._attachments=[...this._attachments],f._sdkProcessingMetadata=D({},this._sdkProcessingMetadata),f._propagationContext=D({},this._propagationContext),f._client=this._client,f}setClient(f){this._client=f}getClient(){return this._client}addScopeListener(f){this._scopeListeners.push(f)}addEventProcessor(f){return this._eventProcessors.push(f),this}setUser(f){return this._user=f||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&(0,w.CT)(this._session,{user:f}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(f){return this._requestSession=f,this}setTags(f){return this._tags=D(D({},this._tags),f),this._notifyScopeListeners(),this}setTag(f,T){return this._tags=ct(D({},this._tags),{[f]:T}),this._notifyScopeListeners(),this}setExtras(f){return this._extra=D(D({},this._extra),f),this._notifyScopeListeners(),this}setExtra(f,T){return this._extra=ct(D({},this._extra),{[f]:T}),this._notifyScopeListeners(),this}setFingerprint(f){return this._fingerprint=f,this._notifyScopeListeners(),this}setLevel(f){return this._level=f,this._notifyScopeListeners(),this}setTransactionName(f){return this._transactionName=f,this._notifyScopeListeners(),this}setContext(f,T){return T===null?delete this._contexts[f]:this._contexts[f]=T,this._notifyScopeListeners(),this}setSpan(f){return this._span=f,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const f=this._span;return f&&f.transaction}setSession(f){return f?this._session=f:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(f){if(!f)return this;const T=typeof f=="function"?f(this):f;if(T instanceof d){const m=T.getScopeData();this._tags=D(D({},this._tags),m.tags),this._extra=D(D({},this._extra),m.extra),this._contexts=D(D({},this._contexts),m.contexts),m.user&&Object.keys(m.user).length&&(this._user=m.user),m.level&&(this._level=m.level),m.fingerprint.length&&(this._fingerprint=m.fingerprint),T.getRequestSession()&&(this._requestSession=T.getRequestSession()),m.propagationContext&&(this._propagationContext=m.propagationContext)}else if((0,x.PO)(T)){const m=f;this._tags=D(D({},this._tags),m.tags),this._extra=D(D({},this._extra),m.extra),this._contexts=D(D({},this._contexts),m.contexts),m.user&&(this._user=m.user),m.level&&(this._level=m.level),m.fingerprint&&(this._fingerprint=m.fingerprint),m.requestSession&&(this._requestSession=m.requestSession),m.propagationContext&&(this._propagationContext=m.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=y(),this}addBreadcrumb(f,T){const m=typeof T=="number"?T:g;if(m<=0)return this;const C=D({timestamp:(0,R.yW)()},f),v=this._breadcrumbs;return v.push(C),this._breadcrumbs=v.length>m?v.slice(-m):v,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(f){return this._attachments.push(f),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:f,_attachments:T,_contexts:m,_tags:C,_extra:v,_user:N,_level:P,_fingerprint:W,_eventProcessors:I,_propagationContext:X,_sdkProcessingMetadata:H,_transactionName:j,_span:Y}=this;return{breadcrumbs:f,attachments:T,contexts:m,tags:C,extra:v,user:N,level:P,fingerprint:W||[],eventProcessors:I,propagationContext:X,sdkProcessingMetadata:H,transactionName:j,span:Y}}applyToEvent(f,T={},m=[]){(0,O.gi)(f,this.getScopeData());const C=[...m,...(0,A.fH)(),...this._eventProcessors];return(0,A.RP)(C,f,T)}setSDKProcessingMetadata(f){return this._sdkProcessingMetadata=D(D({},this._sdkProcessingMetadata),f),this}setPropagationContext(f){return this._propagationContext=f,this}getPropagationContext(){return this._propagationContext}captureException(f,T){const m=T&&T.event_id?T.event_id:(0,B.DM)();if(!this._client)return U.kg.warn("No client configured on scope - will not capture exception!"),m;const C=new Error("Sentry syntheticException");return this._client.captureException(f,ct(D({originalException:f,syntheticException:C},T),{event_id:m}),this),m}captureMessage(f,T,m){const C=m&&m.event_id?m.event_id:(0,B.DM)();if(!this._client)return U.kg.warn("No client configured on scope - will not capture message!"),C;const v=new Error(f);return this._client.captureMessage(f,T,ct(D({originalException:f,syntheticException:v},m),{event_id:C}),this),C}captureEvent(f,T){const m=T&&T.event_id?T.event_id:(0,B.DM)();return this._client?(this._client.captureEvent(f,ct(D({},T),{event_id:m}),this),m):(U.kg.warn("No client configured on scope - will not capture event!"),m)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(f=>{f(this)}),this._notifyingListeners=!1)}}function E(){return _||(_=new d),_}function k(l){_=l}function y(){return{traceId:(0,B.DM)(),spanId:(0,B.DM)().substring(16)}}},110753:function(tt,F,a){"use strict";a.d(F,{K:function(){return w},M:function(){return A}});var x=a(926836),R=a(433883),B=a(653639),U=a(866202);function A(g,_){_.debug===!0&&(R.X?x.kg.enable():(0,x.Cf)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,B.nZ)().update(_.initialScope);const E=new g(_);w(E),O(E)}function w(g){const d=(0,U.Gd)().getStackTop();d.client=g,d.scope.setClient(g)}function O(g){g.init?g.init():g.setupIntegrations&&g.setupIntegrations()}},348163:function(tt,F,a){"use strict";a.d(F,{CT:function(){return A},Hv:function(){return U},RJ:function(){return w}});var x=a(298304),R=a(382729),B=a(220886);function U(g){const _=(0,x.ph)(),d={sid:(0,R.DM)(),init:!0,timestamp:_,started:_,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>O(d)};return g&&A(d,g),d}function A(g,_={}){if(_.user&&(!g.ipAddress&&_.user.ip_address&&(g.ipAddress=_.user.ip_address),!g.did&&!_.did&&(g.did=_.user.id||_.user.email||_.user.username)),g.timestamp=_.timestamp||(0,x.ph)(),_.abnormal_mechanism&&(g.abnormal_mechanism=_.abnormal_mechanism),_.ignoreDuration&&(g.ignoreDuration=_.ignoreDuration),_.sid&&(g.sid=_.sid.length===32?_.sid:(0,R.DM)()),_.init!==void 0&&(g.init=_.init),!g.did&&_.did&&(g.did=`${_.did}`),typeof _.started=="number"&&(g.started=_.started),g.ignoreDuration)g.duration=void 0;else if(typeof _.duration=="number")g.duration=_.duration;else{const d=g.timestamp-g.started;g.duration=d>=0?d:0}_.release&&(g.release=_.release),_.environment&&(g.environment=_.environment),!g.ipAddress&&_.ipAddress&&(g.ipAddress=_.ipAddress),!g.userAgent&&_.userAgent&&(g.userAgent=_.userAgent),typeof _.errors=="number"&&(g.errors=_.errors),_.status&&(g.status=_.status)}function w(g,_){let d={};_?d={status:_}:g.status==="ok"&&(d={status:"exited"}),A(g,d)}function O(g){return(0,B.Jr)({sid:`${g.sid}`,init:g.init,started:new Date(g.started*1e3).toISOString(),timestamp:new Date(g.timestamp*1e3).toISOString(),status:g.status,errors:g.errors,did:typeof g.did=="number"||typeof g.did=="string"?`${g.did}`:void 0,duration:g.duration,abnormal_mechanism:g.abnormal_mechanism,attrs:{release:g.release,environment:g.environment,ip_address:g.ipAddress,user_agent:g.userAgent}})}},956474:function(tt,F,a){"use strict";a.d(F,{_:function(){return w},j:function(){return O}});var x=a(220886),R=a(371908),B=a(653639),U=a(365516),A=a(114184);function w(g,_,d){const E=_.getOptions(),{publicKey:k}=_.getDsn()||{},{segment:y}=d&&d.getUser()||{},l=(0,x.Jr)({environment:E.environment||R.J,release:E.release,user_segment:y,public_key:k,trace_id:g});return _.emit&&_.emit("createDsc",l),l}function O(g){const _=(0,B.s3)();if(!_)return{};const d=w((0,A.XU)(g).trace_id||"",_,(0,B.nZ)()),E=(0,U.G)(g);if(!E)return d;const k=E&&E._frozenDynamicSamplingContext;if(k)return k;const{sampleRate:y,source:l}=E.metadata;y!=null&&(d.sample_rate=`${y}`);const f=(0,A.XU)(E);return l&&l!=="url"&&(d.transaction=f.description),d.sampled=String((0,A.Tt)(E)),_.emit&&_.emit("createDsc",d),d}},656716:function(tt,F,a){"use strict";a.d(F,{q:()=>_});var x=a("904749"),R=a("318814");function B(E){const k=[];function y(){return E===void 0||k.length<E}function l(m){return k.splice(k.indexOf(m),1)[0]}function f(m){if(!y())return(0,R.$2)(new x.b("Not adding Promise because buffer limit was reached."));const C=m();return k.indexOf(C)===-1&&k.push(C),C.then(()=>l(C)).then(null,()=>l(C).then(null,()=>{})),C}function T(m){return new R.cW((C,v)=>{let N=k.length;if(!N)return C(!0);const P=setTimeout(()=>{m&&m>0&&C(!1)},m);k.forEach(W=>{(0,R.WD)(W).then(()=>{--N||(clearTimeout(P),C(!0))},v)})})}return{$:k,add:f,drain:T}}var U=a("616641"),A=a("895240"),w=a("926836"),O=a("433883");const g=30;function _(E,k,y=B(E.bufferSize||g)){let l={};const f=m=>y.drain(m);function T(m){const C=[];if((0,U.gv)(m,(W,I)=>{const X=(0,U.mL)(I);if((0,A.Q)(l,X)){const H=d(W,I);E.recordDroppedEvent("ratelimit_backoff",X,H)}else C.push(W)}),C.length===0)return(0,R.WD)();const v=(0,U.Jd)(m[0],C),N=W=>{(0,U.gv)(v,(I,X)=>{const H=d(I,X);E.recordDroppedEvent(W,(0,U.mL)(X),H)})},P=()=>k({body:(0,U.V$)(v,E.textEncoder)}).then(W=>(W.statusCode!==void 0&&(W.statusCode<200||W.statusCode>=300)&&O.X&&w.kg.warn(`Sentry responded with status code ${W.statusCode} to sent event.`),l=(0,A.WG)(l,W),W),W=>{throw N("network_error"),W});return y.add(P).then(W=>W,W=>{if(W instanceof x.b)return O.X&&w.kg.error("Skipped sending event because buffer is full."),N("queue_overflow"),(0,R.WD)();throw W})}return T.__sentry__baseTransport__=!0,{send:T,flush:f}}function d(E,k){if(!(k!=="event"&&k!=="transaction"))return Array.isArray(E)?E[1]:void 0}},754731:function(tt,F,a){"use strict";a.d(F,{gi:function(){return w},yo:function(){return O}});var x=a(220886),R=a(382729),B=a(956474),U=a(365516),A=a(114184);function w(l,f){const{fingerprint:T,span:m,breadcrumbs:C,sdkProcessingMetadata:v}=f;_(l,f),m&&k(l,m),y(l,T),d(l,C),E(l,v)}function O(l,f){const{extra:T,tags:m,user:C,contexts:v,level:N,sdkProcessingMetadata:P,breadcrumbs:W,fingerprint:I,eventProcessors:X,attachments:H,propagationContext:j,transactionName:Y,span:L}=f;g(l,"extra",T),g(l,"tags",m),g(l,"user",C),g(l,"contexts",v),g(l,"sdkProcessingMetadata",P),N&&(l.level=N),Y&&(l.transactionName=Y),L&&(l.span=L),W.length&&(l.breadcrumbs=[...l.breadcrumbs,...W]),I.length&&(l.fingerprint=[...l.fingerprint,...I]),X.length&&(l.eventProcessors=[...l.eventProcessors,...X]),H.length&&(l.attachments=[...l.attachments,...H]),l.propagationContext=D(D({},l.propagationContext),j)}function g(l,f,T){if(T&&Object.keys(T).length){l[f]=D({},l[f]);for(const m in T)Object.prototype.hasOwnProperty.call(T,m)&&(l[f][m]=T[m])}}function _(l,f){const{extra:T,tags:m,user:C,contexts:v,level:N,transactionName:P}=f,W=(0,x.Jr)(T);W&&Object.keys(W).length&&(l.extra=D(D({},W),l.extra));const I=(0,x.Jr)(m);I&&Object.keys(I).length&&(l.tags=D(D({},I),l.tags));const X=(0,x.Jr)(C);X&&Object.keys(X).length&&(l.user=D(D({},X),l.user));const H=(0,x.Jr)(v);H&&Object.keys(H).length&&(l.contexts=D(D({},H),l.contexts)),N&&(l.level=N),P&&(l.transaction=P)}function d(l,f){const T=[...l.breadcrumbs||[],...f];l.breadcrumbs=T.length?T:void 0}function E(l,f){l.sdkProcessingMetadata=D(D({},l.sdkProcessingMetadata),f)}function k(l,f){l.contexts=D({trace:(0,A.wy)(f)},l.contexts);const T=(0,U.G)(f);if(T){l.sdkProcessingMetadata=D({dynamicSamplingContext:(0,B.j)(f)},l.sdkProcessingMetadata);const m=(0,A.XU)(T).description;m&&(l.tags=D({transaction:m},l.tags))}}function y(l,f){l.fingerprint=l.fingerprint?(0,R.lE)(l.fingerprint):[],f&&(l.fingerprint=l.fingerprint.concat(f)),l.fingerprint&&!l.fingerprint.length&&delete l.fingerprint}},365516:function(tt,F,a){"use strict";a.d(F,{G:function(){return x}});function x(R){return R.transaction}},463590:function(tt,F,a){"use strict";a.d(F,{R:function(){return E},U0:function(){return v}});var x=a(382729),R=a(298304),B=a(654071),U=a(503263),A=a(898709),w=a(371908),O=a(371792),g=a(101957),_=a(754731),d=a(114184);function E(I,X,H,j,Y,L){const{normalizeDepth:z=3,normalizeMaxBreadth:S=1e3}=I,et=ct(D({},X),{event_id:X.event_id||H.event_id||(0,x.DM)(),timestamp:X.timestamp||(0,R.yW)()}),nt=H.integrations||I.integrations.map(mt=>mt.name);k(et,I),T(et,nt),X.type===void 0&&l(et,I.stackParser);const Q=C(j,H.captureContext);H.mechanism&&(0,x.EG)(et,H.mechanism);const it=Y&&Y.getEventProcessors?Y.getEventProcessors():[],G=(0,g.lW)().getScopeData();if(L){const mt=L.getScopeData();(0,_.yo)(G,mt)}if(Q){const mt=Q.getScopeData();(0,_.yo)(G,mt)}const q=[...H.attachments||[],...G.attachments];q.length&&(H.attachments=q),(0,_.gi)(et,G);const ft=[...it,...(0,O.fH)(),...G.eventProcessors];return(0,O.RP)(ft,et,H).then(mt=>(mt&&f(mt),typeof z=="number"&&z>0?m(mt,z,S):mt))}function k(I,X){const{environment:H,release:j,dist:Y,maxValueLength:L=250}=X;"environment"in I||(I.environment="environment"in X?H:w.J),I.release===void 0&&j!==void 0&&(I.release=j),I.dist===void 0&&Y!==void 0&&(I.dist=Y),I.message&&(I.message=(0,B.$G)(I.message,L));const z=I.exception&&I.exception.values&&I.exception.values[0];z&&z.value&&(z.value=(0,B.$G)(z.value,L));const S=I.request;S&&S.url&&(S.url=(0,B.$G)(S.url,L))}const y=new WeakMap;function l(I,X){const H=U.n2._sentryDebugIds;if(!H)return;let j;const Y=y.get(X);Y?j=Y:(j=new Map,y.set(X,j));const L=Object.keys(H).reduce((z,S)=>{let et;const nt=j.get(S);nt?et=nt:(et=X(S),j.set(S,et));for(let Q=et.length-1;Q>=0;Q--){const it=et[Q];if(it.filename){z[it.filename]=H[S];break}}return z},{});try{I.exception.values.forEach(z=>{z.stacktrace.frames.forEach(S=>{S.filename&&(S.debug_id=L[S.filename])})})}catch(z){}}function f(I){const X={};try{I.exception.values.forEach(j=>{j.stacktrace.frames.forEach(Y=>{Y.debug_id&&(Y.abs_path?X[Y.abs_path]=Y.debug_id:Y.filename&&(X[Y.filename]=Y.debug_id),delete Y.debug_id)})})}catch(j){}if(Object.keys(X).length===0)return;I.debug_meta=I.debug_meta||{},I.debug_meta.images=I.debug_meta.images||[];const H=I.debug_meta.images;Object.keys(X).forEach(j=>{H.push({type:"sourcemap",code_file:j,debug_id:X[j]})})}function T(I,X){X.length>0&&(I.sdk=I.sdk||{},I.sdk.integrations=[...I.sdk.integrations||[],...X])}function m(I,X,H){if(!I)return null;const j=D(D(D(D(D({},I),I.breadcrumbs&&{breadcrumbs:I.breadcrumbs.map(Y=>D(D({},Y),Y.data&&{data:(0,A.Fv)(Y.data,X,H)}))}),I.user&&{user:(0,A.Fv)(I.user,X,H)}),I.contexts&&{contexts:(0,A.Fv)(I.contexts,X,H)}),I.extra&&{extra:(0,A.Fv)(I.extra,X,H)});return I.contexts&&I.contexts.trace&&j.contexts&&(j.contexts.trace=I.contexts.trace,I.contexts.trace.data&&(j.contexts.trace.data=(0,A.Fv)(I.contexts.trace.data,X,H))),I.spans&&(j.spans=I.spans.map(Y=>{const L=(0,d.XU)(Y).data;return L&&(Y.data=(0,A.Fv)(L,X,H)),Y})),j}function C(I,X){if(!X)return I;const H=I?I.clone():new g.sX;return H.update(X),H}function v(I){if(I)return N(I)?{captureContext:I}:W(I)?{captureContext:I}:I}function N(I){return I instanceof g.sX||typeof I=="function"}const P=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function W(I){return Object.keys(I).some(X=>P.includes(X))}},246063:function(tt,F,a){"use strict";a.d(F,{V:function(){return R}});var x=a(925151);function R(B,U,A=[U],w="npm"){const O=B._metadata||{};O.sdk||(O.sdk={name:`sentry.javascript.${U}`,packages:A.map(g=>({name:`${w}:@sentry/${g}`,version:x.J})),version:x.J}),B._metadata=O}},114184:function(tt,F,a){"use strict";a.d(F,{$k:function(){return g},Hb:function(){return O},Tt:function(){return k},XU:function(){return d},i0:function(){return A},ve:function(){return U},wy:function(){return w}});var x=a(220886),R=a(639102),B=a(298304);const U=0,A=1;function w(y){const{spanId:l,traceId:f}=y.spanContext(),{data:T,op:m,parent_span_id:C,status:v,tags:N,origin:P}=d(y);return(0,x.Jr)({data:T,op:m,parent_span_id:C,span_id:l,status:v,tags:N,trace_id:f,origin:P})}function O(y){const{traceId:l,spanId:f}=y.spanContext(),T=k(y);return(0,R.$p)(l,f,T)}function g(y){return typeof y=="number"?_(y):Array.isArray(y)?y[0]+y[1]/1e9:y instanceof Date?_(y.getTime()):(0,B.ph)()}function _(y){return y>9999999999?y/1e3:y}function d(y){return E(y)?y.getSpanJSON():typeof y.toJSON=="function"?y.toJSON():{}}function E(y){return typeof y.getSpanJSON=="function"}function k(y){const{traceFlags:l}=y.spanContext();return!!(l&A)}},925151:function(tt,F,a){"use strict";a.d(F,{J:function(){return x}});const x="7.105.0"},816352:function(tt,F,a){"use strict";a.d(F,{Z:function(){return B}});var x=a(491392),R=a(654071);function B(g,_,d=250,E,k,y,l){if(!y.exception||!y.exception.values||!l||!(0,x.V9)(l.originalException,Error))return;const f=y.exception.values.length>0?y.exception.values[y.exception.values.length-1]:void 0;f&&(y.exception.values=O(U(g,_,k,l.originalException,E,y.exception.values,f,0),d))}function U(g,_,d,E,k,y,l,f){if(y.length>=d+1)return y;let T=[...y];if((0,x.V9)(E[k],Error)){A(l,f);const m=g(_,E[k]),C=T.length;w(m,k,C,f),T=U(g,_,d,E[k],k,[m,...T],m,C)}return Array.isArray(E.errors)&&E.errors.forEach((m,C)=>{if((0,x.V9)(m,Error)){A(l,f);const v=g(_,m),N=T.length;w(v,`errors[${C}]`,N,f),T=U(g,_,d,m,k,[v,...T],v,N)}}),T}function A(g,_){g.mechanism=g.mechanism||{type:"generic",handled:!0},g.mechanism=ct(D(D({},g.mechanism),g.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:_})}function w(g,_,d,E){g.mechanism=g.mechanism||{type:"generic",handled:!0},g.mechanism=ct(D({},g.mechanism),{type:"chained",source:_,exception_id:d,parent_id:E})}function O(g,_){return g.map(d=>(d.value&&(d.value=(0,R.$G)(d.value,_)),d))}},516354:function(tt,F,a){"use strict";a.d(F,{EN:function(){return g},IQ:function(){return _},bU:function(){return U}});var x=a(19813),R=a(491392),B=a(926836);const U="baggage",A="sentry-",w=/^sentry-/,O=8192;function g(k){if(!(0,R.HD)(k)&&!Array.isArray(k))return;let y={};if(Array.isArray(k))y=k.reduce((f,T)=>{const m=d(T);for(const C of Object.keys(m))f[C]=m[C];return f},{});else{if(!k)return;y=d(k)}const l=Object.entries(y).reduce((f,[T,m])=>{if(T.match(w)){const C=T.slice(A.length);f[C]=m}return f},{});if(Object.keys(l).length>0)return l}function _(k){if(!k)return;const y=Object.entries(k).reduce((l,[f,T])=>(T&&(l[`${A}${f}`]=T),l),{});return E(y)}function d(k){return k.split(",").map(y=>y.split("=").map(l=>decodeURIComponent(l.trim()))).reduce((y,[l,f])=>(y[l]=f,y),{})}function E(k){if(Object.keys(k).length!==0)return Object.entries(k).reduce((y,[l,f],T)=>{const m=`${encodeURIComponent(l)}=${encodeURIComponent(f)}`,C=T===0?m:`${y},${m}`;return C.length>O?(x.X&&B.kg.warn(`Not adding key: ${l} with val: ${f} to baggage header due to exceeding baggage size limits.`),y):C},"")}},536403:function(tt,F,a){"use strict";a.d(F,{Rt:function(){return A},iY:function(){return _},l4:function(){return O},qT:function(){return g}});var x=a(491392),R=a(503263);const B=(0,R.Rf)(),U=80;function A(d,E={}){if(!d)return"<unknown>";try{let k=d;const y=5,l=[];let f=0,T=0;const m=" > ",C=m.length;let v;const N=Array.isArray(E)?E:E.keyAttrs,P=!Array.isArray(E)&&E.maxStringLength||U;for(;k&&f++<y&&(v=w(k,N),!(v==="html"||f>1&&T+l.length*C+v.length>=P));)l.push(v),T+=v.length,k=k.parentNode;return l.reverse().join(m)}catch(k){return"<unknown>"}}function w(d,E){const k=d,y=[];let l,f,T,m,C;if(!k||!k.tagName)return"";if(B.HTMLElement&&k instanceof HTMLElement&&k.dataset&&k.dataset.sentryComponent)return k.dataset.sentryComponent;y.push(k.tagName.toLowerCase());const v=E&&E.length?E.filter(P=>k.getAttribute(P)).map(P=>[P,k.getAttribute(P)]):null;if(v&&v.length)v.forEach(P=>{y.push(`[${P[0]}="${P[1]}"]`)});else if(k.id&&y.push(`#${k.id}`),l=k.className,l&&(0,x.HD)(l))for(f=l.split(/\s+/),C=0;C<f.length;C++)y.push(`.${f[C]}`);const N=["aria-label","type","name","title","alt"];for(C=0;C<N.length;C++)T=N[C],m=k.getAttribute(T),m&&y.push(`[${T}="${m}"]`);return y.join("")}function O(){try{return B.document.location.href}catch(d){return""}}function g(d){return B.document&&B.document.querySelector?B.document.querySelector(d):null}function _(d){if(!B.HTMLElement)return null;let E=d;const k=5;for(let y=0;y<k;y++){if(!E)return null;if(E instanceof HTMLElement&&E.dataset.sentryComponent)return E.dataset.sentryComponent;E=E.parentNode}return null}},19813:function(tt,F,a){"use strict";a.d(F,{X:function(){return x}});const x=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__},203879:function(tt,F,a){"use strict";a.d(F,{RA:function(){return A},U4:function(){return w},vK:function(){return _}});var x=a(19813),R=a(926836);const B=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function U(d){return d==="http"||d==="https"}function A(d,E=!1){const{host:k,path:y,pass:l,port:f,projectId:T,protocol:m,publicKey:C}=d;return`${m}://${C}${E&&l?`:${l}`:""}@${k}${f?`:${f}`:""}/${y&&`${y}/`}${T}`}function w(d){const E=B.exec(d);if(!E){(0,R.Cf)(()=>{console.error(`Invalid Sentry Dsn: ${d}`)});return}const[k,y,l="",f,T="",m]=E.slice(1);let C="",v=m;const N=v.split("/");if(N.length>1&&(C=N.slice(0,-1).join("/"),v=N.pop()),v){const P=v.match(/^\d+/);P&&(v=P[0])}return O({host:f,pass:l,path:C,projectId:v,port:T,protocol:k,publicKey:y})}function O(d){return{protocol:d.protocol,publicKey:d.publicKey||"",pass:d.pass||"",host:d.host,port:d.port||"",path:d.path||"",projectId:d.projectId}}function g(d){if(!x.X)return!0;const{port:E,projectId:k,protocol:y}=d;return["protocol","publicKey","host","projectId"].find(T=>d[T]?!1:(R.kg.error(`Invalid Sentry Dsn: ${T} missing`),!0))?!1:k.match(/^\d+$/)?U(y)?E&&isNaN(parseInt(E,10))?(R.kg.error(`Invalid Sentry Dsn: Invalid port ${E}`),!1):!0:(R.kg.error(`Invalid Sentry Dsn: Invalid protocol ${y}`),!1):(R.kg.error(`Invalid Sentry Dsn: Invalid projectId ${k}`),!1)}function _(d){const E=typeof d=="string"?w(d):O(d);if(!(!E||!g(E)))return E}},612287:function(tt,F,a){"use strict";a.d(F,{S:function(){return R},n:function(){return x}});function x(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function R(){return"npm"}},616641:function(tt,F,a){"use strict";a.d(F,{BO:function(){return A},Cd:function(){return T},HY:function(){return f},Jd:function(){return U},R:function(){return O},V$:function(){return _},f4:function(){return E},gv:function(){return w},mL:function(){return l},zQ:function(){return k}});var x=a(203879),R=a(898709),B=a(220886);function U(m,C=[]){return[m,C]}function A(m,C){const[v,N]=m;return[v,[...N,C]]}function w(m,C){const v=m[1];for(const N of v){const P=N[0].type;if(C(N,P))return!0}return!1}function O(m,C){return w(m,(v,N)=>C.includes(N))}function g(m,C){return(C||new TextEncoder).encode(m)}function _(m,C){const[v,N]=m;let P=JSON.stringify(v);function W(I){typeof P=="string"?P=typeof I=="string"?P+I:[g(P,C),I]:P.push(typeof I=="string"?g(I,C):I)}for(const I of N){const[X,H]=I;if(W(`
${JSON.stringify(X)}
`),typeof H=="string"||H instanceof Uint8Array)W(H);else{let j;try{j=JSON.stringify(H)}catch(Y){j=JSON.stringify((0,R.Fv)(H))}W(j)}}return typeof P=="string"?P:d(P)}function d(m){const C=m.reduce((P,W)=>P+W.length,0),v=new Uint8Array(C);let N=0;for(const P of m)v.set(P,N),N+=P.length;return v}function E(m,C,v){let N=typeof m=="string"?C.encode(m):m;function P(H){const j=N.subarray(0,H);return N=N.subarray(H+1),j}function W(){let H=N.indexOf(10);return H<0&&(H=N.length),JSON.parse(v.decode(P(H)))}const I=W(),X=[];for(;N.length;){const H=W(),j=typeof H.length=="number"?H.length:void 0;X.push([H,j?P(j):W()])}return[I,X]}function k(m,C){const v=typeof m.data=="string"?g(m.data,C):m.data;return[(0,B.Jr)({type:"attachment",length:v.length,filename:m.filename,content_type:m.contentType,attachment_type:m.attachmentType}),v]}const y={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"unknown"};function l(m){return y[m]}function f(m){if(!m||!m.sdk)return;const{name:C,version:v}=m.sdk;return{name:C,version:v}}function T(m,C,v,N){const P=m.sdkProcessingMetadata&&m.sdkProcessingMetadata.dynamicSamplingContext;return D(D(D({event_id:m.event_id,sent_at:new Date().toISOString()},C&&{sdk:C}),!!v&&N&&{dsn:(0,x.RA)(N)}),P&&{trace:(0,B.Jr)(D({},P))})}},904749:function(tt,F,a){"use strict";a.d(F,{b:function(){return x}});class x extends Error{constructor(B,U="warn"){super(B),this.message=B,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=U}}},181565:function(tt,F,a){"use strict";a.d(F,{D2:function(){return g},Hj:function(){return w},rK:function(){return _}});var x=a(19813),R=a(926836),B=a(730136);const U={},A={};function w(d,E){U[d]=U[d]||[],U[d].push(E)}function O(){Object.keys(U).forEach(d=>{U[d]=void 0})}function g(d,E){A[d]||(E(),A[d]=!0)}function _(d,E){const k=d&&U[d];if(k)for(const y of k)try{y(E)}catch(l){x.X&&R.kg.error(`Error while triggering instrumentation handler.
Type: ${d}
Name: ${(0,B.$P)(y)}
Error:`,l)}}},699358:function(tt,F,a){"use strict";a.d(F,{O:function(){return d}});var x=a(382729),R=a(220886),B=a(503263),U=a(181565);const A=B.n2,w=1e3;let O,g,_;function d(T){const m="dom";(0,U.Hj)(m,T),(0,U.D2)(m,E)}function E(){if(!A.document)return;const T=U.rK.bind(null,"dom"),m=l(T,!0);A.document.addEventListener("click",m,!1),A.document.addEventListener("keypress",m,!1),["EventTarget","Node"].forEach(C=>{const v=A[C]&&A[C].prototype;!v||!v.hasOwnProperty||!v.hasOwnProperty("addEventListener")||((0,R.hl)(v,"addEventListener",function(N){return function(P,W,I){if(P==="click"||P=="keypress")try{const X=this,H=X.__sentry_instrumentation_handlers__=X.__sentry_instrumentation_handlers__||{},j=H[P]=H[P]||{refCount:0};if(!j.handler){const Y=l(T);j.handler=Y,N.call(this,P,Y,I)}j.refCount++}catch(X){}return N.call(this,P,W,I)}}),(0,R.hl)(v,"removeEventListener",function(N){return function(P,W,I){if(P==="click"||P=="keypress")try{const X=this,H=X.__sentry_instrumentation_handlers__||{},j=H[P];j&&(j.refCount--,j.refCount<=0&&(N.call(this,P,j.handler,I),j.handler=void 0,delete H[P]),Object.keys(H).length===0&&delete X.__sentry_instrumentation_handlers__)}catch(X){}return N.call(this,P,W,I)}}))})}function k(T){if(T.type!==g)return!1;try{if(!T.target||T.target._sentryId!==_)return!1}catch(m){}return!0}function y(T,m){return T!=="keypress"?!1:!m||!m.tagName?!0:!(m.tagName==="INPUT"||m.tagName==="TEXTAREA"||m.isContentEditable)}function l(T,m=!1){return C=>{if(!C||C._sentryCaptured)return;const v=f(C);if(y(C.type,v))return;(0,R.xp)(C,"_sentryCaptured",!0),v&&!v._sentryId&&(0,R.xp)(v,"_sentryId",(0,x.DM)());const N=C.type==="keypress"?"input":C.type;k(C)||(T({event:C,name:N,global:m}),g=C.type,_=v?v._sentryId:void 0),clearTimeout(O),O=A.setTimeout(()=>{_=void 0,g=void 0},w)}}function f(T){try{return T.target}catch(m){return null}}},122599:function(tt,F,a){"use strict";a.d(F,{U:function(){return A}});var x=a(220886),R=a(740091),B=a(503263),U=a(181565);function A(d){const E="fetch";(0,U.Hj)(E,d),(0,U.D2)(E,w)}function w(){(0,R.t$)()&&(0,x.hl)(B.n2,"fetch",function(d){return function(...E){const{method:k,url:y}=_(E),l={args:E,fetchData:{method:k,url:y},startTimestamp:Date.now()};return(0,U.rK)("fetch",D({},l)),d.apply(B.n2,E).then(f=>{const T=ct(D({},l),{endTimestamp:Date.now(),response:f});return(0,U.rK)("fetch",T),f},f=>{const T=ct(D({},l),{endTimestamp:Date.now(),error:f});throw(0,U.rK)("fetch",T),f})}})}function O(d,E){return!!d&&typeof d=="object"&&!!d[E]}function g(d){return typeof d=="string"?d:d?O(d,"url")?d.url:d.toString?d.toString():"":""}function _(d){if(d.length===0)return{method:"GET",url:""};if(d.length===2){const[k,y]=d;return{url:g(k),method:O(y,"method")?String(y.method).toUpperCase():"GET"}}const E=d[0];return{url:g(E),method:O(E,"method")?String(E.method).toUpperCase():"GET"}}},950984:function(tt,F,a){"use strict";a.d(F,{V:function(){return U}});var x=a(503263),R=a(181565);let B=null;function U(w){const O="error";(0,R.Hj)(O,w),(0,R.D2)(O,A)}function A(){B=x.n2.onerror,x.n2.onerror=function(w,O,g,_,d){const E={column:_,error:d,line:g,msg:w,url:O};return(0,R.rK)("error",E),B&&!B.__SENTRY_LOADER__?B.apply(this,arguments):!1},x.n2.onerror.__SENTRY_INSTRUMENTED__=!0}},921373:function(tt,F,a){"use strict";a.d(F,{h:function(){return U}});var x=a(503263),R=a(181565);let B=null;function U(w){const O="unhandledrejection";(0,R.Hj)(O,w),(0,R.D2)(O,A)}function A(){B=x.n2.onunhandledrejection,x.n2.onunhandledrejection=function(w){const O=w;return(0,R.rK)("unhandledrejection",O),B&&!B.__SENTRY_LOADER__?B.apply(this,arguments):!0},x.n2.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}},497235:function(tt,F,a){"use strict";a.d(F,{a:()=>g});var x=a("220886"),R=a("503263");const B=(0,R.Rf)();function U(){const d=B.chrome,E=d&&d.app&&d.app.runtime,k="history"in B&&!!B.history.pushState&&!!B.history.replaceState;return!E&&k}var A=a("181565");const w=R.n2;let O;function g(d){const E="history";(0,A.Hj)(E,d),(0,A.D2)(E,_)}function _(){if(!U())return;const d=w.onpopstate;w.onpopstate=function(...k){const y=w.location.href,l=O;O=y;const f={from:l,to:y};if((0,A.rK)("history",f),d)try{return d.apply(this,k)}catch(T){}};function E(k){return function(...y){const l=y.length>2?y[2]:void 0;if(l){const f=O,T=String(l);O=T;const m={from:f,to:T};(0,A.rK)("history",m)}return k.apply(this,y)}}(0,x.hl)(w.history,"pushState",E),(0,x.hl)(w.history,"replaceState",E)}},486429:function(tt,F,a){"use strict";a.d(F,{UK:function(){return O},xU:function(){return w}});var x=a(491392),R=a(220886),B=a(503263),U=a(181565);const A=B.n2,w="__sentry_xhr_v3__";function O(d){const E="xhr";(0,U.Hj)(E,d),(0,U.D2)(E,g)}function g(){if(!A.XMLHttpRequest)return;const d=XMLHttpRequest.prototype;(0,R.hl)(d,"open",function(E){return function(...k){const y=Date.now(),l=(0,x.HD)(k[0])?k[0].toUpperCase():void 0,f=_(k[1]);if(!l||!f)return E.apply(this,k);this[w]={method:l,url:f,request_headers:{}},l==="POST"&&f.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const T=()=>{const m=this[w];if(m&&this.readyState===4){try{m.status_code=this.status}catch(v){}const C={args:[l,f],endTimestamp:Date.now(),startTimestamp:y,xhr:this};(0,U.rK)("xhr",C)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?(0,R.hl)(this,"onreadystatechange",function(m){return function(...C){return T(),m.apply(this,C)}}):this.addEventListener("readystatechange",T),(0,R.hl)(this,"setRequestHeader",function(m){return function(...C){const[v,N]=C,P=this[w];return P&&(0,x.HD)(v)&&(0,x.HD)(N)&&(P.request_headers[v.toLowerCase()]=N),m.apply(this,C)}}),E.apply(this,k)}}),(0,R.hl)(d,"send",function(E){return function(...k){const y=this[w];if(!y)return E.apply(this,k);k[0]!==void 0&&(y.body=k[0]);const l={args:[y.method,y.url],startTimestamp:Date.now(),xhr:this};return(0,U.rK)("xhr",l),E.apply(this,k)}})}function _(d){if((0,x.HD)(d))return d;try{return d.toString()}catch(E){}}},491392:function(tt,F,a){"use strict";a.d(F,{Cy:function(){return f},HD:function(){return O},J8:function(){return l},Kj:function(){return y},Le:function(){return g},PO:function(){return d},TX:function(){return A},V9:function(){return m},VW:function(){return U},VZ:function(){return R},cO:function(){return E},fm:function(){return w},i2:function(){return T},kK:function(){return k},pt:function(){return _},y1:function(){return C}});const x=Object.prototype.toString;function R(v){switch(x.call(v)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return m(v,Error)}}function B(v,N){return x.call(v)===`[object ${N}]`}function U(v){return B(v,"ErrorEvent")}function A(v){return B(v,"DOMError")}function w(v){return B(v,"DOMException")}function O(v){return B(v,"String")}function g(v){return typeof v=="object"&&v!==null&&"__sentry_template_string__"in v&&"__sentry_template_values__"in v}function _(v){return v===null||g(v)||typeof v!="object"&&typeof v!="function"}function d(v){return B(v,"Object")}function E(v){return typeof Event!="undefined"&&m(v,Event)}function k(v){return typeof Element!="undefined"&&m(v,Element)}function y(v){return B(v,"RegExp")}function l(v){return!!(v&&v.then&&typeof v.then=="function")}function f(v){return d(v)&&"nativeEvent"in v&&"preventDefault"in v&&"stopPropagation"in v}function T(v){return typeof v=="number"&&v!==v}function m(v,N){try{return v instanceof N}catch(P){return!1}}function C(v){return!!(typeof v=="object"&&v!==null&&(v.__isVue||v._isVue))}},926836:function(tt,F,a){"use strict";a.d(F,{Cf:function(){return w},LD:function(){return A},RU:function(){return U},kg:function(){return g}});var x=a(19813),R=a(503263);const B="Sentry Logger ",U=["debug","info","warn","error","log","assert","trace"],A={};function w(_){if(!("console"in R.n2))return _();const d=R.n2.console,E={},k=Object.keys(A);k.forEach(y=>{const l=A[y];E[y]=d[y],d[y]=l});try{return _()}finally{k.forEach(y=>{d[y]=E[y]})}}function O(){let _=!1;const d={enable:()=>{_=!0},disable:()=>{_=!1},isEnabled:()=>_};return x.X?U.forEach(E=>{d[E]=(...k)=>{_&&w(()=>{R.n2.console[E](`${B}[${E}]:`,...k)})}}):U.forEach(E=>{d[E]=()=>{}}),d}const g=O()},382729:function(tt,F,a){"use strict";a.d(F,{DM:function(){return B},Db:function(){return w},EG:function(){return O},YO:function(){return E},jH:function(){return A},lE:function(){return k}});var x=a(220886),R=a(503263);function B(){const y=R.n2,l=y.crypto||y.msCrypto;let f=()=>Math.random()*16;try{if(l&&l.randomUUID)return l.randomUUID().replace(/-/g,"");l&&l.getRandomValues&&(f=()=>{const T=new Uint8Array(1);return l.getRandomValues(T),T[0]})}catch(T){}return("10000000100040008000"+1e11).replace(/[018]/g,T=>(T^(f()&15)>>T/4).toString(16))}function U(y){return y.exception&&y.exception.values?y.exception.values[0]:void 0}function A(y){const{message:l,event_id:f}=y;if(l)return l;const T=U(y);return T?T.type&&T.value?`${T.type}: ${T.value}`:T.type||T.value||f||"<unknown>":f||"<unknown>"}function w(y,l,f){const T=y.exception=y.exception||{},m=T.values=T.values||[],C=m[0]=m[0]||{};C.value||(C.value=l||""),C.type||(C.type=f||"Error")}function O(y,l){const f=U(y);if(!f)return;const T={type:"generic",handled:!0},m=f.mechanism;if(f.mechanism=D(D(D({},T),m),l),l&&"data"in l){const C=D(D({},m&&m.data),l.data);f.mechanism.data=C}}const g=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function _(y){const l=y.match(g)||[],f=parseInt(l[1],10),T=parseInt(l[2],10),m=parseInt(l[3],10);return{buildmetadata:l[5],major:isNaN(f)?void 0:f,minor:isNaN(T)?void 0:T,patch:isNaN(m)?void 0:m,prerelease:l[4]}}function d(y,l,f=5){if(l.lineno===void 0)return;const T=y.length,m=Math.max(Math.min(T-1,l.lineno-1),0);l.pre_context=y.slice(Math.max(0,m-f),m).map(C=>snipLine(C,0)),l.context_line=snipLine(y[Math.min(T-1,m)],l.colno||0),l.post_context=y.slice(Math.min(m+1,T),m+1+f).map(C=>snipLine(C,0))}function E(y){if(y&&y.__sentry_captured__)return!0;try{(0,x.xp)(y,"__sentry_captured__",!0)}catch(l){}return!1}function k(y){return Array.isArray(y)?y:[y]}},610501:function(tt,F,a){"use strict";a.d(F,{KV:function(){return B}});var x=a(612287);tt=a.hmd(tt);var R=a(760636);function B(){return!(0,x.n)()&&Object.prototype.toString.call(typeof R!="undefined"?R:0)==="[object process]"}function U(w,O){return w.require(O)}function A(w){let O;try{O=U(tt,w)}catch(g){}try{const{cwd:g}=U(tt,"process");O=U(tt,`${g()}/node_modules/${w}`)}catch(g){}return O}},898709:function(tt,F,a){"use strict";a.d(F,{Fv:()=>A,Qy:()=>w});var x=a("491392");function R(){const y=typeof WeakSet=="function",l=y?new WeakSet:[];function f(m){if(y)return l.has(m)?!0:(l.add(m),!1);for(let C=0;C<l.length;C++)if(l[C]===m)return!0;return l.push(m),!1}function T(m){if(y)l.delete(m);else for(let C=0;C<l.length;C++)if(l[C]===m){l.splice(C,1);break}}return[f,T]}var B=a("220886"),U=a("730136");function A(y,l=100,f=1/0){try{return O("",y,l,f)}catch(T){return{ERROR:`**non-serializable** (${T})`}}}function w(y,l=3,f=100*1024){const T=A(y,l);return E(T)>f?w(y,l-1,f):T}function O(y,l,f=1/0,T=1/0,m=R()){const[C,v]=m;if(l==null||["number","boolean","string"].includes(typeof l)&&!(0,x.i2)(l))return l;const N=g(y,l);if(!N.startsWith("[object "))return N;if(l.__sentry_skip_normalization__)return l;const P=typeof l.__sentry_override_normalization_depth__=="number"?l.__sentry_override_normalization_depth__:f;if(P===0)return N.replace("object ","");if(C(l))return"[Circular ~]";const W=l;if(W&&typeof W.toJSON=="function")try{const j=W.toJSON();return O("",j,P-1,T,m)}catch(j){}const I=Array.isArray(l)?[]:{};let X=0;const H=(0,B.Sh)(l);for(const j in H){if(!Object.prototype.hasOwnProperty.call(H,j))continue;if(X>=T){I[j]="[MaxProperties ~]";break}const Y=H[j];I[j]=O(j,Y,P-1,T,m),X++}return v(l),I}function g(y,l){try{if(y==="domain"&&l&&typeof l=="object"&&l._events)return"[Domain]";if(y==="domainEmitter")return"[DomainEmitter]";if(typeof a.g!="undefined"&&l===a.g)return"[Global]";if(typeof window!="undefined"&&l===window)return"[Window]";if(typeof document!="undefined"&&l===document)return"[Document]";if((0,x.y1)(l))return"[VueViewModel]";if((0,x.Cy)(l))return"[SyntheticEvent]";if(typeof l=="number"&&l!==l)return"[NaN]";if(typeof l=="function")return`[Function: ${(0,U.$P)(l)}]`;if(typeof l=="symbol")return`[${String(l)}]`;if(typeof l=="bigint")return`[BigInt: ${String(l)}]`;const f=_(l);return/^HTML(\w*)Element$/.test(f)?`[HTMLElement: ${f}]`:`[object ${f}]`}catch(f){return`**non-serializable** (${f})`}}function _(y){const l=Object.getPrototypeOf(y);return l?l.constructor.name:"null prototype"}function d(y){return~-encodeURI(y).split(/%..|./).length}function E(y){return d(JSON.stringify(y))}function k(y,l){const f=l.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");let T=y;try{T=decodeURI(y)}catch(m){}return T.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${f}/*`,"ig"),"app:///")}},220886:function(tt,F,a){"use strict";a.d(F,{$Q:function(){return g},HK:function(){return _},Jr:function(){return f},Sh:function(){return E},_j:function(){return d},hl:function(){return w},xp:function(){return O},zf:function(){return l}});var x=a(536403),R=a(19813),B=a(491392),U=a(926836),A=a(654071);function w(v,N,P){if(!(N in v))return;const W=v[N],I=P(W);typeof I=="function"&&g(I,W),v[N]=I}function O(v,N,P){try{Object.defineProperty(v,N,{value:P,writable:!0,configurable:!0})}catch(W){R.X&&U.kg.log(`Failed to add non-enumerable property "${N}" to object`,v)}}function g(v,N){try{const P=N.prototype||{};v.prototype=N.prototype=P,O(v,"__sentry_original__",N)}catch(P){}}function _(v){return v.__sentry_original__}function d(v){return Object.keys(v).map(N=>`${encodeURIComponent(N)}=${encodeURIComponent(v[N])}`).join("&")}function E(v){if((0,B.VZ)(v))return D({message:v.message,name:v.name,stack:v.stack},y(v));if((0,B.cO)(v)){const N=D({type:v.type,target:k(v.target),currentTarget:k(v.currentTarget)},y(v));return typeof CustomEvent!="undefined"&&(0,B.V9)(v,CustomEvent)&&(N.detail=v.detail),N}else return v}function k(v){try{return(0,B.kK)(v)?(0,x.Rt)(v):Object.prototype.toString.call(v)}catch(N){return"<unknown>"}}function y(v){if(typeof v=="object"&&v!==null){const N={};for(const P in v)Object.prototype.hasOwnProperty.call(v,P)&&(N[P]=v[P]);return N}else return{}}function l(v,N=40){const P=Object.keys(E(v));if(P.sort(),!P.length)return"[object has no keys]";if(P[0].length>=N)return(0,A.$G)(P[0],N);for(let W=P.length;W>0;W--){const I=P.slice(0,W).join(", ");if(!(I.length>N))return W===P.length?I:(0,A.$G)(I,N)}return""}function f(v){return T(v,new Map)}function T(v,N){if(m(v)){const P=N.get(v);if(P!==void 0)return P;const W={};N.set(v,W);for(const I of Object.keys(v))typeof v[I]!="undefined"&&(W[I]=T(v[I],N));return W}if(Array.isArray(v)){const P=N.get(v);if(P!==void 0)return P;const W=[];return N.set(v,W),v.forEach(I=>{W.push(T(I,N))}),W}return v}function m(v){if(!(0,B.PO)(v))return!1;try{const N=Object.getPrototypeOf(v).constructor.name;return!N||N==="Object"}catch(N){return!0}}function C(v){let N;switch(!0){case v==null:N=new String(v);break;case(typeof v=="symbol"||typeof v=="bigint"):N=Object(v);break;case isPrimitive(v):N=new v.constructor(v);break;default:N=v;break}return N}},895240:function(tt,F,a){"use strict";a.d(F,{JY:function(){return R},Q:function(){return U},WG:function(){return A}});const x=60*1e3;function R(w,O=Date.now()){const g=parseInt(`${w}`,10);if(!isNaN(g))return g*1e3;const _=Date.parse(`${w}`);return isNaN(_)?x:_-O}function B(w,O){return w[O]||w.all||0}function U(w,O,g=Date.now()){return B(w,O)>g}function A(w,{statusCode:O,headers:g},_=Date.now()){const d=D({},w),E=g&&g["x-sentry-rate-limits"],k=g&&g["retry-after"];if(E)for(const y of E.trim().split(",")){const[l,f]=y.split(":",2),T=parseInt(l,10),m=(isNaN(T)?60:T)*1e3;if(!f)d.all=_+m;else for(const C of f.split(";"))d[C]=_+m}else k?d.all=_+R(k,_):O===429&&(d.all=_+60*1e3);return d}},730136:function(tt,F,a){"use strict";a.d(F,{$P:function(){return g},Sq:function(){return A},pE:function(){return U}});const x=50,R=/\(error: (.*)\)/,B=/captureMessage|captureException/;function U(...d){const E=d.sort((k,y)=>k[0]-y[0]).map(k=>k[1]);return(k,y=0)=>{const l=[],f=k.split(`
`);for(let T=y;T<f.length;T++){const m=f[T];if(m.length>1024)continue;const C=R.test(m)?m.replace(R,"$1"):m;if(!C.match(/\S*Error: /)){for(const v of E){const N=v(C);if(N){l.push(N);break}}if(l.length>=x)break}}return w(l)}}function A(d){return Array.isArray(d)?U(...d):d}function w(d){if(!d.length)return[];const E=Array.from(d);return/sentryWrapped/.test(E[E.length-1].function||"")&&E.pop(),E.reverse(),B.test(E[E.length-1].function||"")&&(E.pop(),B.test(E[E.length-1].function||"")&&E.pop()),E.slice(0,x).map(k=>ct(D({},k),{filename:k.filename||E[E.length-1].filename,function:k.function||"?"}))}const O="<anonymous>";function g(d){try{return!d||typeof d!="function"?O:d.name||O}catch(E){return O}}function _(d){return[90,node(d)]}},654071:function(tt,F,a){"use strict";a.d(F,{$G:function(){return R},U0:function(){return w},nK:function(){return U}});var x=a(491392);function R(O,g=0){return typeof O!="string"||g===0||O.length<=g?O:`${O.slice(0,g)}...`}function B(O,g){let _=O;const d=_.length;if(d<=150)return _;g>d&&(g=d);let E=Math.max(g-60,0);E<5&&(E=0);let k=Math.min(E+140,d);return k>d-5&&(k=d),k===d&&(E=Math.max(k-140,0)),_=_.slice(E,k),E>0&&(_=`'{snip} ${_}`),k<d&&(_+=" {snip}"),_}function U(O,g){if(!Array.isArray(O))return"";const _=[];for(let d=0;d<O.length;d++){const E=O[d];try{(0,x.y1)(E)?_.push("[VueViewModel]"):_.push(String(E))}catch(k){_.push("[value cannot be serialized]")}}return _.join(g)}function A(O,g,_=!1){return(0,x.HD)(O)?(0,x.Kj)(g)?g.test(O):(0,x.HD)(g)?_?O===g:O.includes(g):!1:!1}function w(O,g=[],_=!1){return g.some(d=>A(O,d,_))}},740091:function(tt,F,a){"use strict";a.d(F,{Ak:function(){return g},Du:function(){return _},t$:function(){return d}});var x=a(19813),R=a(926836),B=a(503263);const U=(0,B.Rf)();function A(){try{return new ErrorEvent(""),!0}catch(y){return!1}}function w(){try{return new DOMError(""),!0}catch(y){return!1}}function O(){try{return new DOMException(""),!0}catch(y){return!1}}function g(){if(!("fetch"in U))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(y){return!1}}function _(y){return y&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(y.toString())}function d(){if(typeof EdgeRuntime=="string")return!0;if(!g())return!1;if(_(U.fetch))return!0;let y=!1;const l=U.document;if(l&&typeof l.createElement=="function")try{const f=l.createElement("iframe");f.hidden=!0,l.head.appendChild(f),f.contentWindow&&f.contentWindow.fetch&&(y=_(f.contentWindow.fetch)),l.head.removeChild(f)}catch(f){x.X&&R.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",f)}return y}function E(){return"ReportingObserver"in U}function k(){if(!g())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(y){return!1}}},318814:function(tt,F,a){"use strict";a.d(F,{$2:function(){return U},WD:function(){return B},cW:function(){return A}});var x=a(491392),R;(function(w){w[w.PENDING=0]="PENDING";const g=1;w[w.RESOLVED=g]="RESOLVED";const _=2;w[w.REJECTED=_]="REJECTED"})(R||(R={}));function B(w){return new A(O=>{O(w)})}function U(w){return new A((O,g)=>{g(w)})}class A{constructor(O){A.prototype.__init.call(this),A.prototype.__init2.call(this),A.prototype.__init3.call(this),A.prototype.__init4.call(this),this._state=R.PENDING,this._handlers=[];try{O(this._resolve,this._reject)}catch(g){this._reject(g)}}then(O,g){return new A((_,d)=>{this._handlers.push([!1,E=>{if(!O)_(E);else try{_(O(E))}catch(k){d(k)}},E=>{if(!g)d(E);else try{_(g(E))}catch(k){d(k)}}]),this._executeHandlers()})}catch(O){return this.then(g=>g,O)}finally(O){return new A((g,_)=>{let d,E;return this.then(k=>{E=!1,d=k,O&&O()},k=>{E=!0,d=k,O&&O()}).then(()=>{if(E){_(d);return}g(d)})})}__init(){this._resolve=O=>{this._setResult(R.RESOLVED,O)}}__init2(){this._reject=O=>{this._setResult(R.REJECTED,O)}}__init3(){this._setResult=(O,g)=>{if(this._state===R.PENDING){if((0,x.J8)(g)){g.then(this._resolve,this._reject);return}this._state=O,this._value=g,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===R.PENDING)return;const O=this._handlers.slice();this._handlers=[],O.forEach(g=>{g[0]||(this._state===R.RESOLVED&&g[1](this._value),this._state===R.REJECTED&&g[2](this._value),g[0]=!0)})}}}},298304:function(tt,F,a){"use strict";a.d(F,{Z1:function(){return g},ph:function(){return A},yW:function(){return B}});var x=a(503263);const R=1e3;function B(){return Date.now()/R}function U(){const{performance:_}=x.n2;if(!_||!_.now)return B;const d=Date.now()-_.now(),E=_.timeOrigin==null?d:_.timeOrigin;return()=>(E+_.now())/R}const A=U(),w=null;let O;const g=(()=>{const{performance:_}=x.n2;if(!_||!_.now){O="none";return}const d=3600*1e3,E=_.now(),k=Date.now(),y=_.timeOrigin?Math.abs(_.timeOrigin+E-k):d,l=y<d,f=_.timing&&_.timing.navigationStart,m=typeof f=="number"?Math.abs(f+E-k):d,C=m<d;return l||C?y<=m?(O="timeOrigin",_.timeOrigin):(O="navigationStart",f):(O="dateNow",k)})()},639102:function(tt,F,a){"use strict";a.d(F,{$p:function(){return O},KA:function(){return A},pT:function(){return w},qG:function(){return U}});var x=a(516354),R=a(382729);const B=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function U(g){if(!g)return;const _=g.match(B);if(!_)return;let d;return _[3]==="1"?d=!0:_[3]==="0"&&(d=!1),{traceId:_[1],parentSampled:d,parentSpanId:_[2]}}function A(g,_){const d=U(g),E=(0,x.EN)(_),{traceId:k,parentSpanId:y,parentSampled:l}=d||{};return d?{traceparentData:d,dynamicSamplingContext:E||{},propagationContext:{traceId:k||(0,R.DM)(),parentSpanId:y||(0,R.DM)().substring(16),spanId:(0,R.DM)().substring(16),sampled:l,dsc:E||{}}}:{traceparentData:d,dynamicSamplingContext:void 0,propagationContext:{traceId:k||(0,R.DM)(),spanId:(0,R.DM)().substring(16)}}}function w(g,_){const d=U(g),E=(0,x.EN)(_),{traceId:k,parentSpanId:y,parentSampled:l}=d||{};return d?{traceId:k||(0,R.DM)(),parentSpanId:y||(0,R.DM)().substring(16),spanId:(0,R.DM)().substring(16),sampled:l,dsc:E||{}}:{traceId:k||(0,R.DM)(),spanId:(0,R.DM)().substring(16)}}function O(g=(0,R.DM)(),_=(0,R.DM)().substring(16),d){let E="";return d!==void 0&&(E=d?"-1":"-0"),`${g}-${_}${E}`}},948093:function(tt,F,a){"use strict";a.d(F,{en:function(){return x}});function x(A){if(!A)return{};const w=A.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!w)return{};const O=w[6]||"",g=w[8]||"";return{host:w[4],path:w[5],protocol:w[2],search:O,hash:g,relative:w[5]+O+g}}function R(A){return A.split(/[\?#]/,1)[0]}function B(A){return A.split(/\\?\//).filter(w=>w.length>0&&w!==",").length}function U(A){const{protocol:w,host:O,path:g}=A,_=O&&O.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${w?`${w}://`:""}${_}${g}`}},503263:function(tt,F,a){"use strict";a.d(F,{Rf:function(){return B},YO:function(){return U},n2:function(){return R}});function x(A){return A&&A.Math==Math?A:void 0}const R=typeof globalThis=="object"&&x(globalThis)||typeof window=="object"&&x(window)||typeof self=="object"&&x(self)||typeof a.g=="object"&&x(a.g)||function(){return this}()||{};function B(){return R}function U(A,w,O){const g=O||R,_=g.__SENTRY__=g.__SENTRY__||{};return _[A]||(_[A]=w())}},372604:function(tt,F,a){"use strict";a(392338),Object.defineProperty(F,"__esModule",{value:!0}),F.CLASS_ID=void 0;var x="b375e5ec-dfc6-4fcc-ad63-58063a0cc4a2";F.CLASS_ID=x},430217:function(tt,F,a){"use strict";a(392338),Object.defineProperty(F,"__esModule",{value:!0}),F.isApiError=void 0;var x=a(372604),R=function(U){return(U==null?void 0:U._classId)===x.CLASS_ID};F.isApiError=R},760636:function(tt){var F=tt.exports={},a,x;function R(){throw new Error("setTimeout has not been defined")}function B(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=R}catch(l){a=R}try{typeof clearTimeout=="function"?x=clearTimeout:x=B}catch(l){x=B}})();function U(l){if(a===setTimeout)return setTimeout(l,0);if((a===R||!a)&&setTimeout)return a=setTimeout,setTimeout(l,0);try{return a(l,0)}catch(f){try{return a.call(null,l,0)}catch(T){return a.call(this,l,0)}}}function A(l){if(x===clearTimeout)return clearTimeout(l);if((x===B||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(l);try{return x(l)}catch(f){try{return x.call(null,l)}catch(T){return x.call(this,l)}}}var w=[],O=!1,g,_=-1;function d(){!O||!g||(O=!1,g.length?w=g.concat(w):_=-1,w.length&&E())}function E(){if(!O){var l=U(d);O=!0;for(var f=w.length;f;){for(g=w,w=[];++_<f;)g&&g[_].run();_=-1,f=w.length}g=null,O=!1,A(l)}}F.nextTick=function(l){var f=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)f[T-1]=arguments[T];w.push(new k(l,f)),w.length===1&&!O&&U(E)};function k(l,f){this.fun=l,this.array=f}k.prototype.run=function(){this.fun.apply(null,this.array)},F.title="browser",F.browser=!0,F.env={},F.argv=[],F.version="",F.versions={};function y(){}F.on=y,F.addListener=y,F.once=y,F.off=y,F.removeListener=y,F.removeAllListeners=y,F.emit=y,F.prependListener=y,F.prependOnceListener=y,F.listeners=function(l){return[]},F.binding=function(l){throw new Error("process.binding is not supported")},F.cwd=function(){return"/"},F.chdir=function(l){throw new Error("process.chdir is not supported")},F.umask=function(){return 0}},998124:function(tt,F,a){"use strict";a.d(F,{Jl:function(){return w},Oj:function(){return O},ni:function(){return A},r8:function(){return g},zj:function(){return _}});var x=a(392338),R=a.n(x),B=function(d){return d.DEVELOPMENT="development",d.STAGING="staging",d.QA="qa",d.PRODUCTION="production",d}({}),U=function(){var E,k,y,l,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;if(typeof f=="string"){var T=new URL(f);return T.hostname}return(E=(k=(y=f.Static)===null||y===void 0||(y=y.SQUARESPACE_CONTEXT)===null||y===void 0?void 0:y.appDomain)!==null&&k!==void 0?k:(l=f.location)===null||l===void 0?void 0:l.host)!==null&&E!==void 0?E:""},A=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return/\.(sqsp|squarespace)\.net$/.test(U(E))},w=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return/stage\.(sqsp|squarespace)\.net$/.test(U(E))},O=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return/qa[0-9]+\.(sqsp|squarespace)\.net$/.test(U(E))},g=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return/dev\.(sqsp|squarespace)\.net$/.test(U(E))},_=()=>{var d=B.PRODUCTION;return g()?d=B.DEVELOPMENT:O()?d=B.QA:(w()||A())&&(d=B.STAGING),d}},558916:function(tt,F,a){"use strict";a.d(F,{aJ:()=>m,Mt:()=>N,aW:()=>v,IZ:()=>l,Vf:()=>T});var x="unknown",R="serverError",B="clientError",U="redirect",A="success",w="info",O=P=>P>599?x:P>=500?R:P>=400?B:P>=300?U:P>=200?A:P>=100?w:x,g=null,_="[a-z0-9]{24,24}",d="[a-z0-9]{8,8}-[a-z0-9]{4,4}-[a-z0-9]{4,4}-[a-z0-9]{4,4}-[a-z0-9]{12,12}",E="con_[a-zA-Z0-9]{14,14}",k=new RegExp("^(".concat(_,"|").concat(d,"|").concat(E,")$"),"i"),y=/\/domains\/[^\.\/]+\.[^\.\/]+/i,l=P=>!!(P!=null&&P.isAxiosError),f=P=>["/api","https://media-api.squarespace.com"].some(W=>P.startsWith(W)),T=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=P.config,I=P.response,X=(W==null?void 0:W.url)||"",H=I==null?void 0:I.status;return!!(l(P)&&f(X)&&[401,403].includes(H))},m=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=P.response,I=P.code,X=W==null?void 0:W.status;return!!(l(P)&&!X&&(!I||I==="ERR_NETWORK"))},C=P=>P&&P.split("?")[0].split("/").map(W=>k.test(W)?"[ID]":W).join("/").replace(y,"/domains/[domain]"),v=P=>{var W=P.functionName,I=P.response,X=P.config;return[W,X==null?void 0:X.method,I==null?void 0:I.status,C(X==null?void 0:X.url)]},N=P=>{var W,I={functionName:P.functionName},X=P.config;X&&(I["request.url"]=X.url,I["request.normalized_url"]=C(X.url),I["request.method"]=X.method);var H=(W=P.response)===null||W===void 0?void 0:W.status;return H&&(I["response.status"]=H,I["response.statusType"]=O(H)),I}},473395:function(tt,F,a){"use strict";var x={};a.r(x),a.d(x,{FunctionToString:()=>k.c,InboundFilters:()=>y.Q,LinkedErrors:()=>j});var R={};a.r(R),a.d(R,{Breadcrumbs:()=>xr.O,Dedupe:()=>Lr.I,GlobalHandlers:()=>Nr.d,HttpContext:()=>Ur.q,LinkedErrors:()=>Br.i,TryCatch:()=>Fr.p});var B={};a.r(B),a.d(B,{Breadcrumbs:()=>xr.O,BrowserClient:()=>Hc.R,BrowserProfilingIntegration:()=>Qh,BrowserTracing:()=>dh,Dedupe:()=>Lr.I,Feedback:()=>Mn,FunctionToString:()=>k.c,GlobalHandlers:()=>Nr.d,HttpContext:()=>Ur.q,Hub:()=>L.Xb,InboundFilters:()=>y.Q,Integrations:()=>Ra,LinkedErrors:()=>Br.i,ModuleMetadata:()=>Dc,Replay:()=>Rn,ReplayCanvas:()=>ip,SDK_VERSION:()=>vc.J,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>cn,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>Ce,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>Me,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Qt,Scope:()=>jc.sX,TryCatch:()=>Fr.p,WINDOW:()=>Gt.m9,addBreadcrumb:()=>G.n_,addEventProcessor:()=>Xs.Q,addGlobalEventProcessor:()=>ei.cc,addIntegration:()=>N.M5,addTracingExtensions:()=>Ar,breadcrumbsIntegration:()=>xr.f,browserApiErrorsIntegration:()=>Fr.t,browserProfilingIntegration:()=>Ia,browserTracingIntegration:()=>mh,captureEvent:()=>G.eN,captureException:()=>G.Tb,captureMessage:()=>G.uT,captureSession:()=>G.cg,captureUserFeedback:()=>ge.Jd,chromeStackLineParser:()=>De.$3,close:()=>G.xv,configureScope:()=>G.e,continueTrace:()=>rc,createTransport:()=>Tc.q,createUserFeedbackEnvelope:()=>Kc.r,dedupeIntegration:()=>Lr.R,defaultIntegrations:()=>ge.SS,defaultRequestInstrumentationOptions:()=>wn,defaultStackLineParsers:()=>De.d8,defaultStackParser:()=>De.Dt,endSession:()=>G.TM,eventFromException:()=>Pr.dr,eventFromMessage:()=>Pr.aB,exceptionFromError:()=>Pr.GJ,extractTraceparentData:()=>bc,feedbackIntegration:()=>Np,flush:()=>G.yl,forceLoad:()=>ge.Eg,functionToStringIntegration:()=>k.C,geckoStackLineParser:()=>De.$Q,getActiveSpan:()=>Re,getActiveTransaction:()=>he,getClient:()=>G.s3,getCurrentHub:()=>L.Gd,getCurrentScope:()=>G.nZ,getDefaultIntegrations:()=>ge.nV,getHubFromCarrier:()=>L.vi,getReplay:()=>zf,getSpanStatusFromHttpCode:()=>wr,globalHandlersIntegration:()=>Nr.k,httpContextIntegration:()=>Ur.s,inboundFiltersIntegration:()=>y.S,init:()=>ge.S1,instrumentOutgoingRequests:()=>Ds,isInitialized:()=>G.dk,lastEventId:()=>G.eW,linkedErrorsIntegration:()=>Br.O,makeBrowserOfflineTransport:()=>Dh,makeFetchTransport:()=>E.f,makeMain:()=>L.pj,makeMultiplexedTransport:()=>d,makeXHRTransport:()=>$c.K,metrics:()=>Ec,moduleMetadataIntegration:()=>Dr,onLoad:()=>ge.lA,onProfilingStartRouteTransaction:()=>Jh,opera10StackLineParser:()=>De.NP,opera11StackLineParser:()=>De.HH,parameterize:()=>Wc,replayCanvasIntegration:()=>Ho,replayIntegration:()=>$f,sendFeedback:()=>Yo,setContext:()=>G.v,setCurrentClient:()=>wc.K,setExtra:()=>G.sU,setExtras:()=>G.rJ,setHttpStatus:()=>jn,setMeasurement:()=>ti,setTag:()=>G.YA,setTags:()=>G.mG,setUser:()=>G.av,showReportDialog:()=>ge.jp,spanStatusfromHttpCode:()=>kc,startBrowserTracingNavigationSpan:()=>ua,startBrowserTracingPageLoadSpan:()=>ca,startInactiveSpan:()=>Ee,startSession:()=>G.yj,startSpan:()=>Rt,startSpanManual:()=>Jt,startTransaction:()=>G.Yr,trace:()=>pt,winjsStackLineParser:()=>De.R2,withActiveSpan:()=>G._d,withIsolationScope:()=>G.wi,withScope:()=>G.$e,wrap:()=>ge.re});var U={};a.r(U),a.d(U,{anonymize:()=>lm,consent:()=>cm,event:()=>Ca,getCurrentSessionURL:()=>im,identify:()=>om,init:()=>hm,isInitialized:()=>mm,log:()=>sm,restart:()=>um,setUserVars:()=>am,setVars:()=>dm,shutdown:()=>Da});var A=a("616641"),w=a("203879"),O=a("922589");function g(t,e){let n;return(0,A.gv)(t,(r,s)=>(e.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function _(t,e){return n=>{const r=t(n);return{send:s=>St(this,null,function*(){const i=g(s,["event","transaction","profile","replay_event"]);return i&&(i.release=e),r.send(s)}),flush:s=>r.flush(s)}}}function d(t,e){return n=>{const r=t(n),s={};function i(u,p){const h=p?`${u}:${p}`:u;if(!s[h]){const b=(0,w.U4)(u);if(!b)return;const M=(0,O.U)(b);s[h]=p?_(t,p)(ct(D({},n),{url:M})):t(ct(D({},n),{url:M}))}return s[h]}function o(u){return St(this,null,function*(){function p(M){const $=M&&M.length?M:["event"];return g(u,$)}const h=e({envelope:u,getEvent:p}).map(M=>typeof M=="string"?i(M,void 0):i(M.dsn,M.release)).filter(M=>!!M);return h.length===0&&h.push(r),(yield Promise.all(h.map(M=>M.send(u))))[0]})}function c(u){return St(this,null,function*(){const p=[...Object.keys(s).map(b=>s[b]),r];return(yield Promise.all(p.map(b=>b.flush(u)))).every(b=>b)})}return{send:o,flush:c}}}var E=a("117263"),k=a("538958"),y=a("170453"),l=a("816352");function f(t,e){return t(e.stack||"",1)}function T(t,e){const n={type:e.name||e.constructor.name,value:e.message},r=f(t,e);return r.length&&(n.stacktrace={frames:r}),n}function m(t){if("name"in t&&typeof t.name=="string"){let e=`'${t.name}' captured as exception`;return"message"in t&&typeof t.message=="string"&&(e+=` with message '${t.message}'`),e}else return"message"in t&&typeof t.message=="string"?t.message:`Object captured as exception with keys: ${extractExceptionKeysForMessage(t)}`}function C(t,e,n,r){const s=typeof t=="function"?t().getClient():t;let i=n;const c=r&&r.data&&r.data.mechanism||{handled:!0,type:"generic"};let u;if(!isError(n)){if(isPlainObject(n)){const h=s&&s.getOptions().normalizeDepth;u={__serialized__:normalizeToSize(n,h)};const b=m(n);i=r&&r.syntheticException||new Error(b),i.message=b}else i=r&&r.syntheticException||new Error(n),i.message=n;c.synthetic=!0}const p={exception:{values:[T(e,i)]}};return u&&(p.extra=u),addExceptionTypeValue(p,void 0,void 0),addExceptionMechanism(p,c),ct(D({},p),{event_id:r&&r.event_id})}function v(t,e,n="info",r,s){const i={event_id:r&&r.event_id,level:n};if(s&&r&&r.syntheticException){const o=f(t,r.syntheticException);o.length&&(i.exception={values:[{value:e,stacktrace:{frames:o}}]})}if(isParameterizedString(e)){const{__sentry_template_string__:o,__sentry_template_values__:c}=e;return i.logentry={message:o,params:c},i}return i.message=e,i}var N=a("44530");const P="cause",W=5,I="LinkedErrors",X=(t={})=>{const e=t.limit||W,n=t.key||P;return{name:I,setupOnce(){},preprocessEvent(r,s,i){const o=i.getOptions();(0,l.Z)(T,o.stackParser,o.maxValueLength,n,e,r,s)}}},H=(0,N._I)(X),j=(0,N.RN)(I,H),Y=x;var L=a("866202"),z=a("639102"),S=a("926836"),et=a("220886"),nt=a("433883"),Q=a("114184"),it=a("956474"),G=a("653639"),q=a("491392");function ft(t,e,n=()=>{}){let r;try{r=t()}catch(s){throw e(s),n(),s}return ht(r,e,n)}function ht(t,e,n){return(0,q.J8)(t)?t.then(r=>(n(),r),r=>{throw e(r),n(),r}):(n(),t)}function mt(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=(0,G.s3)(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function pt(t,e,n=()=>{},r=()=>{}){const s=(0,L.Gd)(),i=(0,G.nZ)(),o=i.getSpan(),c=Fn(t),u=Bn(s,{parentSpan:o,spanContext:c,forceTransaction:!1,scope:i});return i.setSpan(u),ft(()=>e(u),p=>{u&&u.setStatus("internal_error"),n(p,u)},()=>{u&&u.end(),i.setSpan(o),r()})}function Rt(t,e){const n=Fn(t);return(0,L.Ok)(()=>(0,G.$e)(t.scope,r=>{const s=(0,L.Gd)(),i=r.getSpan(),c=t.onlyIfParent&&!i?void 0:Bn(s,{parentSpan:i,spanContext:n,forceTransaction:t.forceTransaction,scope:r});return ft(()=>e(c),()=>{if(c){const{status:u}=(0,Q.XU)(c);(!u||u==="ok")&&c.setStatus("internal_error")}},()=>c&&c.end())}))}const Ht=null;function Jt(t,e){const n=Fn(t);return(0,L.Ok)(()=>(0,G.$e)(t.scope,r=>{const s=(0,L.Gd)(),i=r.getSpan(),c=t.onlyIfParent&&!i?void 0:Bn(s,{parentSpan:i,spanContext:n,forceTransaction:t.forceTransaction,scope:r});function u(){c&&c.end()}return ft(()=>e(c,u),()=>{if(c&&c.isRecording()){const{status:p}=(0,Q.XU)(c);(!p||p==="ok")&&c.setStatus("internal_error")}})}))}function Ee(t){if(!mt())return;const e=Fn(t),n=(0,L.Gd)(),r=t.scope?t.scope.getSpan():Re();if(t.onlyIfParent&&!r)return;const o=(t.scope||(0,G.nZ)()).clone();return Bn(n,{parentSpan:r,spanContext:e,forceTransaction:t.forceTransaction,scope:o})}function Re(){return(0,G.nZ)().getSpan()}const rc=({sentryTrace:t,baggage:e},n)=>{const r=(0,G.nZ)(),{traceparentData:s,dynamicSamplingContext:i,propagationContext:o}=(0,z.KA)(t,e);r.setPropagationContext(o),nt.X&&s&&S.kg.log(`[Tracing] Continuing trace ${s.traceId}.`);const c=ct(D({},s),{metadata:(0,et.Jr)({dynamicSamplingContext:i})});return n?(0,L.Ok)(()=>n(c)):c};function Bn(t,{parentSpan:e,spanContext:n,forceTransaction:r,scope:s}){if(!mt())return;const i=(0,L.aF)();let o;if(e&&!r)o=e.startChild(n);else if(e){const c=(0,it.j)(e),{traceId:u,spanId:p}=e.spanContext(),h=(0,Q.Tt)(e);o=t.startTransaction(ct(D({traceId:u,parentSpanId:p,parentSampled:h},n),{metadata:D({dynamicSamplingContext:c},n.metadata)}))}else{const{traceId:c,dsc:u,parentSpanId:p,sampled:h}=D(D({},i.getPropagationContext()),s.getPropagationContext());o=t.startTransaction(ct(D({traceId:c,parentSpanId:p,parentSampled:h},n),{metadata:D({dynamicSamplingContext:u},n.metadata)}))}return s.setSpan(o),sc(o,s,i),o}function Fn(t){if(t.startTime){const e=D({},t);return e.startTimestamp=(0,Q.$k)(t.startTime),delete e.startTime,e}return t}const Us="_sentryScope",Bs="_sentryIsolationScope";function sc(t,e,n){t&&((0,et.xp)(t,Bs,n),(0,et.xp)(t,Us,e))}function ic(t){return{scope:t[Us],isolationScope:t[Bs]}}var ee=a("709995"),Ut=a("298304"),Cr=a("473979");class oc{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}}class ac{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class cc{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}}class uc{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map(e=>typeof e=="string"?(0,Cr.M)(e):e).join(":")}}const lc={[ee.JM]:oc,[ee.uG]:ac,[ee.g_]:cc,[ee.is]:uc};let an;function Fs(t){return an?an.get(t):void 0}function Ws(t){const e=Fs(t);if(!e)return;const n={};for(const[,[r,s]]of e)n[r]||(n[r]=[]),n[r].push((0,et.Jr)(s));return n}function dc(t,e,n,r,s,i){const o=Re();if(o){const c=Fs(o)||new Map,u=`${t}:${e}@${r}`,p=c.get(i);if(p){const[,h]=p;c.set(i,[u,{min:Math.min(h.min,n),max:Math.max(h.max,n),count:h.count+=1,sum:h.sum+=n,tags:h.tags}])}else c.set(i,[u,{min:n,max:n,count:1,sum:n,tags:s}]);an||(an=new WeakMap),an.set(o,c)}}class fc{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),ee.RF)}add(e,n,r,s="none",i={},o=(0,Ut.ph)()){const c=Math.floor(o),u=n.replace(ee.X7,"_"),p=(0,Cr.Bg)(i),h=(0,Cr.Ic)(e,u,s,p);let b=this._buckets.get(h);const M=b&&e===ee.is?b.metric.weight:0;b?(b.metric.add(r),b.timestamp<c&&(b.timestamp=c)):(b={metric:new lc[e](r),timestamp:c,metricType:e,name:u,unit:s,tags:p},this._buckets.set(h,b));const $=typeof r=="string"?b.metric.weight-M:r;dc(e,u,$,s,i,h)}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){const e=Array.from(this._buckets).map(([,n])=>n);this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const js="MetricsAggregator",pc=()=>({name:js,setupOnce(){},setup(t){t.metricsAggregator=new fc(t)}}),Hs=(0,N._I)(pc),hc=(0,N.RN)(js,Hs);function Wn(t,e,n,r={}){const s=(0,G.s3)(),i=(0,G.nZ)();if(s){if(!s.metricsAggregator){nt.X&&S.kg.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}const{unit:o,tags:c,timestamp:u}=r,{release:p,environment:h}=s.getOptions(),b=i.getTransaction(),M={};p&&(M.release=p),h&&(M.environment=h),b&&(M.transaction=(0,Q.XU)(b).description||""),nt.X&&S.kg.log(`Adding value of ${n} to ${t} metric ${e}`),s.metricsAggregator.add(t,e,n,o,D(D({},M),c),u)}}function mc(t,e=1,n){Wn(ee.JM,t,e,n)}function gc(t,e,n){Wn(ee.g_,t,e,n)}function _c(t,e,n){Wn(ee.is,t,e,n)}function yc(t,e,n){Wn(ee.uG,t,e,n)}const Ec={increment:mc,distribution:gc,set:_c,gauge:yc,MetricsAggregator:hc,metricsAggregatorIntegration:Hs};var vc=a("925151");const Qt="sentry.source",Me="sentry.sample_rate",cn="sentry.op",Ce="sentry.origin",Sc="profile_id";var Tc=a("656716");function he(t){return(t||(0,L.Gd)()).getScope().getTransaction()}const bc=z.qG;var me=a("503263");const $s=new Map,Ks=new Set;function Ic(t){if(me.n2._sentryModuleMetadata)for(const e of Object.keys(me.n2._sentryModuleMetadata)){const n=me.n2._sentryModuleMetadata[e];if(Ks.has(e))continue;Ks.add(e);const r=t(e);for(const s of r.reverse())if(s.filename){$s.set(s.filename,n);break}}}function Oc(t,e){return Ic(t),$s.get(e)}function Rc(t,e){try{e.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename)continue;const s=Oc(t,r.filename);s&&(r.module_metadata=s)}})}catch(n){}}function Mc(t){try{t.exception.values.forEach(e=>{if(e.stacktrace)for(const n of e.stacktrace.frames||[])delete n.module_metadata})}catch(e){}}const zs="ModuleMetadata",Cc=()=>({name:zs,setupOnce(){},setup(t){typeof t.on=="function"&&t.on("beforeEnvelope",e=>{(0,A.gv)(e,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(Mc(s),n[1]=s)}})})},processEvent(t,e,n){const r=n.getOptions().stackParser;return Rc(r,t),t}}),Dr=(0,N._I)(Cc),Dc=(0,N.RN)(zs,Dr);var wc=a("110753"),Gs;(function(t){const e="ok";t.Ok=e;const n="deadline_exceeded";t.DeadlineExceeded=n;const r="unauthenticated";t.Unauthenticated=r;const s="permission_denied";t.PermissionDenied=s;const i="not_found";t.NotFound=i;const o="resource_exhausted";t.ResourceExhausted=o;const c="invalid_argument";t.InvalidArgument=c;const u="unimplemented";t.Unimplemented=u;const p="unavailable";t.Unavailable=p;const h="internal_error";t.InternalError=h;const b="unknown_error";t.UnknownError=b;const M="cancelled";t.Cancelled=M;const $="already_exists";t.AlreadyExists=$;const K="failed_precondition";t.FailedPrecondition=K;const V="aborted";t.Aborted=V;const Z="out_of_range";t.OutOfRange=Z;const J="data_loss";t.DataLoss=J})(Gs||(Gs={}));function wr(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}const kc=wr;function jn(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);const n=wr(e);n!=="unknown_error"&&t.setStatus(n)}var Xs=a("736005"),Ac=a("950984"),Pc=a("921373");let Ys=!1;function xc(){Ys||(Ys=!0,(0,Ac.V)(kr),(0,Pc.h)(kr))}function kr(){const t=he();if(t){const e="internal_error";nt.X&&S.kg.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}kr.tag="sentry_tracingErrorCallback";var un=a("382729"),Vs=a("365516");class Js{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Hn{constructor(e={}){this._traceId=e.traceId||(0,un.DM)(),this._spanId=e.spanId||(0,un.DM)().substring(16),this._startTime=e.startTimestamp||(0,Ut.ph)(),this.tags=e.tags?D({},e.tags):{},this.data=e.data?D({},e.data):{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes(D({[Ce]:e.origin||"manual",[cn]:e.op},e.attributes)),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?D({},e.measurements):{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[cn]}set op(e){this.setAttribute(cn,e)}get origin(){return this._attributes[Ce]}set origin(e){this.setAttribute(Ce,e)}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?Q.i0:Q.ve}}startChild(e){const n=new Hn(ct(D({},e),{parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId}));n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n);const r=(0,Vs.G)(this);if(n.transaction=r,nt.X&&r){const s=e&&e.op||"< unknown op >",i=(0,Q.XU)(n).description||"< unknown name >",o=r.spanContext().spanId,c=`[Tracing] Starting '${s}' span on transaction '${i}' (${o}).`;S.kg.log(c),this._logMessage=c}return n}setTag(e,n){return this.tags=ct(D({},this.tags),{[e]:n}),this}setData(e,n){return this.data=ct(D({},this.data),{[e]:n}),this}setAttribute(e,n){n===void 0?delete this._attributes[e]:this._attributes[e]=n}setAttributes(e){Object.keys(e).forEach(n=>this.setAttribute(n,e[n]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return jn(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;const n=(0,Vs.G)(this);if(nt.X&&n&&n.spanContext().spanId!==this._spanId){const r=this._logMessage;r&&S.kg.log(r.replace("Starting","Finishing"))}this._endTime=(0,Q.$k)(e)}toTraceparent(){return(0,Q.Hb)(this)}toContext(){return(0,et.Jr)({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return(0,Q.wy)(this)}getSpanJSON(){return(0,et.Jr)({data:this._getData(),description:this._name,op:this._attributes[cn],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ce],_metrics_summary:Ws(this),profile_id:this._attributes[Sc],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:n}=this,r=Object.keys(e).length>0,s=Object.keys(n).length>0;if(!(!r&&!s))return r&&s?D(D({},e),n):r?e:n}}class Zs extends Hn{constructor(e,n){super(e),this._contexts={},this._hub=n||(0,L.Gd)(),this._name=e.name||"",this._metadata=D({},e.metadata),this._trimEnd=e.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext=D({},r))}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return D(D(D({source:"custom",spanMetadata:{}},this._metadata),this._attributes[Qt]&&{source:this._attributes[Qt]}),this._attributes[Me]&&{sampleRate:this._attributes[Me]})}set metadata(e){this._metadata=e}setName(e,n="custom"){this._name=e,this.setAttribute(Qt,n)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Js(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,r=""){this._measurements[e]={value:n,unit:r}}setMetadata(e){this._metadata=D(D({},this._metadata),e)}end(e){const n=(0,Q.$k)(e),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const e=super.toContext();return(0,et.Jr)(ct(D({},e),{name:this._name,trimEnd:this._trimEnd}))}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return(0,it.j)(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(nt.X&&S.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){nt.X&&S.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(h=>h!==this&&(0,Q.XU)(h).timestamp):[];if(this._trimEnd&&r.length>0){const h=r.map(b=>(0,Q.XU)(b).timestamp).filter(Boolean);this._endTime=h.reduce((b,M)=>b>M?b:M)}const{scope:s,isolationScope:i}=ic(this),{metadata:o}=this,{source:c}=o,u=D({contexts:ct(D({},this._contexts),{trace:(0,Q.wy)(this)}),spans:r,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:D(ct(D({},o),{capturedSpanScope:s,capturedSpanIsolationScope:i}),(0,et.Jr)({dynamicSamplingContext:(0,it.j)(this)})),_metrics_summary:Ws(this)},c&&{transaction_info:{source:c}});return Object.keys(this._measurements).length>0&&(nt.X&&S.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),u.measurements=this._measurements),nt.X&&S.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),u}}const ln={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Lc="finishReason",We=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Nc extends Js{constructor(e,n,r,s){super(s),this._pushActivity=e,this._popActivity=n,this.transactionSpanId=r}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const n=e.end;e.end=(...r)=>(this._popActivity(e.spanContext().spanId),n.apply(e,r)),(0,Q.XU)(e).timestamp===void 0&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class Uc extends Zs{constructor(e,n,r=ln.idleTimeout,s=ln.finalTimeout,i=ln.heartbeatInterval,o=!1,c=!1){super(e,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=We[4],this._autoFinishAllowed=!c,o&&(nt.X&&S.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),c||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=We[3],this.end())},this._finalTimeout)}end(e){const n=(0,Q.$k)(e);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(Lc,this._finishReason),this.spanRecorder){nt.X&&S.kg.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;(0,Q.XU)(r).timestamp||(r.setStatus("cancelled"),r.end(n),nt.X&&S.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const{start_timestamp:s,timestamp:i}=(0,Q.XU)(r),o=s&&s<n,c=(this._finalTimeout+this._idleTimeout)/1e3,u=i&&s&&i-s<c;if(nt.X){const p=JSON.stringify(r,void 0,2);o?u||S.kg.log("[Tracing] discarding Span since it finished after Transaction final timeout",p):S.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",p)}return o&&u}),nt.X&&S.kg.log("[Tracing] flushing IdleTransaction")}else nt.X&&S.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},r=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new Nc(n,r,this.spanContext().spanId,e),nt.X&&S.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=We[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(nt.X&&S.kg.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=We[1],this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),nt.X&&S.kg.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,nt.X&&S.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(nt.X&&S.kg.log(`[Tracing] popActivity ${e}`),delete this.activities[e],nt.X&&S.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=(0,Ut.ph)();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=We[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(nt.X&&S.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=We[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){nt.X&&S.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function Qs(t,e,n){if(!mt(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(Me,Number(t.sampled)),t;let r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setAttribute(Me,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof e.tracesSampleRate!="undefined"?(r=e.tracesSampleRate,t.setAttribute(Me,Number(r))):(r=1,t.setAttribute(Me,r)),qs(r)?r?(t.sampled=Math.random()<r,t.sampled?(nt.X&&S.kg.log(`[Tracing] starting ${t.op} transaction - ${(0,Q.XU)(t).description}`),t):(nt.X&&S.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):(nt.X&&S.kg.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(nt.X&&S.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function qs(t){return(0,q.i2)(t)||!(typeof t=="number"||typeof t=="boolean")?(nt.X&&S.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(nt.X&&S.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function Bc(){const e=this.getScope().getSpan();return e?{"sentry-trace":(0,Q.Hb)(e)}:{}}function Fc(t,e){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",i=t.instrumenter||"sentry";s!==i&&(nt.X&&S.kg.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),t.sampled=!1);let o=new Zs(t,this);return o=Qs(o,r,D({name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:D(D({},t.data),t.attributes)},e)),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function $n(t,e,n,r,s,i,o,c=!1){const u=t.getClient(),p=u&&u.getOptions()||{};let h=new Uc(e,t,n,r,o,s,c);return h=Qs(h,p,D({name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:D(D({},e.data),e.attributes)},i)),h.isRecording()&&h.initSpanRecorder(p._experiments&&p._experiments.maxSpans),u&&u.emit&&u.emit("startTransaction",h),h}function Ar(){const t=(0,L.cu)();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=Fc),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=Bc),xc())}function Wc(t,...e){const n=new String(String.raw(t,...e));return n.__sentry_template_string__=t.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=e,n}var jc=a("101957");function ti(t,e,n){const r=he();r&&r.setMeasurement(t,e,n)}var ei=a("371792"),Gt=a("174201"),Hc=a("848882"),$c=a("764500"),De=a("285938"),Pr=a("571301"),Kc=a("47509"),ge=a("855229"),xr=a("74063"),Lr=a("303224"),Nr=a("830247"),Ur=a("225259"),Br=a("661721"),Fr=a("115731");function zc(t,e){return t!=null?t:e()}function Kn(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}function Gc(t,e){const n=e&&Vc(e)?e.getClient():e,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return Yc(t,r)||Xc(t,s)}function Xc(t,e){return e?ni(t)===ni(e):!1}function Yc(t,e){return e?t.includes(e.host):!1}function ni(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function Vc(t){return t.getClient!==void 0}var ri=a("463590"),zn=a("898709"),oe=a("536403"),dn=a("486429"),si=a("654071"),ii=a("122599"),Jc=a("699358"),Wr=a("497235"),jr=a("895240"),Zc=a("610501");function Hr(){return typeof window!="undefined"&&(!(0,Zc.KV)()||Qc())}function Qc(){return me.n2.process!==void 0&&me.n2.process.type==="renderer"}var qc=a("730136");const It=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,Gn=(t,e,n)=>{let r,s;return i=>{e.value>=0&&(i||n)&&(s=e.value-(r||0),(s||r===void 0)&&(r=e.value,e.delta=s,t(e)))}},gt=me.n2,tu=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,eu=()=>{const t=gt.performance.timing,e=gt.performance.navigation.type,n={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(const r in t)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(t[r]-t.navigationStart,0));return n},oi=()=>gt.__WEB_VITALS_POLYFILL__?gt.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||eu()):gt.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],ai=()=>{const t=oi();return t&&t.activationStart||0},Xn=(t,e)=>{const n=oi();let r="navigate";return n&&(gt.document.prerendering||ai()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:t,value:typeof e=="undefined"?-1:e,rating:"good",delta:0,entries:[],id:tu(),navigationType:r}},je=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(s=>{e(s.getEntries())});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(r){}},fn=(t,e)=>{const n=r=>{(r.type==="pagehide"||gt.document.visibilityState==="hidden")&&(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},nu=t=>{const e=Xn("CLS",0);let n,r=0,s=[];const i=c=>{c.forEach(u=>{if(!u.hadRecentInput){const p=s[0],h=s[s.length-1];r&&s.length!==0&&u.startTime-h.startTime<1e3&&u.startTime-p.startTime<5e3?(r+=u.value,s.push(u)):(r=u.value,s=[u]),r>e.value&&(e.value=r,e.entries=s,n&&n())}})},o=je("layout-shift",i);if(o){n=Gn(t,e);const c=()=>{i(o.takeRecords()),n(!0)};return fn(c),c}};let Yn=-1;const ru=()=>gt.document.visibilityState==="hidden"&&!gt.document.prerendering?0:1/0,su=()=>{fn(({timeStamp:t})=>{Yn=t},!0)},$r=()=>(Yn<0&&(Yn=ru(),su()),{get firstHiddenTime(){return Yn}}),iu=t=>{const e=$r(),n=Xn("FID");let r;const s=c=>{c.startTime<e.firstHiddenTime&&(n.value=c.processingStart-c.startTime,n.entries.push(c),r(!0))},i=c=>{c.forEach(s)},o=je("first-input",i);r=Gn(t,n),o&&fn(()=>{i(o.takeRecords()),o.disconnect()},!0)};let ci=0,Kr=1/0,Vn=0;const ou=t=>{t.forEach(e=>{e.interactionId&&(Kr=Math.min(Kr,e.interactionId),Vn=Math.max(Vn,e.interactionId),ci=Vn?(Vn-Kr)/7+1:0)})};let zr;const au=()=>zr?ci:performance.interactionCount||0,cu=()=>{"interactionCount"in performance||zr||(zr=je("event",ou,{type:"event",buffered:!0,durationThreshold:0}))},ui=()=>au(),li=10,_e=[],Gr={},di=t=>{const e=_e[_e.length-1],n=Gr[t.interactionId];if(n||_e.length<li||t.duration>e.latency){if(n)n.entries.push(t),n.latency=Math.max(n.latency,t.duration);else{const r={id:t.interactionId,latency:t.duration,entries:[t]};Gr[r.id]=r,_e.push(r)}_e.sort((r,s)=>s.latency-r.latency),_e.splice(li).forEach(r=>{delete Gr[r.id]})}},uu=()=>{const t=Math.min(_e.length-1,Math.floor(ui()/50));return _e[t]},lu=(t,e)=>{e=e||{},cu();const n=Xn("INP");let r;const s=o=>{o.forEach(u=>{u.interactionId&&di(u),u.entryType==="first-input"&&!_e.some(h=>h.entries.some(b=>u.duration===b.duration&&u.startTime===b.startTime))&&di(u)});const c=uu();c&&c.latency!==n.value&&(n.value=c.latency,n.entries=c.entries,r())},i=je("event",s,{durationThreshold:e.durationThreshold||40});r=Gn(t,n,e.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),fn(()=>{s(i.takeRecords()),n.value<0&&ui()>0&&(n.value=0,n.entries=[]),r(!0)}))},fi={},du=t=>{const e=$r(),n=Xn("LCP");let r;const s=o=>{const c=o[o.length-1];if(c){const u=Math.max(c.startTime-ai(),0);u<e.firstHiddenTime&&(n.value=u,n.entries=[c],r())}},i=je("largest-contentful-paint",s);if(i){r=Gn(t,n);const o=()=>{fi[n.id]||(s(i.takeRecords()),i.disconnect(),fi[n.id]=!0,r(!0))};return["keydown","click"].forEach(c=>{addEventListener(c,o,{once:!0,capture:!0})}),fn(o,!0),o}},pn={},Jn={};let pi,hi,mi,gi;function fu(t,e=!1){return Zn("cls",t,mu,pi,e)}function _i(t,e=!1){return Zn("lcp",t,_u,mi,e)}function pu(t){return Zn("fid",t,gu,hi)}function hu(t){return Zn("inp",t,yu,gi)}function hn(t,e){return yi(t,e),Jn[t]||(Eu(t),Jn[t]=!0),Ei(t,e)}function mn(t,e){const n=pn[t];if(!(!n||!n.length))for(const r of n)try{r(e)}catch(s){It&&S.kg.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${(0,qc.$P)(r)}
Error:`,s)}}function mu(){return nu(t=>{mn("cls",{metric:t}),pi=t})}function gu(){return iu(t=>{mn("fid",{metric:t}),hi=t})}function _u(){return du(t=>{mn("lcp",{metric:t}),mi=t})}function yu(){return lu(t=>{mn("inp",{metric:t}),gi=t})}function Zn(t,e,n,r,s=!1){yi(t,e);let i;return Jn[t]||(i=n(),Jn[t]=!0),r&&e({metric:r}),Ei(t,e,s?i:void 0)}function Eu(t){const e={};t==="event"&&(e.durationThreshold=0),je(t,n=>{mn(t,{entries:n})},e)}function yi(t,e){pn[t]=pn[t]||[],pn[t].push(e)}function Ei(t,e,n){return()=>{n&&n();const r=pn[t];if(!r)return;const s=r.indexOf(e);s!==-1&&r.splice(s,1)}}const kt=me.n2,Xr="sentryReplaySession",vu="replay_event",Yr="Unable to send Replay",Su=3e5,Tu=9e5,bu=5e3,Iu=5500,Ou=6e4,Ru=5e3,Mu=3,vi=15e4,Qn=5e3,Cu=3e3,Du=300,Vr=2e7,wu=4999,ku=15e3,Si=36e5;function Au(t,e){return t!=null?t:e()}function qn(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}var zt;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(zt||(zt={}));function Pu(t){return t.nodeType===t.ELEMENT_NODE}function gn(t){const e=qn([t,"optionalAccess",n=>n.host]);return qn([e,"optionalAccess",n=>n.shadowRoot])===t}function _n(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function xu(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t}function Lu(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}function tr(t){try{const e=t.rules||t.cssRules;return e?xu(Array.from(e,Ti).join("")):null}catch(e){return null}}function Ti(t){let e;if(Uu(t))try{e=tr(t.styleSheet)||Lu(t)}catch(n){}else if(Bu(t)&&t.selectorText.includes(":"))return Nu(t.cssText);return e||t.cssText}function Nu(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function Uu(t){return"styleSheet"in t}function Bu(t){return"selectorText"in t}class bi{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const n=qn([this,"access",r=>r.getMeta,"call",r=>r(e),"optionalAccess",r=>r.id]);return Au(n,()=>-1)}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,n){const r=n.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,n)}replace(e,n){const r=this.getNode(e);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(e,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Fu(){return new bi}function er({maskInputOptions:t,tagName:e,type:n}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||n&&t[n]||n==="password"||e==="INPUT"&&!n&&t.text)}function yn({isMasked:t,element:e,value:n,maskInputFn:r}){let s=n||"";return t?(r&&(s=r(s,e)),"*".repeat(s.length)):s}function He(t){return t.toLowerCase()}function Jr(t){return t.toUpperCase()}const Ii="__rrweb_original__";function Wu(t){const e=t.getContext("2d");if(!e)return!0;const n=50;for(let r=0;r<t.width;r+=n)for(let s=0;s<t.height;s+=n){const i=e.getImageData,o=Ii in i?i[Ii]:i;if(new Uint32Array(o.call(e,r,s,Math.min(n,t.width-r),Math.min(n,t.height-s)).data.buffer).some(u=>u!==0))return!1}return!0}function Zr(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?He(e):null}function nr(t,e,n){return e==="INPUT"&&(n==="radio"||n==="checkbox")?t.getAttribute("value")||"":t.value}let ju=1;const Hu=new RegExp("[^a-z0-9-_:]"),En=-2;function Qr(){return ju++}function $u(t){if(t instanceof HTMLFormElement)return"form";const e=He(t.tagName);return Hu.test(e)?"div":e}function Ku(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let $e,Oi;const zu=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Gu=/^(?:[a-z+]+:)?\/\//i,Xu=/^www\..*/i,Yu=/^(data:)([^,]*),(.*)/i;function rr(t,e){return(t||"").replace(zu,(n,r,s,i,o,c)=>{const u=s||o||c,p=r||i||"";if(!u)return n;if(Gu.test(u)||Xu.test(u))return`url(${p}${u}${p})`;if(Yu.test(u))return`url(${p}${u}${p})`;if(u[0]==="/")return`url(${p}${Ku(e)+u}${p})`;const h=e.split("/"),b=u.split("/");h.pop();for(const M of b)M!=="."&&(M===".."?h.pop():h.push(M));return`url(${p}${h.join("/")}${p})`})}const Vu=/^[^ \t\n\r\u000c]+/,Ju=/^[, \t\n\r\u000c]+/;function Zu(t,e){if(e.trim()==="")return e;let n=0;function r(i){let o;const c=i.exec(e.substring(n));return c?(o=c[0],n+=o.length,o):""}const s=[];for(;r(Ju),!(n>=e.length);){let i=r(Vu);if(i.slice(-1)===",")i=Ke(t,i.substring(0,i.length-1)),s.push(i);else{let o="";i=Ke(t,i);let c=!1;for(;;){const u=e.charAt(n);if(u===""){s.push((i+o).trim());break}else if(c)u===")"&&(c=!1);else if(u===","){n+=1,s.push((i+o).trim());break}else u==="("&&(c=!0);o+=u,n+=1}}}return s.join(", ")}function Ke(t,e){if(!e||e.trim()==="")return e;const n=t.createElement("a");return n.href=e,n.href}function Qu(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function qr(){const t=document.createElement("a");return t.href="",t.href}function Ri(t,e,n,r,s,i){return r&&(n==="src"||n==="href"&&!(e==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(e==="table"||e==="td"||e==="th")?Ke(t,r):n==="srcset"?Zu(t,r):n==="style"?rr(r,qr()):e==="object"&&n==="data"?Ke(t,r):typeof i=="function"?i(n,r,s):r)}function Mi(t,e,n){return(t==="video"||t==="audio")&&e==="autoplay"}function qu(t,e,n,r){try{if(r&&t.matches(r))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let s=t.classList.length;s--;){const i=t.classList[s];if(e.test(i))return!0}if(n)return t.matches(n)}catch(s){}return!1}function tl(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}function we(t,e,n=1/0,r=0){return!t||t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:we(t.parentNode,e,n,r+1)}function ze(t,e){return n=>{const r=n;if(r===null)return!1;try{if(t){if(typeof t=="string"){if(r.matches(`.${t}`))return!0}else if(tl(r,t))return!0}return!!(e&&r.matches(e))}catch(s){return!1}}}function Ge(t,e,n,r,s,i){try{const o=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const p=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(p))return!0}let c=-1,u=-1;if(i){if(u=we(o,ze(r,s)),u<0)return!0;c=we(o,ze(e,n),u>=0?u:1/0)}else{if(c=we(o,ze(e,n)),c<0)return!1;u=we(o,ze(r,s),c>=0?c:1/0)}return c>=0?u>=0?c<=u:!0:u>=0?!1:!!i}catch(o){}return!!i}function el(t,e,n){const r=t.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch(c){return}if(i!=="complete"){const c=setTimeout(()=>{s||(e(),s=!0)},n);t.addEventListener("load",()=>{clearTimeout(c),s=!0,e()});return}const o="about:blank";if(r.location.href!==o||t.src===o||t.src==="")return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function nl(t,e,n){let r=!1,s;try{s=t.sheet}catch(o){return}if(s)return;const i=setTimeout(()=>{r||(e(),r=!0)},n);t.addEventListener("load",()=>{clearTimeout(i),r=!0,e()})}function rl(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:c,maskAttributeFn:u,maskTextClass:p,unmaskTextClass:h,maskTextSelector:b,unmaskTextSelector:M,inlineStylesheet:$,maskInputOptions:K={},maskTextFn:V,maskInputFn:Z,dataURLOptions:J={},inlineImages:rt,recordCanvas:st,keepIframeSrcFn:ut,newlyAddedElement:lt=!1}=e,ot=sl(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:zt.Document,childNodes:[],compatMode:t.compatMode}:{type:zt.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:zt.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:ot};case t.ELEMENT_NODE:return ol(t,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:$,maskAttributeFn:u,maskInputOptions:K,maskInputFn:Z,dataURLOptions:J,inlineImages:rt,recordCanvas:st,keepIframeSrcFn:ut,newlyAddedElement:lt,rootId:ot,maskAllText:c,maskTextClass:p,unmaskTextClass:h,maskTextSelector:b,unmaskTextSelector:M});case t.TEXT_NODE:return il(t,{maskAllText:c,maskTextClass:p,unmaskTextClass:h,maskTextSelector:b,unmaskTextSelector:M,maskTextFn:V,maskInputOptions:K,maskInputFn:Z,rootId:ot});case t.CDATA_SECTION_NODE:return{type:zt.CDATA,textContent:"",rootId:ot};case t.COMMENT_NODE:return{type:zt.Comment,textContent:t.textContent||"",rootId:ot};default:return!1}}function sl(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return n===1?void 0:n}function il(t,e){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:c,maskInputOptions:u,maskInputFn:p,rootId:h}=e,b=t.parentNode&&t.parentNode.tagName;let M=t.textContent;const $=b==="STYLE"?!0:void 0,K=b==="SCRIPT"?!0:void 0,V=b==="TEXTAREA"?!0:void 0;if($&&M){try{t.nextSibling||t.previousSibling||qn([t,"access",J=>J.parentNode,"access",J=>J.sheet,"optionalAccess",J=>J.cssRules])&&(M=tr(t.parentNode.sheet))}catch(J){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${J}`,t)}M=rr(M,qr())}K&&(M="SCRIPT_PLACEHOLDER");const Z=Ge(t,r,i,s,o,n);if(!$&&!K&&!V&&M&&Z&&(M=c?c(M):M.replace(/[\S]/g,"*")),V&&M&&(u.textarea||Z)&&(M=p?p(M,t.parentNode):M.replace(/[\S]/g,"*")),b==="OPTION"&&M){const J=er({type:null,tagName:b,maskInputOptions:u});M=yn({isMasked:Ge(t,r,i,s,o,J),element:t,value:M,maskInputFn:p})}return{type:zt.Text,textContent:M||"",isStyle:$,rootId:h}}function ol(t,e){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:c={},maskAttributeFn:u,maskInputFn:p,dataURLOptions:h={},inlineImages:b,recordCanvas:M,keepIframeSrcFn:$,newlyAddedElement:K=!1,rootId:V,maskAllText:Z,maskTextClass:J,unmaskTextClass:rt,maskTextSelector:st,unmaskTextSelector:ut}=e,lt=qu(t,r,s,i),ot=$u(t);let at={};const Tt=t.attributes.length;for(let dt=0;dt<Tt;dt++){const _t=t.attributes[dt];_t.name&&!Mi(ot,_t.name,_t.value)&&(at[_t.name]=Ri(n,ot,He(_t.name),_t.value,t,u))}if(ot==="link"&&o){const dt=Array.from(n.styleSheets).find(Pt=>Pt.href===t.href);let _t=null;dt&&(_t=tr(dt)),_t&&(delete at.rel,delete at.href,at._cssText=rr(_t,dt.href))}if(ot==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const dt=tr(t.sheet);dt&&(at._cssText=rr(dt,qr()))}if(ot==="input"||ot==="textarea"||ot==="select"||ot==="option"){const dt=t,_t=Zr(dt),Pt=nr(dt,Jr(ot),_t),Kt=dt.checked;if(_t!=="submit"&&_t!=="button"&&Pt){const Wt=Ge(dt,J,st,rt,ut,er({type:_t,tagName:Jr(ot),maskInputOptions:c}));at.value=yn({isMasked:Wt,element:dt,value:Pt,maskInputFn:p})}Kt&&(at.checked=Kt)}if(ot==="option"&&(t.selected&&!c.select?at.selected=!0:delete at.selected),ot==="canvas"&&M){if(t.__context==="2d")Wu(t)||(at.rr_dataURL=t.toDataURL(h.type,h.quality));else if(!("__context"in t)){const dt=t.toDataURL(h.type,h.quality),_t=document.createElement("canvas");_t.width=t.width,_t.height=t.height;const Pt=_t.toDataURL(h.type,h.quality);dt!==Pt&&(at.rr_dataURL=dt)}}if(ot==="img"&&b){$e||($e=n.createElement("canvas"),Oi=$e.getContext("2d"));const dt=t,_t=dt.crossOrigin;dt.crossOrigin="anonymous";const Pt=()=>{dt.removeEventListener("load",Pt);try{$e.width=dt.naturalWidth,$e.height=dt.naturalHeight,Oi.drawImage(dt,0,0),at.rr_dataURL=$e.toDataURL(h.type,h.quality)}catch(Kt){console.warn(`Cannot inline img src=${dt.currentSrc}! Error: ${Kt}`)}_t?at.crossOrigin=_t:dt.removeAttribute("crossorigin")};dt.complete&&dt.naturalWidth!==0?Pt():dt.addEventListener("load",Pt)}if((ot==="audio"||ot==="video")&&(at.rr_mediaState=t.paused?"paused":"played",at.rr_mediaCurrentTime=t.currentTime),K||(t.scrollLeft&&(at.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(at.rr_scrollTop=t.scrollTop)),lt){const{width:dt,height:_t}=t.getBoundingClientRect();at={class:at.class,rr_width:`${dt}px`,rr_height:`${_t}px`}}ot==="iframe"&&!$(at.src)&&(t.contentDocument||(at.rr_src=at.src),delete at.src);let Dt;try{customElements.get(ot)&&(Dt=!0)}catch(dt){}return{type:zt.Element,tagName:ot,attributes:at,childNodes:[],isSVG:Qu(t)||void 0,needBlock:lt,rootId:V,isCustom:Dt}}function At(t){return t==null?"":t.toLowerCase()}function al(t,e){if(e.comment&&t.type===zt.Comment)return!0;if(t.type===zt.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")&&t.attributes.as==="script"||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(At(t.attributes.name).match(/^msapplication-tile(image|color)$/)||At(t.attributes.name)==="application-name"||At(t.attributes.rel)==="icon"||At(t.attributes.rel)==="apple-touch-icon"||At(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&At(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(At(t.attributes.property).match(/^(og|twitter|fb):/)||At(t.attributes.name).match(/^(og|twitter):/)||At(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(At(t.attributes.name)==="robots"||At(t.attributes.name)==="googlebot"||At(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(At(t.attributes.name)==="author"||At(t.attributes.name)==="generator"||At(t.attributes.name)==="framework"||At(t.attributes.name)==="publisher"||At(t.attributes.name)==="progid"||At(t.attributes.property).match(/^article:/)||At(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(At(t.attributes.name)==="google-site-verification"||At(t.attributes.name)==="yandex-verification"||At(t.attributes.name)==="csrf-token"||At(t.attributes.name)==="p:domain_verify"||At(t.attributes.name)==="verify-v1"||At(t.attributes.name)==="verification"||At(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Xe(t,e){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:c,maskTextClass:u,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:b,skipChild:M=!1,inlineStylesheet:$=!0,maskInputOptions:K={},maskAttributeFn:V,maskTextFn:Z,maskInputFn:J,slimDOMOptions:rt,dataURLOptions:st={},inlineImages:ut=!1,recordCanvas:lt=!1,onSerialize:ot,onIframeLoad:at,iframeLoadTimeout:Tt=5e3,onStylesheetLoad:Dt,stylesheetLoadTimeout:dt=5e3,keepIframeSrcFn:_t=()=>!1,newlyAddedElement:Pt=!1}=e;let{preserveWhiteSpace:Kt=!0}=e;const Wt=rl(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:c,unblockSelector:o,maskTextClass:u,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:b,inlineStylesheet:$,maskInputOptions:K,maskAttributeFn:V,maskTextFn:Z,maskInputFn:J,dataURLOptions:st,inlineImages:ut,recordCanvas:lt,keepIframeSrcFn:_t,newlyAddedElement:Pt});if(!Wt)return console.warn(t,"not serialized"),null;let te;r.hasNode(t)?te=r.getId(t):al(Wt,rt)||!Kt&&Wt.type===zt.Text&&!Wt.isStyle&&!Wt.textContent.replace(/^\s+|\s+$/gm,"").length?te=En:te=Qr();const wt=Object.assign(Wt,{id:te});if(r.add(t,wt),te===En)return null;ot&&ot(t);let fe=!M;if(wt.type===zt.Element){fe=fe&&!wt.needBlock,delete wt.needBlock;const Nt=t.shadowRoot;Nt&&_n(Nt)&&(wt.isShadowHost=!0)}if((wt.type===zt.Document||wt.type===zt.Element)&&fe){rt.headWhitespace&&wt.type===zt.Element&&wt.tagName==="head"&&(Kt=!1);const Nt={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:c,unblockSelector:o,maskTextClass:u,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:b,skipChild:M,inlineStylesheet:$,maskInputOptions:K,maskAttributeFn:V,maskTextFn:Z,maskInputFn:J,slimDOMOptions:rt,dataURLOptions:st,inlineImages:ut,recordCanvas:lt,preserveWhiteSpace:Kt,onSerialize:ot,onIframeLoad:at,iframeLoadTimeout:Tt,onStylesheetLoad:Dt,stylesheetLoadTimeout:dt,keepIframeSrcFn:_t};for(const Zt of Array.from(t.childNodes)){const pe=Xe(Zt,Nt);pe&&wt.childNodes.push(pe)}if(Pu(t)&&t.shadowRoot)for(const Zt of Array.from(t.shadowRoot.childNodes)){const pe=Xe(Zt,Nt);pe&&(_n(t.shadowRoot)&&(pe.isShadow=!0),wt.childNodes.push(pe))}}return t.parentNode&&gn(t.parentNode)&&_n(t.parentNode)&&(wt.isShadow=!0),wt.type===zt.Element&&wt.tagName==="iframe"&&el(t,()=>{const Nt=t.contentDocument;if(Nt&&at){const Zt=Xe(Nt,{doc:Nt,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:c,maskTextClass:u,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:b,skipChild:!1,inlineStylesheet:$,maskInputOptions:K,maskAttributeFn:V,maskTextFn:Z,maskInputFn:J,slimDOMOptions:rt,dataURLOptions:st,inlineImages:ut,recordCanvas:lt,preserveWhiteSpace:Kt,onSerialize:ot,onIframeLoad:at,iframeLoadTimeout:Tt,onStylesheetLoad:Dt,stylesheetLoadTimeout:dt,keepIframeSrcFn:_t});Zt&&at(t,Zt)}},Tt),wt.type===zt.Element&&wt.tagName==="link"&&wt.attributes.rel==="stylesheet"&&nl(t,()=>{if(Dt){const Nt=Xe(t,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:c,maskTextClass:u,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:b,skipChild:!1,inlineStylesheet:$,maskInputOptions:K,maskAttributeFn:V,maskTextFn:Z,maskInputFn:J,slimDOMOptions:rt,dataURLOptions:st,inlineImages:ut,recordCanvas:lt,preserveWhiteSpace:Kt,onSerialize:ot,onIframeLoad:at,iframeLoadTimeout:Tt,onStylesheetLoad:Dt,stylesheetLoadTimeout:dt,keepIframeSrcFn:_t});Nt&&Dt(t,Nt)}},dt),wt}function cl(t,e){const{mirror:n=new bi,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:c="rr-mask",unmaskTextClass:u=null,maskTextSelector:p=null,unmaskTextSelector:h=null,inlineStylesheet:b=!0,inlineImages:M=!1,recordCanvas:$=!1,maskAllInputs:K=!1,maskAttributeFn:V,maskTextFn:Z,maskInputFn:J,slimDOM:rt=!1,dataURLOptions:st,preserveWhiteSpace:ut,onSerialize:lt,onIframeLoad:ot,iframeLoadTimeout:at,onStylesheetLoad:Tt,stylesheetLoadTimeout:Dt,keepIframeSrcFn:dt=()=>!1}=e||{};return Xe(t,{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:b,maskInputOptions:K===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:K===!1?{}:K,maskAttributeFn:V,maskTextFn:Z,maskInputFn:J,slimDOMOptions:rt===!0||rt==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:rt==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:rt===!1?{}:rt,dataURLOptions:st,inlineImages:M,recordCanvas:$,preserveWhiteSpace:ut,onSerialize:lt,onIframeLoad:ot,iframeLoadTimeout:at,onStylesheetLoad:Tt,stylesheetLoadTimeout:Dt,keepIframeSrcFn:dt,newlyAddedElement:!1})}function ve(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}function Xt(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const Ye=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Ci={map:{},getId(){return console.error(Ye),-1},getNode(){return console.error(Ye),null},removeNodeFromMap(){console.error(Ye)},has(){return console.error(Ye),!1},reset(){console.error(Ye)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(Ci=new Proxy(Ci,{get(t,e,n){return e==="map"&&console.error(Ye),Reflect.get(t,e,n)}}));function vn(t,e,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const c=e-(o-s),u=this;c<=0||c>e?(r&&(clearTimeout(r),r=null),s=o,t.apply(u,i)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{s=n.leading===!1?0:Date.now(),r=null,t.apply(u,i)},c))}}function Di(t,e,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(t,e);return s.Object.defineProperty(t,e,r?n:{set(o){setTimeout(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>Di(t,e,i||{},!0)}function ts(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=s,()=>{t[e]=r}}catch(r){return()=>{}}}let sr=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(sr=()=>new Date().getTime());function wi(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:ve([e,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||ve([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||ve([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:e.scrollingElement?e.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:ve([e,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||ve([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||ve([e,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function ki(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Ai(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ne(t,e,n,r,s){if(!t)return!1;const i=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(!i)return!1;const o=ze(e,n);if(!s){const p=r&&i.matches(r);return o(i)&&!p}const c=we(i,o);let u=-1;return c<0?!1:(r&&(u=we(i,ze(null,r))),c>-1&&u<0?!0:c<u)}function ul(t,e){return e.getId(t)!==-1}function es(t,e){return e.getId(t)===En}function Pi(t,e){if(gn(t))return!1;const n=e.getId(t);return e.has(n)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?Pi(t.parentNode,e):!0:!0}function ns(t){return!!t.changedTouches}function ll(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let n=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function xi(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function Li(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function rs(t){return!!ve([t,"optionalAccess",e=>e.shadowRoot])}class dl{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return zc(this.styleIDMap.get(e),()=>-1)}has(e){return this.styleIDMap.has(e)}add(e,n){if(this.has(e))return this.getId(e);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ni(t){let e=null;return ve([t,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function fl(t){let e=t,n;for(;n=Ni(e);)e=n;return e}function pl(t){const e=t.ownerDocument;if(!e)return!1;const n=fl(t);return e.contains(n)}function Ui(t){const e=t.ownerDocument;return e?e.contains(t)||pl(t):!1}let ss;function hl(){if(ss)return ss;const t=window.document;let e=window.requestAnimationFrame;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.requestAnimationFrame&&(e=r.requestAnimationFrame),t.head.removeChild(n)}catch(n){}return ss=e.bind(window)}function ml(...t){return hl()(...t)}var Et=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Et||{}),vt=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(vt||{}),Yt=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(Yt||{}),ye=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(ye||{});function gl(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}function Bi(t){return"__ln"in t}class _l{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<e;r++)n=gl([n,"optionalAccess",s=>s.next])||null;return n}addNode(e){const n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&Bi(e.previousSibling)){const r=e.previousSibling.__ln.next;n.next=r,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(e.nextSibling&&Bi(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;n.previous=r,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(e){const n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Fi=(t,e)=>`${t}@${e}`;class yl{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],n=new Set,r=new _l,s=u=>{let p=u,h=En;for(;h===En;)p=p&&p.nextSibling,h=p&&this.mirror.getId(p);return h},i=u=>{if(!u.parentNode||!Ui(u))return;const p=gn(u.parentNode)?this.mirror.getId(Ni(u)):this.mirror.getId(u.parentNode),h=s(u);if(p===-1||h===-1)return r.addNode(u);const b=Xe(u,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:M=>{xi(M,this.mirror)&&this.iframeManager.addIframe(M),Li(M,this.mirror)&&this.stylesheetManager.trackLinkElement(M),rs(u)&&this.shadowDomManager.addShadowRoot(u.shadowRoot,this.doc)},onIframeLoad:(M,$)=>{this.iframeManager.attachIframe(M,$),this.shadowDomManager.observeAttachShadow(M)},onStylesheetLoad:(M,$)=>{this.stylesheetManager.attachLinkElement(M,$)}});b&&(e.push({parentId:p,nextId:h,node:b}),n.add(b.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const u of this.movedSet)Wi(this.removes,u,this.mirror)&&!this.movedSet.has(u.parentNode)||i(u);for(const u of this.addedSet)!Hi(this.droppedSet,u)&&!Wi(this.removes,u,this.mirror)||Hi(this.movedSet,u)?i(u):this.droppedSet.add(u);let o=null;for(;r.length;){let u=null;if(o){const p=this.mirror.getId(o.value.parentNode),h=s(o.value);p!==-1&&h!==-1&&(u=o)}if(!u){let p=r.tail;for(;p;){const h=p;if(p=p.previous,h){const b=this.mirror.getId(h.value.parentNode);if(s(h.value)===-1)continue;if(b!==-1){u=h;break}else{const $=h.value;if($.parentNode&&$.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const K=$.parentNode.host;if(this.mirror.getId(K)!==-1){u=h;break}}}}}}if(!u){for(;r.head;)r.removeNode(r.head.value);break}o=u.previous,r.removeNode(u.value),i(u.value)}const c={texts:this.texts.map(u=>({id:this.mirror.getId(u.node),value:u.value})).filter(u=>!n.has(u.id)).filter(u=>this.mirror.has(u.id)),attributes:this.attributes.map(u=>{const{attributes:p}=u;if(typeof p.style=="string"){const h=JSON.stringify(u.styleDiff),b=JSON.stringify(u._unchangedStyles);h.length<p.style.length&&(h+b).split("var(").length===p.style.split("var(").length&&(p.style=u.styleDiff)}return{id:this.mirror.getId(u.node),attributes:p}}).filter(u=>!n.has(u.id)).filter(u=>this.mirror.has(u.id)),removes:this.removes,adds:e};!c.texts.length&&!c.attributes.length&&!c.removes.length&&!c.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(c))},this.processMutation=e=>{if(es(e.target,this.mirror))return;let n;try{n=document.implementation.createHTMLDocument()}catch(r){n=this.doc}switch(e.type){case"characterData":{const r=e.target.textContent;!ne(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==e.oldValue&&this.texts.push({value:Ge(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r):r.replace(/[\S]/g,"*"):r,node:e.target});break}case"attributes":{const r=e.target;let s=e.attributeName,i=e.target.getAttribute(s);if(s==="value"){const c=Zr(r),u=r.tagName;i=nr(r,u,c);const p=er({maskInputOptions:this.maskInputOptions,tagName:u,type:c}),h=Ge(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,p);i=yn({isMasked:h,element:r,value:i,maskInputFn:this.maskInputFn})}if(ne(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===e.oldValue)return;let o=this.attributes.find(c=>c.node===e.target);if(r.tagName==="IFRAME"&&s==="src"&&!this.keepIframeSrcFn(i))if(!r.contentDocument)s="rr_src";else return;if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o)),s==="type"&&r.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Mi(r.tagName,s)&&(o.attributes[s]=Ri(this.doc,He(r.tagName),He(s),i,r,this.maskAttributeFn),s==="style")){const c=n.createElement("span");e.oldValue&&c.setAttribute("style",e.oldValue);for(const u of Array.from(r.style)){const p=r.style.getPropertyValue(u),h=r.style.getPropertyPriority(u);p!==c.style.getPropertyValue(u)||h!==c.style.getPropertyPriority(u)?h===""?o.styleDiff[u]=p:o.styleDiff[u]=[p,h]:o._unchangedStyles[u]=[p,h]}for(const u of Array.from(c.style))r.style.getPropertyValue(u)===""&&(o.styleDiff[u]=!1)}break}case"childList":{if(ne(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(r=>this.genAdds(r,e.target)),e.removedNodes.forEach(r=>{const s=this.mirror.getId(r),i=gn(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);ne(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||es(r,this.mirror)||!ul(r,this.mirror)||(this.addedSet.has(r)?(is(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(e.target)&&s===-1||Pi(e.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[Fi(s,i)]?is(this.movedSet,r):this.removes.push({parentId:i,id:s,isShadow:gn(e.target)&&_n(e.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(e,n)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(es(e,this.mirror))return;this.movedSet.add(e);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Fi(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);ne(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(r=>this.genAdds(r)),rs(e)&&e.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=e[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function is(t,e){t.delete(e),e.childNodes.forEach(n=>is(t,n))}function Wi(t,e,n){return t.length===0?!1:ji(t,e,n)}function ji(t,e,n){const{parentNode:r}=e;if(!r)return!1;const s=n.getId(r);return t.some(i=>i.id===s)?!0:ji(t,r,n)}function Hi(t,e){return t.size===0?!1:$i(t,e)}function $i(t,e){const{parentNode:n}=e;return n?t.has(n)?!0:$i(t,n):!1}let Sn;function El(t){Sn=t}function vl(){Sn=void 0}const bt=t=>Sn?(...n)=>{try{return t(...n)}catch(r){if(Sn&&Sn(r)===!0)return()=>{};throw r}}:t;function ae(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}const Ve=[];function Tn(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(e){}return t&&t.target}function Ki(t,e){const n=new yl;Ve.push(n),n.init(t);let r=window.MutationObserver||window.__rrMutationObserver;const s=ae([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);s&&window[s]&&(r=window[s]);const i=new r(bt(o=>{t.onMutation&&t.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return i.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Sl({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(e.mousemove===!1)return()=>{};const s=typeof e.mousemove=="number"?e.mousemove:50,i=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let o=[],c;const u=vn(bt(b=>{const M=Date.now()-c;t(o.map($=>($.timeOffset-=M,$)),b),o=[],c=null}),i),p=bt(vn(bt(b=>{const M=Tn(b),{clientX:$,clientY:K}=ns(b)?b.changedTouches[0]:b;c||(c=sr()),o.push({x:$,y:K,id:r.getId(M),timeOffset:sr()-c}),u(typeof DragEvent!="undefined"&&b instanceof DragEvent?vt.Drag:b instanceof MouseEvent?vt.MouseMove:vt.TouchMove)}),s,{trailing:!1})),h=[Xt("mousemove",p,n),Xt("touchmove",p,n),Xt("drag",p,n)];return bt(()=>{h.forEach(b=>b())})}function Tl({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const c=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,u=[];let p=null;const h=b=>M=>{const $=Tn(M);if(ne($,r,s,i,!0))return;let K=null,V=b;if("pointerType"in M){switch(M.pointerType){case"mouse":K=ye.Mouse;break;case"touch":K=ye.Touch;break;case"pen":K=ye.Pen;break}K===ye.Touch?Yt[b]===Yt.MouseDown?V="TouchStart":Yt[b]===Yt.MouseUp&&(V="TouchEnd"):ye.Pen}else ns(M)&&(K=ye.Touch);K!==null?(p=K,(V.startsWith("Touch")&&K===ye.Touch||V.startsWith("Mouse")&&K===ye.Mouse)&&(K=null)):Yt[b]===Yt.Click&&(K=p,p=null);const Z=ns(M)?M.changedTouches[0]:M;if(!Z)return;const J=n.getId($),{clientX:rt,clientY:st}=Z;bt(t)(D({type:Yt[V],id:J,x:rt,y:st},K!==null&&{pointerType:K}))};return Object.keys(Yt).filter(b=>Number.isNaN(Number(b))&&!b.endsWith("_Departed")&&c[b]!==!1).forEach(b=>{let M=He(b);const $=h(b);if(window.PointerEvent)switch(Yt[b]){case Yt.MouseDown:case Yt.MouseUp:M=M.replace("mouse","pointer");break;case Yt.TouchStart:case Yt.TouchEnd:return}u.push(Xt(M,$,e))}),bt(()=>{u.forEach(b=>b())})}function zi({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const c=bt(vn(bt(u=>{const p=Tn(u);if(!p||ne(p,r,s,i,!0))return;const h=n.getId(p);if(p===e&&e.defaultView){const b=wi(e.defaultView);t({id:h,x:b.left,y:b.top})}else t({id:h,x:p.scrollLeft,y:p.scrollTop})}),o.scroll||100));return Xt("scroll",c,e)}function bl({viewportResizeCb:t},{win:e}){let n=-1,r=-1;const s=bt(vn(bt(()=>{const i=ki(),o=Ai();(n!==i||r!==o)&&(t({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return Xt("resize",s,e)}const Il=["INPUT","TEXTAREA","SELECT"],Gi=new WeakMap;function Ol({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:c,maskInputOptions:u,maskInputFn:p,sampling:h,userTriggeredOnInput:b,maskTextClass:M,unmaskTextClass:$,maskTextSelector:K,unmaskTextSelector:V}){function Z(at){let Tt=Tn(at);const Dt=at.isTrusted,dt=Tt&&Jr(Tt.tagName);if(dt==="OPTION"&&(Tt=Tt.parentElement),!Tt||!dt||Il.indexOf(dt)<0||ne(Tt,r,s,i,!0))return;const _t=Tt;if(_t.classList.contains(o)||c&&_t.matches(c))return;const Pt=Zr(Tt);let Kt=nr(_t,dt,Pt),Wt=!1;const te=er({maskInputOptions:u,tagName:dt,type:Pt}),wt=Ge(Tt,M,K,$,V,te);(Pt==="radio"||Pt==="checkbox")&&(Wt=Tt.checked),Kt=yn({isMasked:wt,element:Tt,value:Kt,maskInputFn:p}),J(Tt,b?{text:Kt,isChecked:Wt,userTriggered:Dt}:{text:Kt,isChecked:Wt});const fe=Tt.name;Pt==="radio"&&fe&&Wt&&e.querySelectorAll(`input[type="radio"][name="${fe}"]`).forEach(Nt=>{if(Nt!==Tt){const Zt=yn({isMasked:wt,element:Nt,value:nr(Nt,dt,Pt),maskInputFn:p});J(Nt,b?{text:Zt,isChecked:!Wt,userTriggered:!1}:{text:Zt,isChecked:!Wt})}})}function J(at,Tt){const Dt=Gi.get(at);if(!Dt||Dt.text!==Tt.text||Dt.isChecked!==Tt.isChecked){Gi.set(at,Tt);const dt=n.getId(at);bt(t)(ct(D({},Tt),{id:dt}))}}const st=(h.input==="last"?["change"]:["input","change"]).map(at=>Xt(at,bt(Z),e)),ut=e.defaultView;if(!ut)return()=>{st.forEach(at=>at())};const lt=ut.Object.getOwnPropertyDescriptor(ut.HTMLInputElement.prototype,"value"),ot=[[ut.HTMLInputElement.prototype,"value"],[ut.HTMLInputElement.prototype,"checked"],[ut.HTMLSelectElement.prototype,"value"],[ut.HTMLTextAreaElement.prototype,"value"],[ut.HTMLSelectElement.prototype,"selectedIndex"],[ut.HTMLOptionElement.prototype,"selected"]];return lt&&lt.set&&st.push(...ot.map(at=>Di(at[0],at[1],{set(){bt(Z)({target:this,isTrusted:!1})}},!1,ut))),bt(()=>{st.forEach(at=>at())})}function ir(t){const e=[];function n(r,s){if(or("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||or("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||or("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||or("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(t,e)}function Se(t,e,n){let r,s;return t?(t.ownerNode?r=e.getId(t.ownerNode):s=n.getId(t),{styleId:s,id:r}):{}}function Rl({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:bt((h,b,M)=>{const[$,K]=M,{id:V,styleId:Z}=Se(b,e,n.styleMirror);return(V&&V!==-1||Z&&Z!==-1)&&t({id:V,styleId:Z,adds:[{rule:$,index:K}]}),h.apply(b,M)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:bt((h,b,M)=>{const[$]=M,{id:K,styleId:V}=Se(b,e,n.styleMirror);return(K&&K!==-1||V&&V!==-1)&&t({id:K,styleId:V,removes:[{index:$}]}),h.apply(b,M)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:bt((h,b,M)=>{const[$]=M,{id:K,styleId:V}=Se(b,e,n.styleMirror);return(K&&K!==-1||V&&V!==-1)&&t({id:K,styleId:V,replace:$}),h.apply(b,M)})}));let c;r.CSSStyleSheet.prototype.replaceSync&&(c=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:bt((h,b,M)=>{const[$]=M,{id:K,styleId:V}=Se(b,e,n.styleMirror);return(K&&K!==-1||V&&V!==-1)&&t({id:K,styleId:V,replaceSync:$}),h.apply(b,M)})}));const u={};ar("CSSGroupingRule")?u.CSSGroupingRule=r.CSSGroupingRule:(ar("CSSMediaRule")&&(u.CSSMediaRule=r.CSSMediaRule),ar("CSSConditionRule")&&(u.CSSConditionRule=r.CSSConditionRule),ar("CSSSupportsRule")&&(u.CSSSupportsRule=r.CSSSupportsRule));const p={};return Object.entries(u).forEach(([h,b])=>{p[h]={insertRule:b.prototype.insertRule,deleteRule:b.prototype.deleteRule},b.prototype.insertRule=new Proxy(p[h].insertRule,{apply:bt((M,$,K)=>{const[V,Z]=K,{id:J,styleId:rt}=Se($.parentStyleSheet,e,n.styleMirror);return(J&&J!==-1||rt&&rt!==-1)&&t({id:J,styleId:rt,adds:[{rule:V,index:[...ir($),Z||0]}]}),M.apply($,K)})}),b.prototype.deleteRule=new Proxy(p[h].deleteRule,{apply:bt((M,$,K)=>{const[V]=K,{id:Z,styleId:J}=Se($.parentStyleSheet,e,n.styleMirror);return(Z&&Z!==-1||J&&J!==-1)&&t({id:Z,styleId:J,removes:[{index:[...ir($),V]}]}),M.apply($,K)})})}),bt(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),c&&(r.CSSStyleSheet.prototype.replaceSync=c),Object.entries(u).forEach(([h,b])=>{b.prototype.insertRule=p[h].insertRule,b.prototype.deleteRule=p[h].deleteRule})})}function Xi({mirror:t,stylesheetManager:e},n){let r=null;n.nodeName==="#document"?r=t.getId(n):r=t.getId(n.host);const s=n.nodeName==="#document"?ae([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):ae([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),i=ae([s,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(ae([s,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return ae([i,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const c=ae([i,"access",u=>u.set,"optionalAccess",u=>u.call,"call",u=>u(this,o)]);if(r!==null&&r!==-1)try{e.adoptStyleSheets(o,r)}catch(u){}return c}}),bt(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function Ml({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:bt((c,u,p)=>{const[h,b,M]=p;if(n.has(h))return i.apply(u,[h,b,M]);const{id:$,styleId:K}=Se(ae([u,"access",V=>V.parentRule,"optionalAccess",V=>V.parentStyleSheet]),e,r.styleMirror);return($&&$!==-1||K&&K!==-1)&&t({id:$,styleId:K,set:{property:h,value:b,priority:M},index:ir(u.parentRule)}),c.apply(u,p)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:bt((c,u,p)=>{const[h]=p;if(n.has(h))return o.apply(u,[h]);const{id:b,styleId:M}=Se(ae([u,"access",$=>$.parentRule,"optionalAccess",$=>$.parentStyleSheet]),e,r.styleMirror);return(b&&b!==-1||M&&M!==-1)&&t({id:b,styleId:M,remove:{property:h},index:ir(u.parentRule)}),c.apply(u,p)})}),bt(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function Cl({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const c=bt(p=>vn(bt(h=>{const b=Tn(h);if(!b||ne(b,e,n,r,!0))return;const{currentTime:M,volume:$,muted:K,playbackRate:V}=b;t({type:p,id:s.getId(b),currentTime:M,volume:$,muted:K,playbackRate:V})}),i.media||500)),u=[Xt("play",c(0),o),Xt("pause",c(1),o),Xt("seeked",c(2),o),Xt("volumechange",c(3),o),Xt("ratechange",c(4),o)];return bt(()=>{u.forEach(p=>p())})}function Dl({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(u,p,h){const b=new i(u,p,h);return s.set(b,{family:u,buffer:typeof p!="string",descriptors:h,fontSource:typeof p=="string"?p:JSON.stringify(Array.from(new Uint8Array(p)))}),b};const o=ts(e.fonts,"add",function(c){return function(u){return setTimeout(bt(()=>{const p=s.get(u);p&&(t(p),s.delete(u))}),0),c.apply(this,[u])}});return r.push(()=>{n.FontFace=i}),r.push(o),bt(()=>{r.forEach(c=>c())})}function wl(t){const{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=t;let c=!0;const u=bt(()=>{const p=e.getSelection();if(!p||c&&ae([p,"optionalAccess",M=>M.isCollapsed]))return;c=p.isCollapsed||!1;const h=[],b=p.rangeCount||0;for(let M=0;M<b;M++){const $=p.getRangeAt(M),{startContainer:K,startOffset:V,endContainer:Z,endOffset:J}=$;ne(K,r,s,i,!0)||ne(Z,r,s,i,!0)||h.push({start:n.getId(K),startOffset:V,end:n.getId(Z),endOffset:J})}o({ranges:h})});return u(),Xt("selectionchange",u)}function kl({doc:t,customElementCb:e}){const n=t.defaultView;return!n||!n.customElements?()=>{}:ts(n.customElements,"define",function(s){return function(i,o,c){try{e({define:{name:i}})}catch(u){}return s.apply(this,[i,o,c])}})}function Al(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};const r=Ki(t,t.doc),s=Sl(t),i=Tl(t),o=zi(t),c=bl(t,{win:n}),u=Ol(t),p=Cl(t),h=Rl(t,{win:n}),b=Xi(t,t.doc),M=Ml(t,{win:n}),$=t.collectFonts?Dl(t):()=>{},K=wl(t),V=kl(t),Z=[];for(const J of t.plugins)Z.push(J.observer(J.callback,n,J.options));return bt(()=>{Ve.forEach(J=>J.reset()),r.disconnect(),s(),i(),o(),c(),u(),p(),h(),b(),M(),$(),K(),V(),Z.forEach(J=>J())})}function or(t){return typeof window[t]!="undefined"}function ar(t){return!!(typeof window[t]!="undefined"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class os{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,n,r,s){const i=r||this.getIdToRemoteIdMap(e),o=s||this.getRemoteIdToIdMap(e);let c=i.get(n);return c||(c=this.generateIdFn(),i.set(n,c),o.set(c,n)),c}getIds(e,n){const r=this.getIdToRemoteIdMap(e),s=this.getRemoteIdToIdMap(e);return n.map(i=>this.getId(e,i,r,s))}getRemoteId(e,n,r){const s=r||this.getRemoteIdToIdMap(e);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(e,n){const r=this.getRemoteIdToIdMap(e);return n.map(s=>this.getRemoteId(e,s,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let n=this.iframeIdToRemoteIdMap.get(e);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(e,n)),n}getRemoteIdToIdMap(e){let n=this.iframeRemoteIdToIdMap.get(e);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(e,n)),n}}function Yi(t){let e,n=t[0],r=1;for(;r<t.length;){const s=t[r],i=t[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(e=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...o)=>n.call(e,...o)),e=void 0)}return n}class Pl{constructor(){this.crossOriginIframeMirror=new os(Qr),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class xl{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new os(Qr),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new os(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,n){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Yi([this,"access",r=>r.loadListener,"optionalCall",r=>r(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const n=e;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!e.source)return;const s=this.crossOriginIframeMap.get(e.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(e,n){switch(n.type){case Et.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(n.data.node,e);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:Et.IncrementalSnapshot,data:{source:vt.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Et.Meta:case Et.Load:case Et.DomContentLoaded:return!1;case Et.Plugin:return n;case Et.Custom:return this.replaceIds(n.data.payload,e,["id","parentId","previousId","nextId"]),n;case Et.IncrementalSnapshot:switch(n.data.source){case vt.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,e);const s=this.crossOriginIframeRootIdMap.get(e);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,e,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,e,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,e,["id"])}),n;case vt.Drag:case vt.TouchMove:case vt.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,e,["id"])}),n;case vt.ViewportResize:return!1;case vt.MediaInteraction:case vt.MouseInteraction:case vt.Scroll:case vt.CanvasMutation:case vt.Input:return this.replaceIds(n.data,e,["id"]),n;case vt.StyleSheetRule:case vt.StyleDeclaration:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleId"]),n;case vt.Font:return n;case vt.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,e,["start","end"])}),n;case vt.AdoptedStyleSheet:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleIds"]),Yi([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,e,["styleId"])})]),n}}return!1}replace(e,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=e.getIds(r,n[i]):n[i]=e.getId(r,n[i]));return n}replaceIds(e,n,r){return this.replace(this.crossOriginIframeMirror,e,n,r)}replaceStyleIds(e,n,r){return this.replace(this.crossOriginIframeStyleMirror,e,n,r)}replaceIdOnNode(e,n){this.replaceIds(e,n,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(e,n){e.type!==zt.Document&&!e.rootId&&(e.rootId=n),"childNodes"in e&&e.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Ll{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Nl{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,n){if(!_n(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);const r=Ki(ct(D({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(zi(ct(D({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Xi({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){!e.contentWindow||!e.contentDocument||this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,n){const r=this;this.restoreHandlers.push(ts(e.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&Ui(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(n){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Vi{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class Ul{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new dl,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,n){if(e.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of e){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(c,u)=>({rule:Ti(c),index:u}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class Bl{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){ml(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(e,n){const r=this.nodeMap.get(e);return r&&Array.from(r).some(s=>s!==n)}add(e,n){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function $t(t){const e=t;return e.timestamp=sr(),e}let cr;const re=Fu();function Te(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:c="rr-ignore",ignoreSelector:u=null,maskAllText:p=!1,maskTextClass:h="rr-mask",unmaskTextClass:b=null,maskTextSelector:M=null,unmaskTextSelector:$=null,inlineStylesheet:K=!0,maskAllInputs:V,maskInputOptions:Z,slimDOMOptions:J,maskAttributeFn:rt,maskInputFn:st,maskTextFn:ut,packFn:lt,sampling:ot={},dataURLOptions:at={},mousemoveWait:Tt,recordCanvas:Dt=!1,recordCrossOriginIframes:dt=!1,recordAfter:_t=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:Pt=!1,collectFonts:Kt=!1,inlineImages:Wt=!1,plugins:te,keepIframeSrcFn:wt=()=>!1,ignoreCSSAttributes:fe=new Set([]),errorHandler:Nt,onMutation:Zt,getCanvasManager:pe}=t;El(Nt);const Nn=dt?window.parent===window:!0;let Le=!1;if(!Nn)try{window.parent.document&&(Le=!1)}catch(yt){Le=!0}if(Nn&&!e)throw new Error("emit function is required");Tt!==void 0&&ot.mousemove===void 0&&(ot.mousemove=Tt),re.reset();const Ne=V===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:Z!==void 0?Z:{},on=J===!0||J==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:J==="all",headMetaDescKeywords:J==="all"}:J||{};ll();let Ir,xs=0;const Za=yt=>{for(const se of te||[])se.eventProcessor&&(yt=se.eventProcessor(yt));return lt&&!Le&&(yt=lt(yt)),yt},jt=(yt,se)=>{if(Kn([Ve,"access",Ot=>Ot[0],"optionalAccess",Ot=>Ot.isFrozen,"call",Ot=>Ot()])&&yt.type!==Et.FullSnapshot&&!(yt.type===Et.IncrementalSnapshot&&yt.data.source===vt.Mutation)&&Ve.forEach(Ot=>Ot.unfreeze()),Nn)Kn([e,"optionalCall",Ot=>Ot(Za(yt),se)]);else if(Le){const Ot={type:"rrweb",event:Za(yt),origin:window.location.origin,isCheckout:se};window.parent.postMessage(Ot,"*")}if(yt.type===Et.FullSnapshot)Ir=yt,xs=0;else if(yt.type===Et.IncrementalSnapshot){if(yt.data.source===vt.Mutation&&yt.data.isAttachIframe)return;xs++;const Ot=r&&xs>=r,ie=n&&yt.timestamp-Ir.timestamp>n;(Ot||ie)&&Ns(!0)}},Or=yt=>{jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.Mutation},yt)}))},Qa=yt=>jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.Scroll},yt)})),yg=yt=>jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.CanvasMutation},yt)})),Eg=yt=>jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.AdoptedStyleSheet},yt)})),Ue=new Ul({mutationCb:Or,adoptedStyleSheetCb:Eg}),Be=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Pl:new xl({mirror:re,mutationCb:Or,stylesheetManager:Ue,recordCrossOriginIframes:dt,wrappedEmit:jt});for(const yt of te||[])yt.getMirror&&yt.getMirror({nodeMirror:re,crossOriginIframeMirror:Be.crossOriginIframeMirror,crossOriginIframeStyleMirror:Be.crossOriginIframeStyleMirror});const Ls=new Bl,qa=Wl(pe,{mirror:re,win:window,mutationCb:yt=>jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.CanvasMutation},yt)})),recordCanvas:Dt,blockClass:s,blockSelector:i,unblockSelector:o,sampling:ot.canvas,dataURLOptions:at,errorHandler:Nt}),Rr=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Ll:new Nl({mutationCb:Or,scrollCb:Qa,bypassOptions:{onMutation:Zt,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:p,maskTextClass:h,unmaskTextClass:b,maskTextSelector:M,unmaskTextSelector:$,inlineStylesheet:K,maskInputOptions:Ne,dataURLOptions:at,maskAttributeFn:rt,maskTextFn:ut,maskInputFn:st,recordCanvas:Dt,inlineImages:Wt,sampling:ot,slimDOMOptions:on,iframeManager:Be,stylesheetManager:Ue,canvasManager:qa,keepIframeSrcFn:wt,processedNodeManager:Ls},mirror:re}),Ns=(yt=!1)=>{jt($t({type:Et.Meta,data:{href:window.location.href,width:Ai(),height:ki()}}),yt),Ue.reset(),Rr.init(),Ve.forEach(Ot=>Ot.lock());const se=cl(document,{mirror:re,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:p,maskTextClass:h,unmaskTextClass:b,maskTextSelector:M,unmaskTextSelector:$,inlineStylesheet:K,maskAllInputs:Ne,maskAttributeFn:rt,maskInputFn:st,maskTextFn:ut,slimDOM:on,dataURLOptions:at,recordCanvas:Dt,inlineImages:Wt,onSerialize:Ot=>{xi(Ot,re)&&Be.addIframe(Ot),Li(Ot,re)&&Ue.trackLinkElement(Ot),rs(Ot)&&Rr.addShadowRoot(Ot.shadowRoot,document)},onIframeLoad:(Ot,ie)=>{Be.attachIframe(Ot,ie),Rr.observeAttachShadow(Ot)},onStylesheetLoad:(Ot,ie)=>{Ue.attachLinkElement(Ot,ie)},keepIframeSrcFn:wt});if(!se)return console.warn("Failed to snapshot the document");jt($t({type:Et.FullSnapshot,data:{node:se,initialOffset:wi(window)}})),Ve.forEach(Ot=>Ot.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Ue.adoptStyleSheets(document.adoptedStyleSheets,re.getId(document))};cr=Ns;try{const yt=[],se=ie=>bt(Al)({onMutation:Zt,mutationCb:Or,mousemoveCb:(Mt,Fe)=>jt($t({type:Et.IncrementalSnapshot,data:{source:Fe,positions:Mt}})),mouseInteractionCb:Mt=>jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.MouseInteraction},Mt)})),scrollCb:Qa,viewportResizeCb:Mt=>jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.ViewportResize},Mt)})),inputCb:Mt=>jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.Input},Mt)})),mediaInteractionCb:Mt=>jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.MediaInteraction},Mt)})),styleSheetRuleCb:Mt=>jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.StyleSheetRule},Mt)})),styleDeclarationCb:Mt=>jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.StyleDeclaration},Mt)})),canvasMutationCb:yg,fontCb:Mt=>jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.Font},Mt)})),selectionCb:Mt=>{jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.Selection},Mt)}))},customElementCb:Mt=>{jt($t({type:Et.IncrementalSnapshot,data:D({source:vt.CustomElement},Mt)}))},blockClass:s,ignoreClass:c,ignoreSelector:u,maskAllText:p,maskTextClass:h,unmaskTextClass:b,maskTextSelector:M,unmaskTextSelector:$,maskInputOptions:Ne,inlineStylesheet:K,sampling:ot,recordCanvas:Dt,inlineImages:Wt,userTriggeredOnInput:Pt,collectFonts:Kt,doc:ie,maskAttributeFn:rt,maskInputFn:st,maskTextFn:ut,keepIframeSrcFn:wt,blockSelector:i,unblockSelector:o,slimDOMOptions:on,dataURLOptions:at,mirror:re,iframeManager:Be,stylesheetManager:Ue,shadowDomManager:Rr,processedNodeManager:Ls,canvasManager:qa,ignoreCSSAttributes:fe,plugins:Kn([te,"optionalAccess",Mt=>Mt.filter,"call",Mt=>Mt(Fe=>Fe.observer),"optionalAccess",Mt=>Mt.map,"call",Mt=>Mt(Fe=>({observer:Fe.observer,options:Fe.options,callback:vg=>jt($t({type:Et.Plugin,data:{plugin:Fe.name,payload:vg}}))}))])||[]},{});Be.addLoadListener(ie=>{try{yt.push(se(ie.contentDocument))}catch(Mt){console.warn(Mt)}});const Ot=()=>{Ns(),yt.push(se(document))};return document.readyState==="interactive"||document.readyState==="complete"?Ot():(yt.push(Xt("DOMContentLoaded",()=>{jt($t({type:Et.DomContentLoaded,data:{}})),_t==="DOMContentLoaded"&&Ot()})),yt.push(Xt("load",()=>{jt($t({type:Et.Load,data:{}})),_t==="load"&&Ot()},window))),()=>{yt.forEach(ie=>ie()),Ls.destroy(),cr=void 0,vl()}}catch(yt){console.warn(yt)}}function Fl(t){if(!cr)throw new Error("please take full snapshot after start recording");cr(t)}Te.mirror=re,Te.takeFullSnapshot=Fl;function Wl(t,e){try{return t?t(e):new Vi}catch(n){return console.warn("Unable to initialize CanvasManager"),new Vi}}const jl=3,Hl=5;function as(t){return t>9999999999?t:t*1e3}function cs(t){return t>9999999999?t/1e3:t}function bn(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:Et.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:(0,zn.Fv)(e,10,1e3)}}),e.category==="console")))}const $l="button,a";function Ji(t){return t.closest($l)||t}function Zi(t){const e=Qi(t);return!e||!(e instanceof Element)?e:Ji(e)}function Qi(t){return Kl(t)?t.target:t}function Kl(t){return typeof t=="object"&&!!t&&"target"in t}let be;function zl(t){return be||(be=[],Gl()),be.push(t),()=>{const e=be?be.indexOf(t):-1;e>-1&&be.splice(e,1)}}function Gl(){(0,et.hl)(kt,"open",function(t){return function(...e){if(be)try{be.forEach(n=>n())}catch(n){}return t.apply(kt,e)}})}function Xl(t,e,n){t.handleClick(e,n)}class Yl{constructor(e,n,r=bn){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const e=zl(()=>{this._lastMutation=qi()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,n){if(Jl(n,this._ignoreSelector)||!Zl(e))return;const r={timestamp:cs(e.timestamp),clickBreadcrumb:e,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=cs(e)}registerScroll(e=Date.now()){this._lastScroll=cs(e)}registerClick(e){const n=Ji(e);this._handleMultiClick(n)}_handleMultiClick(e){this._getClicks(e).forEach(n=>{n.clickCount++})}_getClicks(e){return this._clicks.filter(n=>n.node===e)}_checkClicks(){const e=[],n=qi();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&e.push(r)});for(const r of e){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const n=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,s=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:c}=e;if(i){const u=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,p=u<this._timeout*1e3?"mutation":"timeout",h={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.slowClickDetected",data:ct(D({},c.data),{url:kt.location.href,route:n.getCurrentRoute(),timeAfterClickMs:u,endReason:p,clickCount:o||1})};this._addBreadcrumbEvent(n,h);return}if(o>1){const u={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.multiClick",data:ct(D({},c.data),{url:kt.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0})};this._addBreadcrumbEvent(n,u)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const Vl=["A","BUTTON","INPUT"];function Jl(t,e){return!!(!Vl.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function Zl(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function qi(){return Date.now()/1e3}function Ql(t,e){try{if(!ql(e))return;const{source:n}=e.data;if(n===vt.Mutation&&t.registerMutation(e.timestamp),n===vt.Scroll&&t.registerScroll(e.timestamp),td(e)){const{type:r,id:s}=e.data,i=Te.mirror.getNode(s);i instanceof HTMLElement&&r===Yt.Click&&t.registerClick(i)}}catch(n){}}function ql(t){return t.type===jl}function td(t){return t.data.source===vt.MouseInteraction}function ce(t){return D({timestamp:Date.now()/1e3,type:"default"},t)}var ur;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(ur||(ur={}));const ed=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function nd(t){const e={};for(const n in t)if(ed.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),e[r]=t[n]}return e}const rd=t=>e=>{if(!t.isEnabled())return;const n=sd(e);if(!n)return;const r=e.name==="click",s=r?e.event:void 0;r&&t.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&Xl(t.clickDetector,n,Zi(e.event)),bn(t,n)};function to(t,e){const n=Te.mirror.getId(t),r=n&&Te.mirror.getNode(n),s=r&&Te.mirror.getMeta(r),i=s&&od(s)?s:null;return{message:e,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===ur.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:nd(i.attributes)}}:{}}}function sd(t){const{target:e,message:n}=id(t);return ce(D({category:`ui.${t.name}`},to(e,n)))}function id(t){const e=t.name==="click";let n,r=null;try{r=e?Zi(t.event):Qi(t.event),n=(0,oe.Rt)(r,{maxStringLength:200})||"<unknown>"}catch(s){n="<unknown>"}return{target:r,message:n}}function od(t){return t.type===ur.Element}function ad(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=cd(e);n&&bn(t,n)}function cd(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=t;if(!o||ud(o)||!i)return null;const c=e||r||s,u=i.length===1;if(!c&&u)return null;const p=(0,oe.Rt)(o,{maxStringLength:200})||"<unknown>",h=to(o,p);return ce({category:"ui.keyDown",message:p,data:ct(D({},h.data),{metaKey:e,shiftKey:n,ctrlKey:r,altKey:s,key:i})})}function ud(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const eo={resource:hd,paint:fd,navigation:pd};function ld(t){return t.map(dd).filter(Boolean)}function dd(t){return eo[t.entryType]?eo[t.entryType](t):null}function Je(t){return((Ut.Z1||kt.performance.timeOrigin)+t)/1e3}function fd(t){const{duration:e,entryType:n,name:r,startTime:s}=t,i=Je(s);return{type:n,name:r,start:i,end:i+e,data:void 0}}function pd(t){const{entryType:e,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:c,domContentLoadedEventEnd:u,domInteractive:p,loadEventStart:h,loadEventEnd:b,redirectCount:M,startTime:$,transferSize:K,type:V}=t;return s===0?null:{type:`${e}.${V}`,start:Je($),end:Je(i),name:n,data:{size:K,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:p,domContentLoadedEventStart:c,domContentLoadedEventEnd:u,loadEventStart:h,loadEventEnd:b,domComplete:i,redirectCount:M}}}function hd(t){const{entryType:e,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:c,responseStatus:u,transferSize:p}=t;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${e}.${n}`,start:Je(i),end:Je(s),name:r,data:{size:p,statusCode:u,decodedBodySize:o,encodedBodySize:c}}}function md(t){const e=t.entries,n=e[e.length-1],r=n?n.element:void 0,s=t.value,i=Je(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:r?Te.mirror.getId(r):void 0}}}function gd(t){function e(s){t.performanceEntries.includes(s)||t.performanceEntries.push(s)}function n({entries:s}){s.forEach(e)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(hn(s,n))}),r.push(_i(({metric:s})=>{t.replayPerformanceEntries.push(md(s))})),()=>{r.forEach(s=>s())}}const Ct=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,_d='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function yd(){const t=new Blob([_d]);return URL.createObjectURL(t)}function Vt(t,e){Ct&&(S.kg.info(t),e&&no(t))}function Ze(t,e){Ct&&(S.kg.info(t),e&&setTimeout(()=>{no(t)},0))}function no(t){(0,G.n_)({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}class us extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Vr}.`)}}class ro{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(e){return St(this,null,function*(){const n=JSON.stringify(e).length;if(this._totalSize+=n,this._totalSize>Vr)throw new us;this.events.push(e)})}finish(){return new Promise(e=>{const n=this.events;this.clear(),e(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(n=>n.timestamp).sort()[0];return e?as(e):null}}class Ed{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){Vt("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:c})=>{const u=c;if(u.method===e&&u.id===r){if(this._worker.removeEventListener("message",o),!u.success){Ct&&S.kg.error("[Replay]",u.response),i(new Error("Error in compression worker"));return}s(u.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:e,arg:n})})}_getAndIncrementId(){return this._id++}}class vd{constructor(e){this._worker=new Ed(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const n=as(e.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(e);return this._totalSize+=r.length,this._totalSize>Vr?Promise.reject(new us):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{Ct&&S.kg.warn('[Replay] Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}_finishRequest(){return St(this,null,function*(){const e=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e})}}class Sd{constructor(e){this._fallback=new ro,this._compression=new vd(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}finish(){return St(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return St(this,null,function*(){try{yield this._compression.ensureReady()}catch(e){Vt("[Replay] Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return St(this,null,function*(){const{events:e,hasCheckout:n}=this._fallback,r=[];for(const s of e)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._used=this._compression;try{yield Promise.all(r)}catch(s){Ct&&S.kg.warn("[Replay] Failed to add events when switching buffers.",s)}})}}function Td({useCompression:t,workerUrl:e}){if(t&&window.Worker){const n=bd(e);if(n)return n}return Vt("[Replay] Using simple buffer"),new ro}function bd(t){try{const e=t||Id();if(!e)return;Vt(`[Replay] Using compression worker${t?` from ${t}`:""}`);const n=new Worker(e);return new Sd(n)}catch(e){Vt("[Replay] Failed to create compression worker")}}function Id(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__=="undefined"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?yd():""}function ls(){try{return"sessionStorage"in kt&&!!kt.sessionStorage}catch(t){return!1}}function Od(t){Rd(),t.session=void 0}function Rd(){if(ls())try{kt.sessionStorage.removeItem(Xr)}catch(t){}}function so(t){return t===void 0?!1:Math.random()<t}function io(t){const e=Date.now(),n=t.id||(0,un.DM)(),r=t.started||e,s=t.lastActivity||e,i=t.segmentId||0,o=t.sampled,c=t.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:c}}function ds(t){if(ls())try{kt.sessionStorage.setItem(Xr,JSON.stringify(t))}catch(e){}}function Md(t,e){return so(t)?"session":e?"buffer":!1}function oo({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:r}={}){const s=Md(t,e),i=io({sampled:s,previousSessionId:r});return n&&ds(i),i}function Cd(t){if(!ls())return null;try{const e=kt.sessionStorage.getItem(Xr);if(!e)return null;const n=JSON.parse(e);return Ze("[Replay] Loading existing session",t),io(n)}catch(e){return null}}function fs(t,e,n=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=n}function ao(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:r=Date.now()}){return fs(t.started,e,r)||fs(t.lastActivity,n,r)}function co(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!(!ao(t,{sessionIdleExpire:e,maxReplayDuration:n})||t.sampled==="buffer"&&t.segmentId===0)}function ps({traceInternals:t,sessionIdleExpire:e,maxReplayDuration:n,previousSessionId:r},s){const i=s.stickySession&&Cd(t);return i?co(i,{sessionIdleExpire:e,maxReplayDuration:n})?(Ze("[Replay] Session in sessionStorage is expired, creating new one..."),oo(s,{previousSessionId:i.id})):i:(Ze("[Replay] Creating new session",t),oo(s,{previousSessionId:r}))}function Dd(t){return t.type===Et.Custom}function hs(t,e,n){return lo(t,e)?(uo(t,e,n),!0):!1}function wd(t,e,n){return lo(t,e)?uo(t,e,n):Promise.resolve(null)}function uo(t,e,n){return St(this,null,function*(){if(!t.eventBuffer)return null;try{n&&t.recordingMode==="buffer"&&t.eventBuffer.clear(),n&&(t.eventBuffer.hasCheckout=!0);const r=t.getOptions(),s=kd(e,r.beforeAddRecordingEvent);return s?yield t.eventBuffer.addEvent(s):void 0}catch(r){const s=r&&r instanceof us?"addEventSizeExceeded":"addEvent";Ct&&S.kg.error(r),yield t.stop({reason:s});const i=(0,G.s3)();i&&i.recordDroppedEvent("internal_sdk_error","replay")}})}function lo(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=as(e.timestamp);return n+t.timeouts.sessionIdlePause<Date.now()?!1:n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(Vt(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,t.getOptions()._experiments.traceInternals),!1):!0}function kd(t,e){try{if(typeof e=="function"&&Dd(t))return e(t)}catch(n){return Ct&&S.kg.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return t}function ms(t){return!t.type}function gs(t){return t.type==="transaction"}function Ad(t){return t.type==="replay_event"}function fo(t){return t.type==="feedback"}function po(t){const e=Ld();return(n,r)=>{if(!t.isEnabled()||!ms(n)&&!gs(n))return;const s=r&&r.statusCode;if(!(e&&(!s||s<200||s>=300))){if(gs(n)){Pd(t,n);return}xd(t,n)}}}function Pd(t,e){const n=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}function xd(t,e){const n=t.getContext();if(e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();typeof r=="function"&&!r(e)||setTimeout(()=>{t.sendBufferedReplayOrFlush()})}function Ld(){const t=(0,G.s3)();if(!t)return!1;const e=t.getTransport();return e&&e.send.__sentry__baseTransport__||!1}function Nd(t){return e=>{!t.isEnabled()||!ms(e)||Ud(t,e)}}function Ud(t,e){const n=e.exception&&e.exception.values&&e.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=ce({category:"replay.hydrate-error"});bn(t,r)}}function Bd(t,e){return t.type||!t.exception||!t.exception.values||!t.exception.values.length?!1:!!(e.originalException&&e.originalException.__rrweb__)}function Fd(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:Et.Custom,timestamp:e.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function Wd(t,e){return t.recordingMode!=="buffer"||e.message===Yr||!e.exception||e.type?!1:so(t.getOptions().errorSampleRate)}function jd(t,e=!1){const n=e?po(t):void 0;return Object.assign((r,s)=>t.isEnabled()?Ad(r)?(delete r.breadcrumbs,r):!ms(r)&&!gs(r)&&!fo(r)||!t.checkAndHandleExpiredSession()?r:fo(r)?(t.flush(),r.contexts.feedback.replay_id=t.getSessionId(),Fd(t,r),r):Bd(r,s)&&!t.getOptions()._experiments.captureExceptions?(Ct&&S.kg.log("[Replay] Ignoring error from rrweb internals",r),null):((Wd(t,r)||t.recordingMode==="session")&&(r.tags=ct(D({},r.tags),{replayId:t.getSessionId()})),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function lr(t,e){return e.map(({type:n,start:r,end:s,name:i,data:o})=>{const c=t.throttledAddEvent({type:Et.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof c=="string"?Promise.resolve(null):c})}function Hd(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}function $d(t){return e=>{if(!t.isEnabled())return;const n=Hd(e);n!==null&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(lr(t,[n]),!1)))}}function Kd(t,e){return Ct&&t.getOptions()._experiments.traceInternals?!1:Gc(e,(0,G.s3)())}function dr(t,e){t.isEnabled()&&e!==null&&(Kd(t,e.name)||t.addUpdate(()=>(lr(t,[e]),!0)))}function zd(t){const{startTimestamp:e,endTimestamp:n,fetchData:r,response:s}=t;if(!n)return null;const{method:i,url:o}=r;return{type:"resource.fetch",start:e/1e3,end:n/1e3,name:o,data:{method:i,statusCode:s?s.status:void 0}}}function Gd(t){return e=>{if(!t.isEnabled())return;const n=zd(e);dr(t,n)}}function Xd(t){const{startTimestamp:e,endTimestamp:n,xhr:r}=t,s=r[dn.xU];if(!e||!n||!s)return null;const{method:i,url:o,status_code:c}=s;return o===void 0?null:{type:"resource.xhr",name:o,start:e/1e3,end:n/1e3,data:{method:i,statusCode:c}}}function Yd(t){return e=>{if(!t.isEnabled())return;const n=Xd(e);dr(t,n)}}function fr(t,e){if(t)try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=_o(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(n){}}function ho(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function mo(t){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[_o(t)];if(!t)return[void 0]}catch(e){return Ct&&S.kg.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return Ct&&S.kg.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function pr(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n=D({},t._meta),r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}function go(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:c,response:u}=e;return{type:t,start:n/1e3,end:r/1e3,name:s,data:(0,et.Jr)({method:i,statusCode:o,request:c,response:u})}}function In(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function Ie(t,e,n){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:s,warnings:i}=Vd(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function _s(t,e){return Object.keys(t).reduce((n,r)=>{const s=r.toLowerCase();return e.includes(s)&&t[r]&&(n[s]=t[r]),n},{})}function _o(t){return new URLSearchParams(t).toString()}function Vd(t){if(!t||typeof t!="string")return{body:t};const e=t.length>vi,n=Jd(t);if(e){const r=t.slice(0,vi);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch(r){}return{body:t}}function Jd(t){const e=t[0],n=t[t.length-1];return e==="["&&n==="]"||e==="{"&&n==="}"}function hr(t,e){const n=Zd(t);return(0,si.U0)(n,e)}function Zd(t,e=kt.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(kt.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;return!t.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}function Qd(t,e,n){return St(this,null,function*(){try{const r=yield tf(t,e,n),s=go("resource.fetch",r);dr(n.replay,s)}catch(r){Ct&&S.kg.error("[Replay] Failed to capture fetch breadcrumb",r)}})}function qd(t,e,n){const{input:r,response:s}=e,i=r?yo(r):void 0,o=fr(i,n.textEncoder),c=s?ho(s.headers.get("content-length")):void 0;o!==void 0&&(t.data.request_body_size=o),c!==void 0&&(t.data.response_body_size=c)}function tf(t,e,n){return St(this,null,function*(){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=e,{url:o,method:c,status_code:u=0,request_body_size:p,response_body_size:h}=t.data,b=hr(o,n.networkDetailAllowUrls)&&!hr(o,n.networkDetailDenyUrls),M=b?ef(n,e.input,p):In(p),$=yield nf(b,n,e.response,h);return{startTimestamp:s,endTimestamp:i,url:o,method:c,statusCode:u,request:M,response:$}})}function ef({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const s=n?of(n,e):{};if(!t)return Ie(s,r,void 0);const i=yo(n),[o,c]=mo(i),u=Ie(s,r,o);return c?pr(u,c):u}function nf(o,c,u,p){return St(this,arguments,function*(t,{networkCaptureBodies:e,textEncoder:n,networkResponseHeaders:r},s,i){if(!t&&i!==void 0)return In(i);const h=s?Eo(s.headers,r):{};if(!s||!e&&i!==void 0)return Ie(h,i,void 0);const[b,M]=yield sf(s),$=rf(b,{networkCaptureBodies:e,textEncoder:n,responseBodySize:i,captureDetails:t,headers:h});return M?pr($,M):$})}function rf(t,{networkCaptureBodies:e,textEncoder:n,responseBodySize:r,captureDetails:s,headers:i}){try{const o=t&&t.length&&r===void 0?fr(t,n):r;return s?e?Ie(i,o,t):Ie(i,o,void 0):In(o)}catch(o){return Ct&&S.kg.warn("[Replay] Failed to serialize response body",o),Ie(i,r,void 0)}}function sf(t){return St(this,null,function*(){const e=af(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[yield cf(e)]}catch(n){return Ct&&S.kg.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}})}function yo(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function Eo(t,e){const n={};return e.forEach(r=>{t.get(r)&&(n[r]=t.get(r))}),n}function of(t,e){return t.length===1&&typeof t[0]!="string"?vo(t[0],e):t.length===2?vo(t[1],e):{}}function vo(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?Eo(n,e):Array.isArray(n)?{}:_s(n,e):{}}function af(t){try{return t.clone()}catch(e){Ct&&S.kg.warn("[Replay] Failed to clone response body",e)}}function cf(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);uf(t).then(s=>e(s),s=>n(s)).finally(()=>clearTimeout(r))})}function uf(t){return St(this,null,function*(){return yield t.text()})}function lf(t,e,n){return St(this,null,function*(){try{const r=ff(t,e,n),s=go("resource.xhr",r);dr(n.replay,s)}catch(r){Ct&&S.kg.error("[Replay] Failed to capture xhr breadcrumb",r)}})}function df(t,e,n){const{xhr:r,input:s}=e;if(!r)return;const i=fr(s,n.textEncoder),o=r.getResponseHeader("content-length")?ho(r.getResponseHeader("content-length")):gf(r.response,r.responseType,n.textEncoder);i!==void 0&&(t.data.request_body_size=i),o!==void 0&&(t.data.response_body_size=o)}function ff(t,e,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:c}=e,{url:u,method:p,status_code:h=0,request_body_size:b,response_body_size:M}=t.data;if(!u)return null;if(!c||!hr(u,n.networkDetailAllowUrls)||hr(u,n.networkDetailDenyUrls)){const ot=In(b),at=In(M);return{startTimestamp:s,endTimestamp:i,url:u,method:p,statusCode:h,request:ot,response:at}}const $=c[dn.xU],K=$?_s($.request_headers,n.networkRequestHeaders):{},V=_s(pf(c),n.networkResponseHeaders),[Z,J]=n.networkCaptureBodies?mo(o):[void 0],[rt,st]=n.networkCaptureBodies?hf(c):[void 0],ut=Ie(K,b,Z),lt=Ie(V,M,rt);return{startTimestamp:s,endTimestamp:i,url:u,method:p,statusCode:h,request:J?pr(ut,J):ut,response:st?pr(lt,st):lt}}function pf(t){const e=t.getAllResponseHeaders();return e?e.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return n[s.toLowerCase()]=i,n},{}):{}}function hf(t){const e=[];try{return[t.responseText]}catch(n){e.push(n)}try{return mf(t.response,t.responseType)}catch(n){e.push(n)}return Ct&&S.kg.warn("[Replay] Failed to get xhr response body",...e),[void 0]}function mf(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(n){return Ct&&S.kg.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return Ct&&S.kg.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function gf(t,e,n){try{const r=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return fr(r,n)}catch(r){return}}function _f(t){const e=(0,G.s3)();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:c}=t.getOptions(),u={replay:t,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:c};e&&e.on?e.on("beforeAddBreadcrumb",(p,h)=>yf(u,p,h)):((0,ii.U)(Gd(t)),(0,dn.UK)(Yd(t)))}catch(n){}}function yf(t,e,n){if(e.data)try{Ef(e)&&Sf(n)&&(df(e,n,t),lf(e,n,t)),vf(e)&&Tf(n)&&(qd(e,n,t),Qd(e,n,t))}catch(r){Ct&&S.kg.warn("Error when enriching network breadcrumb")}}function Ef(t){return t.category==="xhr"}function vf(t){return t.category==="fetch"}function Sf(t){return t&&t.xhr}function Tf(t){return t&&t.response}let So=null;function bf(t){return!!t.category}const If=t=>e=>{if(!t.isEnabled())return;const n=Of(e);n&&bn(t,n)};function Of(t){const e=t.getLastBreadcrumb&&t.getLastBreadcrumb();return So===e||!e||(So=e,!bf(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))?null:e.category==="console"?Rf(e):ce(e)}function Rf(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||e.length===0)return ce(t);let n=!1;const r=e.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>Qn?(n=!0,`${s.slice(0,Qn)}\u2026`):s;if(typeof s=="object")try{const i=(0,zn.Fv)(s,7);return JSON.stringify(i).length>Qn?(n=!0,`${JSON.stringify(i,null,2).slice(0,Qn)}\u2026`):i}catch(i){}return s});return ce(ct(D({},t),{data:D(ct(D({},t.data),{arguments:r}),n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function Mf(t){const e=(0,G.nZ)(),n=(0,G.s3)();e.addScopeListener(If(t)),(0,Jc.O)(rd(t)),(0,Wr.a)($d(t)),_f(t);const r=jd(t,!To(n));n&&n.addEventProcessor?n.addEventProcessor(r):(0,Xs.Q)(r),To(n)&&(n.on("beforeSendEvent",Nd(t)),n.on("afterSendEvent",po(t)),n.on("createDsc",s=>{const i=t.getSessionId();i&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(s.replay_id=i)}),n.on("startTransaction",s=>{t.lastTransaction=s}),n.on("finishTransaction",s=>{t.lastTransaction=s}),n.on("beforeSendFeedback",(s,i)=>{const o=t.getSessionId();i&&i.includeReplay&&t.isEnabled()&&o&&s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=o)}))}function To(t){return!!(t&&t.on)}function Cf(t){return St(this,null,function*(){try{return Promise.all(lr(t,[Df(kt.performance.memory)]))}catch(e){return[]}})}function Df(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}function wf(t,e,n){let r,s,i;const o=n&&n.maxWait?Math.max(n.maxWait,e):0;function c(){return u(),r=t(),r}function u(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function p(){return s!==void 0||i!==void 0?c():r}function h(){return s&&clearTimeout(s),s=setTimeout(c,e),o&&i===void 0&&(i=setTimeout(c,o)),r}return h.cancel=u,h.flush=p,h}function kf(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession()){Ct&&S.kg.warn("[Replay] Received replay event after session expired.");return}const s=r||!e;e=!0,t.clickDetector&&Ql(t.clickDetector,n),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&s&&t.setInitialState(),!hs(t,n,s))return!0;if(!s)return!1;if(Pf(t,s),t.session&&t.session.previousSessionId)return!0;if(t.recordingMode==="buffer"&&t.session&&t.eventBuffer){const i=t.eventBuffer.getEarliestTimestamp();i&&(Vt(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,t.getOptions()._experiments.traceInternals),t.session.started=i,t.getOptions().stickySession&&ds(t.session))}return t.recordingMode==="session"&&t.flush(),!0})}}function Af(t){const e=t.getOptions();return{type:Et.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function Pf(t,e){!e||!t.session||t.session.segmentId!==0||hs(t,Af(t),!1)}function xf(t,e,n,r){return(0,A.Jd)((0,A.Cd)(t,(0,A.HY)(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function Lf({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}
`;if(typeof t=="string")n=`${r}${t}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+t.length),n.set(i),n.set(t,i.length)}return n}function Nf(s){return St(this,arguments,function*({client:t,scope:e,replayId:n,event:r}){const i=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,o={event_id:n,integrations:i};t.emit&&t.emit("preprocessEvent",r,o);const c=yield(0,ri.R)(t.getOptions(),r,o,e,t,(0,L.aF)());if(!c)return null;c.platform=c.platform||"javascript";const u=t.getSdkMetadata&&t.getSdkMetadata(),{name:p,version:h}=u&&u.sdk||{};return c.sdk=ct(D({},c.sdk),{name:p||"sentry.javascript.unknown",version:h||"0.0.0"}),c})}function Uf(o){return St(this,arguments,function*({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:s,session:i}){const c=Lf({recordingData:t,headers:{segment_id:n}}),{urls:u,errorIds:p,traceIds:h,initialTimestamp:b}=r,M=(0,G.s3)(),$=(0,G.nZ)(),K=M&&M.getTransport(),V=M&&M.getDsn();if(!M||!K||!V||!i.sampled)return;const Z={type:vu,replay_start_timestamp:b/1e3,timestamp:s/1e3,error_ids:p,trace_ids:h,urls:u,replay_id:e,segment_id:n,replay_type:i.sampled},J=yield Nf({scope:$,client:M,replayId:e,event:Z});if(!J){M.recordDroppedEvent("event_processor","replay",Z),Vt("An event processor returned `null`, will not send event.");return}delete J.sdkProcessingMetadata;const rt=xf(J,c,V,M.getOptions().tunnel);let st;try{st=yield K.send(rt)}catch(lt){const ot=new Error(Yr);try{ot.cause=lt}catch(at){}throw ot}if(!st)return st;if(typeof st.statusCode=="number"&&(st.statusCode<200||st.statusCode>=300))throw new bo(st.statusCode);const ut=(0,jr.WG)({},st);if((0,jr.Q)(ut,"replay"))throw new Io(ut);return st})}class bo extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class Io extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}function Oo(n){return St(this,arguments,function*(t,e={count:0,interval:Ru}){const{recordingData:r,options:s}=t;if(r.length)try{return yield Uf(t),!0}catch(i){if(i instanceof bo||i instanceof Io)throw i;if((0,G.v)("Replays",{_retryCount:e.count}),Ct&&s._experiments&&s._experiments.captureExceptions&&(0,G.Tb)(i),e.count>=Mu){const o=new Error(`${Yr} - max retries exceeded`);try{o.cause=i}catch(c){}throw o}return e.interval*=++e.count,new Promise((o,c)=>{setTimeout(()=>St(this,null,function*(){try{yield Oo(t,e),o(!0)}catch(u){c(u)}}),e.interval)})}})}const Ro="__THROTTLED",Bf="__SKIPPED";function Ff(t,e,n){const r=new Map,s=c=>{const u=c-n;r.forEach((p,h)=>{h<u&&r.delete(h)})},i=()=>[...r.values()].reduce((c,u)=>c+u,0);let o=!1;return(...c)=>{const u=Math.floor(Date.now()/1e3);if(s(u),i()>=e){const h=o;return o=!0,h?Bf:Ro}o=!1;const p=r.get(u)||0;return r.set(u,p+1),t(...c)}}class Oe{constructor({options:e,recordingOptions:n}){Oe.prototype.__init.call(this),Oe.prototype.__init2.call(this),Oe.prototype.__init3.call(this),Oe.prototype.__init4.call(this),Oe.prototype.__init5.call(this),Oe.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Su,sessionIdleExpire:Tu},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=e,this._debouncedFlush=wf(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Ff((o,c)=>wd(this,o,c),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(Cu,r),timeout:r,scrollTimeout:Du,ignoreSelector:s?s.join(","):""}:void 0;i&&(this.clickDetector=new Yl(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(e),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Ze(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Ze("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const e=ps({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Ze("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=ps({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Te(D(ct(D(D({},this._recordingOptions),this.recordingMode==="buffer"&&{checkoutEveryNms:Ou}),{emit:kf(this),onMutation:this._onMutationHandler}),e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}))}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}stop(){return St(this,arguments,function*({forceFlush:e=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{Vt(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&(yield this._flush({force:!0})),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Od(this)}catch(r){this._handleException(r)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Vt("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Vt("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush(){return St(this,arguments,function*({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();Vt("[Replay] Converting buffer to session",this._options._experiments.traceInternals),yield this.flushImmediate();const r=this.stopRecording();!e||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())})}addUpdate(e){const n=e();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&fs(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${kt.location.pathname}${kt.location.hash}${kt.location.search}`,n=`${kt.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(e,n){const r=this._throttledAddEvent(e,n);if(r===Ro){const s=ce({category:"replay.throttled"});this.addUpdate(()=>!hs(this,{type:Hl,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const e=this.lastTransaction||(0,G.nZ)().getTransaction(),r=(e&&(0,Q.XU)(e).data||{})[Qt];if(!(!e||!r||!["route","custom"].includes(r)))return(0,Q.XU)(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Td({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){Ct&&S.kg.error("[Replay]",e),Ct&&this._options._experiments&&this._options._experiments.captureExceptions&&(0,G.Tb)(e)}_initializeSessionForSampling(e){const n=this._options.errorSampleRate>0,r=ps({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const e=this.session;return co(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}_refreshSession(e){return St(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(e.id))})}_addListeners(){try{kt.document.addEventListener("visibilitychange",this._handleVisibilityChange),kt.addEventListener("blur",this._handleWindowBlur),kt.addEventListener("focus",this._handleWindowFocus),kt.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Mf(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=gd(this)}_removeListeners(){try{kt.document.removeEventListener("visibilitychange",this._handleVisibilityChange),kt.removeEventListener("blur",this._handleWindowBlur),kt.removeEventListener("focus",this._handleWindowFocus),kt.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{kt.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=ce({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=ce({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{ad(this,e)}}_doChangeToBackgroundTasks(e){!this.session||ao(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Vt("[Replay] Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:Et.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){const e=ld(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(lr(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:n}=this;if(!e||!n||e.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}_runFlush(){return St(this,null,function*(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){Ct&&S.kg.error("[Replay] No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(yield Cf(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=yield this.eventBuffer.finish();yield Oo({replayId:e,recordingData:i,segmentId:s,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=(0,G.s3)();r&&r.recordDroppedEvent("send_error","replay")}})}__init5(){this._flush=(...n)=>St(this,[...n],function*({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){Ct&&S.kg.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const r=this.session.started,i=Date.now()-r;this._debouncedFlush.cancel();const o=i<this._options.minReplayDuration,c=i>this._options.maxReplayDuration+5e3;if(o||c){Vt(`[Replay] Session duration (${Math.floor(i/1e3)}s) is too ${o?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),o&&this._debouncedFlush();return}const u=this.eventBuffer;if(u&&this.session.segmentId===0&&!u.hasCheckout&&Vt("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),yield this._flushLock,this._flushLock=void 0;return}try{yield this._flushLock}catch(p){Ct&&S.kg.error(p)}finally{this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&ds(this.session)}__init6(){this._onMutationHandler=e=>{const n=e.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){const o=ce({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(o)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function On(t,e,n,r){const s=typeof r=="string"?r.split(","):[],i=[...t,...s,...e];return typeof n!="undefined"&&(typeof n=="string"&&i.push(`.${n}`),(0,S.Cf)(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}function Wf({mask:t,unmask:e,block:n,unblock:r,ignore:s,blockClass:i,blockSelector:o,maskTextClass:c,maskTextSelector:u,ignoreClass:p}){const h=['base[href="/"]'],b=On(t,[".sentry-mask","[data-sentry-mask]"],c,u),M=On(e,[".sentry-unmask","[data-sentry-unmask]"]),$={maskTextSelector:b,unmaskTextSelector:M,blockSelector:On(n,[".sentry-block","[data-sentry-block]",...h],i,o),unblockSelector:On(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:On(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],p)};return i instanceof RegExp&&($.blockClass=i),c instanceof RegExp&&($.maskTextClass=c),$}function jf({el:t,key:e,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&t.matches(s.unmaskTextSelector)?i:n.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const Mo='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Hf=["content-length","content-type","accept"];let Co=!1;const $f=t=>new Rn(t);class Rn{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=bu,flushMaxDelay:n=Iu,minReplayDuration:r=wu,maxReplayDuration:s=Si,stickySession:i=!0,useCompression:o=!0,workerUrl:c,_experiments:u={},sessionSampleRate:p,errorSampleRate:h,maskAllText:b=!0,maskAllInputs:M=!0,blockAllMedia:$=!0,mutationBreadcrumbLimit:K=750,mutationLimit:V=1e4,slowClickTimeout:Z=7e3,slowClickIgnoreSelectors:J=[],networkDetailAllowUrls:rt=[],networkDetailDenyUrls:st=[],networkCaptureBodies:ut=!0,networkRequestHeaders:lt=[],networkResponseHeaders:ot=[],mask:at=[],maskAttributes:Tt=["title","placeholder"],unmask:Dt=[],block:dt=[],unblock:_t=[],ignore:Pt=[],maskFn:Kt,beforeAddRecordingEvent:Wt,beforeErrorSampling:te,blockClass:wt,blockSelector:fe,maskInputOptions:Nt,maskTextClass:Zt,maskTextSelector:pe,ignoreClass:Nn}={}){this.name=Rn.id;const Le=Wf({mask:at,unmask:Dt,block:dt,unblock:_t,ignore:Pt,blockClass:wt,blockSelector:fe,maskTextClass:Zt,maskTextSelector:pe,ignoreClass:Nn});if(this._recordingOptions=ct(D({maskAllInputs:M,maskAllText:b,maskInputOptions:ct(D({},Nt||{}),{password:!0}),maskTextFn:Kt,maskInputFn:Kt,maskAttributeFn:(Ne,on,Ir)=>jf({maskAttributes:Tt,maskAllText:b,privacyOptions:Le,key:Ne,value:on,el:Ir})},Le),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Ne=>{try{Ne.__rrweb__=!0}catch(on){}}}),this._initialOptions={flushMinDelay:e,flushMaxDelay:n,minReplayDuration:Math.min(r,ku),maxReplayDuration:Math.min(s,Si),stickySession:i,sessionSampleRate:p,errorSampleRate:h,useCompression:o,workerUrl:c,blockAllMedia:$,maskAllInputs:M,maskAllText:b,mutationBreadcrumbLimit:K,mutationLimit:V,slowClickTimeout:Z,slowClickIgnoreSelectors:J,networkDetailAllowUrls:rt,networkDetailDenyUrls:st,networkCaptureBodies:ut,networkRequestHeaders:Do(lt),networkResponseHeaders:Do(ot),beforeAddRecordingEvent:Wt,beforeErrorSampling:te,_experiments:u},typeof p=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${p} })`),this._initialOptions.sessionSampleRate=p),typeof h=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${h} })`),this._initialOptions.errorSampleRate=h),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Mo}`:Mo),this._isInitialized&&Hr())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Co}set _isInitialized(e){Co=e}setupOnce(){Hr()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(e)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=Kf(this._initialOptions);this._replay=new Oe({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const n=(0,G.s3)().getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch(e){}}}Rn.__initStatic();function Kf(t){const e=(0,G.s3)(),n=e&&e.getOptions(),r=D({sessionSampleRate:0,errorSampleRate:0},(0,et.Jr)(t));return n?(t.sessionSampleRate==null&&t.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&(0,S.Cf)(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):((0,S.Cf)(()=>{console.warn("SDK client is not available.")}),r)}function Do(t){return[...Hf,...t.map(e=>e.toLowerCase())]}function zf(){const t=(0,G.s3)();return t&&t.getIntegrationByName&&t.getIntegrationByName("Replay")}var wo;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(wo||(wo={}));function Gf(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}function ys(t,e,n=1/0,r=0){return!t||t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:ys(t.parentNode,e,n,r+1)}function ko(t,e){return n=>{const r=n;if(r===null)return!1;try{if(t){if(typeof t=="string"){if(r.matches(`.${t}`))return!0}else if(Gf(r,t))return!0}return!!(e&&r.matches(e))}catch(s){return!1}}}const Qe=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Ao={map:{},getId(){return console.error(Qe),-1},getNode(){return console.error(Qe),null},removeNodeFromMap(){console.error(Qe)},has(){return console.error(Qe),!1},reset(){console.error(Qe)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(Ao=new Proxy(Ao,{get(t,e,n){return e==="map"&&console.error(Qe),Reflect.get(t,e,n)}}));function Es(t,e,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(t,e);return s.Object.defineProperty(t,e,r?n:{set(o){setTimeout(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>Es(t,e,i||{},!0)}function vs(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=s,()=>{t[e]=r}}catch(r){return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function mr(t,e,n,r,s){if(!t)return!1;const i=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(!i)return!1;const o=ko(e,n);if(!s){const p=r&&i.matches(r);return o(i)&&!p}const c=ys(i,o);let u=-1;return c<0?!1:(r&&(u=ys(i,ko(null,r))),c>-1&&u<0?!0:c<u)}let Ss;function Xf(){if(Ss)return Ss;const t=window.document;let e=window.requestAnimationFrame;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.requestAnimationFrame&&(e=r.requestAnimationFrame),t.head.removeChild(n)}catch(n){}return Ss=e.bind(window)}function ke(...t){return Xf()(...t)}var qe=(t=>(t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2",t))(qe||{});let gr;function Yf(t){gr=t}const Po=t=>gr?(...n)=>{try{return t(...n)}catch(r){if(gr&&gr(r)===!0)return()=>{};throw r}}:t;for(var tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vf=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),_r=0;_r<tn.length;_r++)Vf[tn.charCodeAt(_r)]=_r;var Jf=function(t){var e=new Uint8Array(t),n,r=e.length,s="";for(n=0;n<r;n+=3)s+=tn[e[n]>>2],s+=tn[(e[n]&3)<<4|e[n+1]>>4],s+=tn[(e[n+1]&15)<<2|e[n+2]>>6],s+=tn[e[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const xo=new Map;function Zf(t,e){let n=xo.get(t);return n||(n=new Map,xo.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}const Lo=(t,e,n)=>{if(!t||!(Uo(t,e)||typeof t=="object"))return;const r=t.constructor.name,s=Zf(n,r);let i=s.indexOf(t);return i===-1&&(i=s.length,s.push(t)),i};function yr(t,e,n){if(t instanceof Array)return t.map(r=>yr(r,e,n));if(t===null)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray)return{rr_type:t.constructor.name,args:[Object.values(t)]};if(t instanceof ArrayBuffer){const r=t.constructor.name,s=Jf(t);return{rr_type:r,base64:s}}else{if(t instanceof DataView)return{rr_type:t.constructor.name,args:[yr(t.buffer,e,n),t.byteOffset,t.byteLength]};if(t instanceof HTMLImageElement){const r=t.constructor.name,{src:s}=t;return{rr_type:r,src:s}}else if(t instanceof HTMLCanvasElement){const r="HTMLImageElement",s=t.toDataURL();return{rr_type:r,src:s}}else{if(t instanceof ImageData)return{rr_type:t.constructor.name,args:[yr(t.data,e,n),t.width,t.height]};if(Uo(t,e)||typeof t=="object"){const r=t.constructor.name,s=Lo(t,e,n);return{rr_type:r,index:s}}}}return t}const No=(t,e,n)=>t.map(r=>yr(r,e,n)),Uo=(t,e)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof e[s]=="function").find(s=>t instanceof e[s]);function Qf(t,e,n,r,s){const i=[],o=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(const c of o)try{if(typeof e.CanvasRenderingContext2D.prototype[c]!="function")continue;const u=vs(e.CanvasRenderingContext2D.prototype,c,function(p){return function(...h){return mr(this.canvas,n,r,s,!0)||setTimeout(()=>{const b=No(h,e,this);t(this.canvas,{type:qe["2D"],property:c,args:b})},0),p.apply(this,h)}});i.push(u)}catch(u){const p=Es(e.CanvasRenderingContext2D.prototype,c,{set(h){t(this.canvas,{type:qe["2D"],property:c,args:[h],setter:!0})}});i.push(p)}return()=>{i.forEach(c=>c())}}function qf(t){return t==="experimental-webgl"?"webgl":t}function Bo(t,e,n,r,s){const i=[];try{const o=vs(t.HTMLCanvasElement.prototype,"getContext",function(c){return function(u,...p){if(!mr(this,e,n,r,!0)){const h=qf(u);if("__context"in this||(this.__context=h),s&&["webgl","webgl2"].includes(h))if(p[0]&&typeof p[0]=="object"){const b=p[0];b.preserveDrawingBuffer||(b.preserveDrawingBuffer=!0)}else p.splice(0,1,{preserveDrawingBuffer:!0})}return c.apply(this,[u,...p])}});i.push(o)}catch(o){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(o=>o())}}function Fo(t,e,n,r,s,i,o,c){const u=[],p=Object.getOwnPropertyNames(t);for(const h of p)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(h))try{if(typeof t[h]!="function")continue;const b=vs(t,h,function(M){return function(...$){const K=M.apply(this,$);if(Lo(K,c,this),"tagName"in this.canvas&&!mr(this.canvas,r,s,i,!0)){const V=No($,c,this),Z={type:e,property:h,args:V};n(this.canvas,Z)}return K}});u.push(b)}catch(b){const M=Es(t,h,{set($){n(this.canvas,{type:e,property:h,args:[$],setter:!0})}});u.push(M)}return u}function tp(t,e,n,r,s,i){const o=[];return o.push(...Fo(e.WebGLRenderingContext.prototype,qe.WebGL,t,n,r,s,i,e)),typeof e.WebGL2RenderingContext!="undefined"&&o.push(...Fo(e.WebGL2RenderingContext.prototype,qe.WebGL2,t,n,r,s,i,e)),()=>{o.forEach(c=>c())}}var ep='for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="undefined"==typeof Uint8Array?[]:new Uint8Array(256),n=0;n<64;n++)e[t.charCodeAt(n)]=n;var a=function(e){var n,a=new Uint8Array(e),s=a.length,r="";for(n=0;n<s;n+=3)r+=t[a[n]>>2],r+=t[(3&a[n])<<4|a[n+1]>>4],r+=t[(15&a[n+1])<<2|a[n+2]>>6],r+=t[63&a[n+2]];return s%3==2?r=r.substring(0,r.length-1)+"=":s%3==1&&(r=r.substring(0,r.length-2)+"=="),r};const s=new Map,r=new Map;const i=self;i.onmessage=async function(t){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:t.data.id});{const{id:e,bitmap:n,width:o,height:f,dataURLOptions:c}=t.data,g=async function(t,e,n){const s=t+"-"+e;if("OffscreenCanvas"in globalThis){if(r.has(s))return r.get(s);const i=new OffscreenCanvas(t,e);i.getContext("2d");const o=await i.convertToBlob(n),f=await o.arrayBuffer(),c=a(f);return r.set(s,c),c}return""}(o,f,c),d=new OffscreenCanvas(o,f);d.getContext("2d").drawImage(n,0,0),n.close();const u=await d.convertToBlob(c),h=u.type,w=await u.arrayBuffer(),l=a(w);if(!s.has(e)&&await g===l)return s.set(e,l),i.postMessage({id:e});if(s.get(e)===l)return i.postMessage({id:e});i.postMessage({id:e,type:h,base64:l,width:o,height:f}),s.set(e,l)}};';function np(){const t=new Blob([ep]);return URL.createObjectURL(t)}class rp{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(h,b)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(h)||this.pendingCanvasMutations.set(h,[]),this.pendingCanvasMutations.get(h).push(b)};const{sampling:n="all",win:r,blockClass:s,blockSelector:i,unblockSelector:o,recordCanvas:c,dataURLOptions:u,errorHandler:p}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,p&&Yf(p),!e.enableManualSnapshot&&Po(()=>{c&&n==="all"&&this.initCanvasMutationObserver(r,s,i,o),c&&typeof n=="number"&&this.initCanvasFPSObserver(n,r,s,i,o,{dataURLOptions:u})})()}initCanvasFPSObserver(e,n,r,s,i,o){const c=Bo(n,r,s,i,!0),u=this.takeSnapshot(!1,e,n,r,s,i,o.dataURLOptions);this.resetObservers=()=>{c(),cancelAnimationFrame(u)}}initCanvasMutationObserver(e,n,r,s){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=Bo(e,n,r,s,!1),o=Qf(this.processMutation.bind(this),e,n,r,s),c=tp(this.processMutation.bind(this),e,n,r,s,this.mirror);this.resetObservers=()=>{i(),o(),c()}}snapshot(e){const{options:n}=this,r=this.takeSnapshot(!0,n.sampling==="all"?2:n.sampling||2,n.win,n.blockClass,n.blockSelector,n.unblockSelector,n.dataURLOptions,e);this.resetObservers=()=>{cancelAnimationFrame(r)}}takeSnapshot(e,n,r,s,i,o,c,u){const p=new Map,h=new Worker(np());h.onmessage=Z=>{const J=Z.data,{id:rt}=J;if(p.set(rt,!1),!("base64"in J))return;const{base64:st,type:ut,width:lt,height:ot}=J;this.mutationCb({id:rt,type:qe["2D"],commands:[{property:"clearRect",args:[0,0,lt,ot]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:st}],type:ut}]},0,0]}]})};const b=1e3/n;let M=0,$;const K=Z=>{if(Z)return[Z];const J=[];return r.document.querySelectorAll("canvas").forEach(rt=>{mr(rt,s,i,o,!0)||J.push(rt)}),J},V=Z=>{if(M&&Z-M<b){$=ke(V);return}M=Z,K(u).forEach(J=>{const rt=this.mirror.getId(J);if(!p.get(rt)){if(p.set(rt,!0),!e&&["webgl","webgl2"].includes(J.__context)){const st=J.getContext(J.__context);Kn([st,"optionalAccess",ut=>ut.getContextAttributes,"call",ut=>ut(),"optionalAccess",ut=>ut.preserveDrawingBuffer])===!1&&st.clear(st.COLOR_BUFFER_BIT)}createImageBitmap(J).then(st=>{h.postMessage({id:rt,bitmap:st,width:J.width,height:J.height,dataURLOptions:c},[st])}).catch(st=>{Po(()=>{throw st})()})}}),$=ke(V)};return $=ke(V),$}startPendingCanvasMutationFlusher(){ke(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const e=n=>{this.rafStamps.latestId=n,ke(e)};ke(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),ke(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(e);if(!r||n===-1)return;const s=r.map(o=>{const p=o,{type:c}=p;return Un(p,["type"])}),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:s}),this.pendingCanvasMutations.delete(e)}}const Wo={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},jo="ReplayCanvas",sp=(t={})=>{const e={quality:t.quality||"medium",enableManualSnapshot:t.enableManualSnapshot};let n;const r=new Promise(i=>n=i);return{name:jo,setupOnce(){},getOptions(){const{quality:i,enableManualSnapshot:o}=e;return D({enableManualSnapshot:o,recordCanvas:!0,getCanvasManager:c=>{const u=new rp(ct(D({},c),{enableManualSnapshot:o,errorHandler:p=>{try{typeof p=="object"&&(p.__rrweb__=!0)}catch(h){}}}));return n(u),u}},Wo[i||"medium"]||Wo.medium)},snapshot(i){return St(this,null,function*(){(yield r).snapshot(i)})}}},Ho=(0,N._I)(sp),ip=(0,N.RN)(jo,Ho);var op=a("780630");const Ae=me.n2,Ts="#ffffff",$o="inherit",bs="rgba(108, 95, 199, 1)",Ko={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:Ts,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"12px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:bs,submitBorder:bs,submitOutlineFocus:"#29232f",submitForeground:Ts,submitForegroundHover:Ts,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:$o,inputForeground:$o,inputBorder:"var(--border)",inputOutlineFocus:bs,formBorderRadius:"20px",formContentBorderRadius:"6px"},zo={light:Ko,dark:ct(D({},Ko),{background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"})},ap="Report a Bug",cp="Cancel",up="Send Bug Report",lp="Report a Bug",dp="your.email@example.org",fp="Email",pp="What's the bug? What did you expect?",hp="Description",mp="Your Name",gp="Name",_p="Thank you for your report!",Go="widget",Xo="api";function yp(r){return St(this,arguments,function*({client:t,scope:e,event:n}){const s={};t.emit&&t.emit("preprocessEvent",n,s);const i=yield(0,ri.R)(t.getOptions(),n,s,e,t,(0,L.aF)());return i===null?(t.recordDroppedEvent("event_processor","feedback",n),null):(i.platform=i.platform||"javascript",i)})}function Ep(o){return St(this,arguments,function*({feedback:{message:t,email:e,name:n,source:r,url:s}},{includeReplay:i=!0}={}){const c=(0,G.s3)(),u=c&&c.getTransport(),p=c&&c.getDsn();if(!c||!u||!p)return;const h={contexts:{feedback:{contact_email:e,name:n,message:t,url:s,source:r}},type:"feedback"};return(0,G.$e)(b=>St(this,null,function*(){b.clearBreadcrumbs(),[Xo,Go].includes(String(r))&&b.setLevel("info");const M=yield yp({scope:b,client:c,event:h});if(!M)return;c.emit&&c.emit("beforeSendFeedback",M,{includeReplay:!!i});const $=(0,op.M)(M,p,c.getOptions()._metadata,c.getOptions().tunnel);let K;try{K=yield u.send($)}catch(V){const Z=new Error("Unable to send Feedback");try{Z.cause=V}catch(J){}throw Z}if(K){if(typeof K.statusCode=="number"&&(K.statusCode<200||K.statusCode>=300))throw new Error("Unable to send Feedback");return K}}))})}function Yo({name:t,email:e,message:n,source:r=Xo,url:s=(0,oe.l4)()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return Ep({feedback:{name:t,email:e,message:n,url:s,source:r}},i)}const Pe=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;function Vo(t,e){return ct(D(D({},t),e),{themeDark:D(D({},t.themeDark),e.themeDark),themeLight:D(D({},t.themeLight),e.themeLight)})}function vp(t){const e=t.createElement("style");return e.textContent=`
.widget__actor {
  line-height: 25px;

  display: flex;
  align-items: center;
  gap: 8px;

  border-radius: var(--border-radius);
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  padding: 12px 16px;
  text-decoration: none;
  z-index: 9000;

  color: var(--foreground);
  background-color: var(--background);
  border: var(--border);
  box-shadow: var(--box-shadow);
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

.widget__actor:hover {
  background-color: var(--background-hover);
}

.widget__actor svg {
  width: 16px;
  height: 16px;
}

.widget__actor--hidden {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

.widget__actor__text {
}

.feedback-icon path {
  fill: var(--foreground);
}
`,e}function Sp(t){const e=t.createElement("style");return e.textContent=`
.dialog {
  line-height: 25px;
  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  position: fixed;
  inset: 0;
  z-index: 10000;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);

  border: var(--border);
  border-radius: var(--form-border-radius);
  background-color: var(--background);
  color: var(--foreground);

  width: 320px;
  max-width: 100%;
  max-height: calc(100% - 2rem);
  display: flex;
  flex-direction: column;
  box-shadow: var(--box-shadow);
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}

.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 20px;
  font-weight: 600;
  padding: 24px 24px 0 24px;
  margin: 0;
  margin-bottom: 16px;
}

.brand-link {
  display: inline-flex;
}

.error {
  color: var(--error);
  margin-bottom: 16px;
}

.form {
  display: grid;
  overflow: auto;
  flex-direction: column;
  gap: 16px;
  padding: 0 24px 24px;
}

.form__error-container {
  color: var(--error);
}

.form__error-container--hidden {
  display: none;
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: grid;
  gap: 4px;
  align-items: center;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background-color: var(--input-background);
  box-sizing: border-box;
  border: var(--input-border);
  border-radius: var(--form-content-border-radius);
  color: var(--input-foreground);
  font-size: 14px;
  font-weight: 500;
  padding: 6px 12px;
}

.form__input:focus-visible {
  outline: 1px auto var(--input-outline-focus);
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.btn-group {
  display: grid;
  gap: 8px;
  margin-top: 8px;
}

.btn {
  line-height: inherit;
  border: var(--cancel-border);
  border-radius: var(--form-content-border-radius);
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  padding: 6px 16px;
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  background-color: var(--submit-background);
  border-color: var(--submit-border);
  color: var(--submit-foreground);
}
.btn--primary:hover {
  background-color: var(--submit-background-hover);
  color: var(--submit-foreground-hover);
}
.btn--primary:focus-visible {
  outline: 1px auto var(--submit-outline-focus);
}

.btn--default {
  background-color: var(--cancel-background);
  color: var(--cancel-foreground);
  font-weight: 500;
}
.btn--default:hover {
  background-color: var(--cancel-background-hover);
  color: var(--cancel-foreground-hover);
}
.btn--default:focus-visible {
  outline: 1px auto var(--cancel-outline-focus);
}

.success-message {
  background-color: var(--background);
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-weight: 600;
  color: var(--success);
  padding: 12px 24px;
  line-height: 25px;
  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success-icon path {
  fill: var(--success);
}
`,e}function Jo(t){return`
  --background: ${t.background};
  --background-hover: ${t.backgroundHover};
  --foreground: ${t.foreground};
  --error: ${t.error};
  --success: ${t.success};
  --border: ${t.border};
  --border-radius: ${t.borderRadius};
  --box-shadow: ${t.boxShadow};

  --submit-background: ${t.submitBackground};
  --submit-background-hover: ${t.submitBackgroundHover};
  --submit-border: ${t.submitBorder};
  --submit-outline-focus: ${t.submitOutlineFocus};
  --submit-foreground: ${t.submitForeground};
  --submit-foreground-hover: ${t.submitForegroundHover};

  --cancel-background: ${t.cancelBackground};
  --cancel-background-hover: ${t.cancelBackgroundHover};
  --cancel-border: ${t.cancelBorder};
  --cancel-outline-focus: ${t.cancelOutlineFocus};
  --cancel-foreground: ${t.cancelForeground};
  --cancel-foreground-hover: ${t.cancelForegroundHover};

  --input-background: ${t.inputBackground};
  --input-foreground: ${t.inputForeground};
  --input-border: ${t.inputBorder};
  --input-outline-focus: ${t.inputOutlineFocus};

  --form-border-radius: ${t.formBorderRadius};
  --form-content-border-radius: ${t.formContentBorderRadius};
  `}function Tp(t,e,n){const r=t.createElement("style");return r.textContent=`
:host {
  --bottom: 1rem;
  --right: 1rem;
  --top: auto;
  --left: auto;
  --z-index: 100000;
  --font-family: ${n.light.fontFamily};
  --font-size: ${n.light.fontSize};

  position: fixed;
  left: var(--left);
  right: var(--right);
  bottom: var(--bottom);
  top: var(--top);
  z-index: var(--z-index);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${Jo(e==="dark"?n.dark:n.light)}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Jo(n.dark)}
  }
}`:""}
}`,r}function bp({id:t,colorScheme:e,themeDark:n,themeLight:r}){try{const s=Ae.document,i=s.createElement("div");i.id=t;const o=i.attachShadow({mode:"open"});return o.appendChild(Tp(s,e,{dark:n,light:r})),o.appendChild(Sp(s)),{shadow:o,host:i}}catch(s){throw S.kg.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}function Ip(t,e,n){return St(this,null,function*(){if(!t)return;const r=()=>{t&&t.showError("There was a problem submitting feedback, please wait and try again.")};t.hideError();try{return yield Yo(ct(D({},e),{source:Go}),n)}catch(s){Pe&&S.kg.error(s),r()}})}function qt(t,e){return Object.entries(e).forEach(([n,r])=>{t.setAttributeNS(null,n,r)}),t}const en=20,Op="http://www.w3.org/2000/svg";function Rp(){const t=c=>Ae.document.createElementNS(Op,c),e=qt(t("svg"),{class:"feedback-icon",width:`${en}`,height:`${en}`,viewBox:`0 0 ${en} ${en}`,fill:"none"}),n=qt(t("g"),{clipPath:"url(#clip0_57_80)"}),r=qt(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});e.appendChild(n).appendChild(r);const s=t("defs"),i=qt(t("clipPath"),{id:"clip0_57_80"}),o=qt(t("rect"),{width:`${en}`,height:`${en}`,fill:"white"});return i.appendChild(o),s.appendChild(i),e.appendChild(s).appendChild(i).appendChild(o),{get el(){return e}}}function xt(t,e,...n){const s=Ae.document.createElement(t);e&&Object.entries(e).forEach(([i,o])=>{i==="className"&&typeof o=="string"?s.setAttribute("class",o):typeof o=="boolean"&&o?s.setAttribute(i,""):typeof o=="string"?s.setAttribute(i,o):i.startsWith("on")&&typeof o=="function"&&s.addEventListener(i.substring(2).toLowerCase(),o)});for(const i of n)Zo(s,i);return s}function Zo(t,e){const n=Ae.document;if(!(typeof e=="undefined"||e===null))if(Array.isArray(e))for(const r of e)Zo(t,r);else e===!1||(typeof e=="string"?t.appendChild(n.createTextNode(e)):e instanceof Node?t.appendChild(e):t.appendChild(n.createTextNode(String(e))))}function Mp({buttonLabel:t,onClick:e}){function n(s){e&&e(s)}const r=xt("button",{type:"button",className:"widget__actor","aria-label":t,"aria-hidden":"false"},Rp().el,t?xt("span",{className:"widget__actor__text"},t):null);return r.addEventListener("click",n),{get el(){return r},show:()=>{r.classList.remove("widget__actor--hidden"),r.setAttribute("aria-hidden","false")},hide:()=>{r.classList.add("widget__actor--hidden"),r.setAttribute("aria-hidden","true")}}}function Cp({label:t}){return{el:xt("button",{type:"submit",className:"btn btn--primary","aria-label":t},t)}}function Is(t,e){const n=t.get(e);return typeof n=="string"?n.trim():""}function Dp({nameLabel:t,namePlaceholder:e,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:i,cancelButtonLabel:o,submitButtonLabel:c,showName:u,showEmail:p,isNameRequired:h,isEmailRequired:b,defaultName:M,defaultEmail:$,onCancel:K,onSubmit:V}){const{el:Z}=Cp({label:c});function J(dt){if(dt.preventDefault(),dt.target instanceof HTMLFormElement)try{if(V){const _t=new FormData(dt.target),Pt={name:Is(_t,"name"),email:Is(_t,"email"),message:Is(_t,"message")};V(Pt)}}catch(_t){}}const rt=xt("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});function st(dt){rt.textContent=dt,rt.classList.remove("form__error-container--hidden"),rt.setAttribute("aria-hidden","false")}function ut(){rt.textContent="",rt.classList.add("form__error-container--hidden"),rt.setAttribute("aria-hidden","true")}const lt=xt("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:h,className:"form__input",placeholder:e,value:M}),ot=xt("input",{id:"email",type:p?"text":"hidden","aria-hidden":p?"false":"true",name:"email",required:b,className:"form__input",placeholder:r,value:$}),at=xt("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),Tt=xt("button",{type:"button",className:"btn btn--default","aria-label":o,onClick:dt=>{K&&K(dt)}},o),Dt=xt("form",{className:"form",onSubmit:J},[rt,u&&xt("label",{htmlFor:"name",className:"form__label"},[xt("span",{className:"form__label__text"},t,h&&xt("span",{className:"form__label__text--required"}," (required)")),lt]),!u&&lt,p&&xt("label",{htmlFor:"email",className:"form__label"},[xt("span",{className:"form__label__text"},n,b&&xt("span",{className:"form__label__text--required"}," (required)")),ot]),!p&&ot,xt("label",{htmlFor:"message",className:"form__label"},[xt("span",{className:"form__label__text"},s,xt("span",{className:"form__label__text--required"}," (required)")),at]),xt("div",{className:"btn-group"},[Z,Tt])]);return{get el(){return Dt},showError:st,hideError:ut}}const wp="http://www.w3.org/2000/svg";function kp({colorScheme:t}){const e=o=>Ae.document.createElementNS(wp,o),n=qt(e("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=qt(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=e("defs"),i=e("style");return i.textContent=`
    path {
      fill: ${t==="dark"?"#fff":"#362d59"};
    }`,t==="system"&&(i.textContent+=`
    @media (prefers-color-scheme: dark) {
      path: {
        fill: '#fff';
      }
    }
    `),s.append(i),n.append(s),{get el(){return n}}}function Ap($){var K=$,{formTitle:t,showBranding:e,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:i,colorScheme:o,defaultName:c,defaultEmail:u,onClosed:p,onCancel:h,onSubmit:b}=K,M=Un(K,["formTitle","showBranding","showName","showEmail","isNameRequired","isEmailRequired","colorScheme","defaultName","defaultEmail","onClosed","onCancel","onSubmit"]);let V=null;function Z(){J(),p&&p()}function J(){V&&(V.open=!1)}function rt(){V&&(V.open=!0)}function st(){return V&&V.open===!0||!1}const{el:ut,showError:lt,hideError:ot}=Dp(D({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:s,defaultName:c,defaultEmail:u,onSubmit:b,onCancel:h},M));return V=xt("dialog",{className:"dialog",open:!0,onClick:Z},xt("div",{className:"dialog__content",onClick:at=>{at.stopPropagation()}},xt("h2",{className:"dialog__header"},t,e&&xt("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},kp({colorScheme:o}).el)),ut)),{get el(){return V},showError:lt,hideError:ot,open:rt,close:J,checkIsOpen:st}}const Er=16,Qo=17,Pp="http://www.w3.org/2000/svg";function xp(){const t=u=>Ae.document.createElementNS(Pp,u),e=qt(t("svg"),{class:"success-icon",width:`${Er}`,height:`${Qo}`,viewBox:`0 0 ${Er} ${Qo}`,fill:"none"}),n=qt(t("g"),{clipPath:"url(#clip0_57_156)"}),r=qt(t("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=qt(t("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});e.appendChild(n).append(s,r);const i=t("defs"),o=qt(t("clipPath"),{id:"clip0_57_156"}),c=qt(t("rect"),{width:`${Er}`,height:`${Er}`,fill:"white",transform:"translate(0 0.5)"});return o.appendChild(c),i.appendChild(o),e.appendChild(i).appendChild(o).appendChild(c),{get el(){return e}}}function Lp({message:t,onRemove:e}){function n(){r&&(r.remove(),e&&e())}const r=xt("div",{className:"success-message",onClick:n},xp().el,t);return{el:r,remove:n}}function qo(s){var i=s,{shadow:t,options:o}=i,c=o,{shouldCreateActor:e=!0}=c,n=Un(c,["shouldCreateActor"]),{attachTo:r}=i;let u,p,h=!1;function b(){if(t)try{const lt=Lp({message:n.successMessageText,onRemove:()=>{ot&&clearTimeout(ot),K()}});if(!lt.el)throw new Error("Unable to show success message");t.appendChild(lt.el);const ot=setTimeout(()=>{lt&&lt.remove()},5e3)}catch(lt){S.kg.error(lt)}}function M(lt){return St(this,null,function*(){if(!p)return;const ot=[];if(n.isNameRequired&&!lt.name&&ot.push(n.nameLabel),n.isEmailRequired&&!lt.email&&ot.push(n.emailLabel),lt.message||ot.push(n.messageLabel),ot.length>0){p.showError(`Please enter in the following required fields: ${ot.join(", ")}`);return}if(!(yield Ip(p,lt))){n.onSubmitError&&n.onSubmitError();return}st(),b(),n.onSubmitSuccess&&n.onSubmitSuccess()})}function $(){const lt=(0,G.s3)(),ot=lt&&lt.getIntegrationByName&&lt.getIntegrationByName("Replay");ot&&ot.flush().catch(at=>{Pe&&S.kg.error(at)})}function K(){u&&u.show()}function V(){u&&u.hide()}function Z(){u&&u.el&&u.el.remove()}function J(){try{if(p){p.open(),h=!0,n.onFormOpen&&n.onFormOpen(),$();return}const lt=n.useSentryUser,ot=(0,G.nZ)(),at=ot&&ot.getUser();if(p=Ap({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,defaultName:lt&&at&&at[lt.name]||"",defaultEmail:lt&&at&&at[lt.email]||"",onClosed:()=>{K(),h=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{rt(),K()},onSubmit:M}),!p.el)throw new Error("Unable to open Feedback dialog");t.appendChild(p.el),V(),n.onFormOpen&&n.onFormOpen(),$()}catch(lt){S.kg.error(lt)}}function rt(){p&&(p.close(),h=!1,n.onFormClose&&n.onFormClose())}function st(){if(p){rt();const lt=p.el;lt&&lt.remove(),p=void 0}}function ut(){h||J(),V()}return r?r.addEventListener("click",ut):e&&(u=Mp({buttonLabel:n.buttonLabel,onClick:ut}),u.el&&t.appendChild(u.el)),{get actor(){return u},get dialog(){return p},showActor:K,hideActor:V,removeActor:Z,openDialog:J,closeDialog:rt,removeDialog:st}}const vr=Ae.document,Np=t=>new Mn(t);class Mn{static __initStatic(){this.id="Feedback"}constructor({autoInject:e=!0,id:n="sentry-feedback",isEmailRequired:r=!1,isNameRequired:s=!1,showBranding:i=!0,showEmail:o=!0,showName:c=!0,useSentryUser:u={email:"email",name:"username"},themeDark:p,themeLight:h,colorScheme:b="system",buttonLabel:M=ap,cancelButtonLabel:$=cp,submitButtonLabel:K=up,formTitle:V=lp,emailPlaceholder:Z=dp,emailLabel:J=fp,messagePlaceholder:rt=pp,messageLabel:st=hp,namePlaceholder:ut=mp,nameLabel:lt=gp,successMessageText:ot=_p,onFormClose:at,onFormOpen:Tt,onSubmitError:Dt,onSubmitSuccess:dt}={}){this.name=Mn.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:e,showBranding:i,id:n,isEmailRequired:r,isNameRequired:s,showEmail:o,showName:c,useSentryUser:u,colorScheme:b,themeDark:D(D({},zo.dark),p),themeLight:D(D({},zo.light),h),buttonLabel:M,cancelButtonLabel:$,submitButtonLabel:K,formTitle:V,emailLabel:J,emailPlaceholder:Z,messageLabel:st,messagePlaceholder:rt,nameLabel:lt,namePlaceholder:ut,successMessageText:ot,onFormClose:at,onFormOpen:Tt,onSubmitError:Dt,onSubmitSuccess:dt}}setupOnce(){if(Hr())try{this._cleanupWidgetIfExists();const{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){Pe&&S.kg.error(e)}}openDialog(){this._widget||this._createWidget(ct(D({},this.options),{shouldCreateActor:!1})),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,n){try{const r=Vo(this.options,n||{});return this._ensureShadowHost(r,({shadow:s})=>{const i=typeof e=="string"?vr.querySelector(e):typeof e.addEventListener=="function"?e:null;if(!i)return Pe&&S.kg.error("[Feedback] Unable to attach to target element"),null;const o=qo({shadow:s,options:r,attachTo:i});return this._widgets.add(o),this._widget||(this._widget=o),o})}catch(r){return Pe&&S.kg.error(r),null}}createWidget(e){try{return this._createWidget(Vo(this.options,e||{}))}catch(n){return Pe&&S.kg.error(n),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(n){Pe&&S.kg.error(n)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const e=vr.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,({shadow:n})=>{const r=qo({shadow:n,options:e});return!this._hasInsertedActorStyles&&r.actor&&(n.appendChild(vp(vr)),this._hasInsertedActorStyles=!0),this._widgets.add(r),this._widget||(this._widget=r),r})}_ensureShadowHost(e,n){let r=!1;if(!this._shadow||!this._host){const{id:i,colorScheme:o,themeLight:c,themeDark:u}=e,{shadow:p,host:h}=bp({id:i,colorScheme:o,themeLight:c,themeDark:u});this._shadow=p,this._host=h,r=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;const s=n({shadow:this._shadow,host:this._host});return r&&vr.body.appendChild(this._host),s}}Mn.__initStatic();function ta(){gt&&gt.document?gt.document.addEventListener("visibilitychange",()=>{const t=he();if(gt.document.hidden&&t){const e="cancelled",{op:n,status:r}=(0,Q.XU)(t);It&&S.kg.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),r||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.end()}}):It&&S.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}function Up(t){const e={sent_at:new Date().toISOString()},n=t.map(Bp);return(0,A.Jd)(e,n)}function Bp(t){return[{type:"span"},t]}var Fp=a("948093");function Os(t){return typeof t=="number"&&isFinite(t)}function nn(t,r){var s=r,{startTimestamp:e}=s,n=Un(s,["startTimestamp"]);return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild(D({startTimestamp:e},n))}const Wp=2147483647;function Bt(t){return t/1e3}function Rs(){return gt&&gt.addEventListener&&gt.performance}let ea=0,Ft={},ue,Cn;function na(){const t=Rs();if(t&&Ut.Z1){t.mark&&gt.performance.mark("sentry-tracing-init");const e=Kp(),n=Hp(),r=$p();return()=>{e(),n(),r()}}return()=>{}}function ra(){hn("longtask",({entries:t})=>{for(const e of t){const n=he();if(!n)return;const r=Bt(Ut.Z1+e.startTime),s=Bt(e.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s})}})}function sa(){hn("event",({entries:t})=>{for(const e of t){const n=he();if(!n)return;if(e.name==="click"){const r=Bt(Ut.Z1+e.startTime),s=Bt(e.duration),i={description:(0,oe.Rt)(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+s},o=(0,oe.iY)(e.target);o&&(i.attributes={"ui.component_name":o}),n.startChild(i)}}})}function jp(t){if(Rs()&&Ut.Z1){const n=zp(t);return()=>{n()}}return()=>{}}function Hp(){return fu(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(It&&S.kg.log("[Measurements] Adding CLS"),Ft.cls={value:t.value,unit:""},Cn=e)},!0)}function $p(){return _i(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(It&&S.kg.log("[Measurements] Adding LCP"),Ft.lcp={value:t.value,unit:"millisecond"},ue=e)},!0)}function Kp(){return pu(({metric:t})=>{const e=t.entries[t.entries.length-1];if(!e)return;const n=Bt(Ut.Z1),r=Bt(e.startTime);It&&S.kg.log("[Measurements] Adding FID"),Ft.fid={value:t.value,unit:"millisecond"},Ft["mark.fid"]={value:n+r,unit:"second"}})}function zp(t){return hu(({metric:e})=>{const n=e.entries.find(Z=>Z.name==="click"),r=(0,G.s3)();if(!n||!r)return;const s=r.getOptions(),i=Bt(Ut.Z1+n.startTime),o=Bt(e.value),{routeName:c,parentContext:u,activeTransaction:p,user:h,replayId:b}=n.interactionId!==void 0?t[n.interactionId]:{routeName:void 0,parentContext:void 0,activeTransaction:void 0,user:void 0,replayId:void 0},M=h!==void 0?h.email||h.id||h.ip_address:void 0,$=p!==void 0?p.getProfileId():void 0,K=new Hn({startTimestamp:i,endTimestamp:i+o,op:"ui.interaction.click",name:(0,oe.Rt)(n.target),attributes:D(D(D({release:s.release,environment:s.environment,transaction:c},M!==void 0&&M!==""?{user:M}:{}),$!==void 0?{profile_id:$}:{}),b!==void 0?{replay_id:b}:{}),exclusiveTime:e.value,measurements:{inp:{value:e.value,unit:"millisecond"}}}),V=qp(u,s);if(V&&Math.random()<V){const Z=K?Up([K]):void 0,J=r&&r.getTransport();J&&Z&&J.send(Z).then(null,rt=>{It&&S.kg.error("Error while sending interaction:",rt)});return}})}function ia(t){const e=Rs();if(!e||!gt.performance.getEntries||!Ut.Z1)return;It&&S.kg.log("[Tracing] Adding & adjusting spans using Performance API");const n=Bt(Ut.Z1),r=e.getEntries();let s,i;const{op:o,start_timestamp:c}=(0,Q.XU)(t);if(r.slice(ea).forEach(u=>{const p=Bt(u.startTime),h=Bt(u.duration);if(!(t.op==="navigation"&&c&&n+p<c))switch(u.entryType){case"navigation":{Xp(t,u,n),s=n+Bt(u.responseStart),i=n+Bt(u.requestStart);break}case"mark":case"paint":case"measure":{Gp(t,u,p,h,n);const b=$r(),M=u.startTime<b.firstHiddenTime;u.name==="first-paint"&&M&&(It&&S.kg.log("[Measurements] Adding FP"),Ft.fp={value:u.startTime,unit:"millisecond"}),u.name==="first-contentful-paint"&&M&&(It&&S.kg.log("[Measurements] Adding FCP"),Ft.fcp={value:u.startTime,unit:"millisecond"});break}case"resource":{Vp(t,u,u.name,p,h,n);break}}}),ea=Math.max(r.length-1,0),Jp(t),o==="pageload"){Qp(Ft,s,i,c),["fcp","fp","lcp"].forEach(p=>{if(!Ft[p]||!c||n>=c)return;const h=Ft[p].value,b=n+Bt(h),M=Math.abs((b-c)*1e3),$=M-h;It&&S.kg.log(`[Measurements] Normalized ${p} from ${h} to ${M} (${$})`),Ft[p].value=M});const u=Ft["mark.fid"];u&&Ft.fid&&(nn(t,{description:"first input delay",endTimestamp:u.value+Bt(Ft.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:u.value}),delete Ft["mark.fid"]),"fcp"in Ft||delete Ft.cls,Object.keys(Ft).forEach(p=>{ti(p,Ft[p].value,Ft[p].unit)}),Zp(t)}ue=void 0,Cn=void 0,Ft={}}function Gp(t,e,n,r,s){const i=s+n,o=i+r;return nn(t,{description:e.name,endTimestamp:o,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function Xp(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Sr(t,e,r,n)}),Sr(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),Sr(t,e,"fetch",n,"cache","domainLookupStart"),Sr(t,e,"domainLookup",n,"DNS"),Yp(t,e,n)}function Sr(t,e,n,r,s,i){const o=i?e[i]:e[`${n}End`],c=e[`${n}Start`];!c||!o||nn(t,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+Bt(c),endTimestamp:r+Bt(o)})}function Yp(t,e,n){e.responseEnd&&(nn(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+Bt(e.requestStart),endTimestamp:n+Bt(e.responseEnd)}),nn(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+Bt(e.responseStart),endTimestamp:n+Bt(e.responseEnd)}))}function Vp(t,e,n,r,s,i){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const o=(0,Fp.en)(n),c={};Ms(c,e,"transferSize","http.response_transfer_size"),Ms(c,e,"encodedBodySize","http.response_content_length"),Ms(c,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(c["resource.render_blocking_status"]=e.renderBlockingStatus),o.protocol&&(c["url.scheme"]=o.protocol.split(":").pop()),o.host&&(c["server.address"]=o.host),c["url.same_origin"]=n.includes(gt.location.origin);const u=i+r,p=u+s;nn(t,{description:n.replace(gt.location.origin,""),endTimestamp:p,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:u,data:c})}function Jp(t){const e=gt.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Os(n.rtt)&&(Ft["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Os(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),Os(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function Zp(t){ue&&(It&&S.kg.log("[Measurements] Adding LCP Data"),ue.element&&t.setTag("lcp.element",(0,oe.Rt)(ue.element)),ue.id&&t.setTag("lcp.id",ue.id),ue.url&&t.setTag("lcp.url",ue.url.trim().slice(0,200)),t.setTag("lcp.size",ue.size)),Cn&&Cn.sources&&(It&&S.kg.log("[Measurements] Adding CLS Data"),Cn.sources.forEach((e,n)=>t.setTag(`cls.source.${n+1}`,(0,oe.Rt)(e.node))))}function Ms(t,e,n,r){const s=e[n];s!=null&&s<Wp&&(t[r]=s)}function Qp(t,e,n,r){typeof e=="number"&&r&&(It&&S.kg.log("[Measurements] Adding TTFB"),t.ttfb={value:Math.max(e-r,0)*1e3,unit:"millisecond"},typeof n=="number"&&n<=e&&(t["ttfb.requestTime"]={value:(e-n)*1e3,unit:"millisecond"}))}function qp(t,e){if(!mt(e))return!1;let n;return t!==void 0&&typeof e.tracesSampler=="function"?n=e.tracesSampler({transactionContext:t,name:t.name,parentSampled:t.parentSampled,attributes:D(D({},t.data),t.attributes),location:gt.location}):t!==void 0&&t.sampled!==void 0?n=t.sampled:typeof e.tracesSampleRate!="undefined"?n=e.tracesSampleRate:n=1,qs(n)?n:(It&&S.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),!1)}var Dn=a("516354");function th(t,e,n,r,s="auto.http.browser"){if(!mt()||!t.fetchData)return;const i=e(t.fetchData.url);if(t.endTimestamp&&i){const b=t.fetchData.__span;if(!b)return;const M=r[b];if(M){if(t.response){jn(M,t.response.status);const $=t.response&&t.response.headers&&t.response.headers.get("content-length");if($){const K=parseInt($);K>0&&M.setAttribute("http.response_content_length",K)}}else t.error&&M.setStatus("internal_error");M.end(),delete r[b]}return}const o=(0,G.nZ)(),c=(0,G.s3)(),{method:u,url:p}=t.fetchData,h=i?Ee({name:`${u} ${p}`,onlyIfParent:!0,attributes:{url:p,type:"fetch","http.method":u,[Ce]:s},op:"http.client"}):void 0;if(h&&(t.fetchData.__span=h.spanContext().spanId,r[h.spanContext().spanId]=h),n(t.fetchData.url)&&c){const b=t.args[0];t.args[1]=t.args[1]||{};const M=t.args[1];M.headers=eh(b,c,o,M,h)}return h}function eh(t,e,n,r,s){const i=s||n.getSpan(),o=(0,L.aF)(),{traceId:c,spanId:u,sampled:p,dsc:h}=D(D({},o.getPropagationContext()),n.getPropagationContext()),b=i?(0,Q.Hb)(i):(0,z.$p)(c,u,p),M=(0,Dn.IQ)(h||(i?(0,it.j)(i):(0,it._)(c,e,n))),$=r.headers||(typeof Request!="undefined"&&(0,q.V9)(t,Request)?t.headers:void 0);if($)if(typeof Headers!="undefined"&&(0,q.V9)($,Headers)){const K=new Headers($);return K.append("sentry-trace",b),M&&K.append(Dn.bU,M),K}else if(Array.isArray($)){const K=[...$,["sentry-trace",b]];return M&&K.push([Dn.bU,M]),K}else{const K="baggage"in $?$.baggage:void 0,V=[];return Array.isArray(K)?V.push(...K):K&&V.push(K),M&&V.push(M),ct(D({},$),{"sentry-trace":b,baggage:V.length>0?V.join(","):void 0})}else return{"sentry-trace":b,baggage:M}}const Cs=["localhost",/^\/(?!\/)/],wn={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Cs,tracePropagationTargets:Cs};function Ds(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o}=D({traceFetch:wn.traceFetch,traceXHR:wn.traceXHR},t),c=typeof i=="function"?i:h=>!0,u=h=>ih(h,r||s),p={};e&&(0,ii.U)(h=>{const b=th(h,c,u,p);o&&b&&oa(b)}),n&&(0,dn.UK)(h=>{const b=oh(h,c,u,p);o&&b&&oa(b)})}function nh(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function oa(t){const{url:e}=(0,Q.XU)(t).data||{};if(!e||typeof e!="string")return;const n=hn("resource",({entries:r})=>{r.forEach(s=>{nh(s)&&s.name.endsWith(e)&&(sh(s).forEach(o=>t.setAttribute(...o)),setTimeout(n))})})}function rh(t){let e="unknown",n="unknown",r="";for(const s of t){if(s==="/"){[e,n]=t.split("/");break}if(!isNaN(Number(s))){e=r==="h"?"http":r,n=t.split(r)[1];break}r+=s}return r===t&&(e=r),{name:e,version:n}}function le(t=0){return((Ut.Z1||performance.timeOrigin)+t)/1e3}function sh(t){const{name:e,version:n}=rh(t.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",e]),Ut.Z1?[...r,["http.request.redirect_start",le(t.redirectStart)],["http.request.fetch_start",le(t.fetchStart)],["http.request.domain_lookup_start",le(t.domainLookupStart)],["http.request.domain_lookup_end",le(t.domainLookupEnd)],["http.request.connect_start",le(t.connectStart)],["http.request.secure_connection_start",le(t.secureConnectionStart)],["http.request.connection_end",le(t.connectEnd)],["http.request.request_start",le(t.requestStart)],["http.request.response_start",le(t.responseStart)],["http.request.response_end",le(t.responseEnd)]]:r}function ih(t,e){return(0,si.U0)(t,e||Cs)}function oh(t,e,n,r){const s=t.xhr,i=s&&s[dn.xU];if(!mt()||!s||s.__sentry_own_request__||!i)return;const o=e(i.url);if(t.endTimestamp&&o){const b=s.__sentry_xhr_span_id__;if(!b)return;const M=r[b];M&&i.status_code!==void 0&&(jn(M,i.status_code),M.end(),delete r[b]);return}const c=(0,G.nZ)(),u=(0,L.aF)(),p=o?Ee({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,url:i.url,[Ce]:"auto.http.browser"},op:"http.client"}):void 0;p&&(s.__sentry_xhr_span_id__=p.spanContext().spanId,r[s.__sentry_xhr_span_id__]=p);const h=(0,G.s3)();if(s.setRequestHeader&&n(i.url)&&h){const{traceId:b,spanId:M,sampled:$,dsc:K}=D(D({},u.getPropagationContext()),c.getPropagationContext()),V=p?(0,Q.Hb)(p):(0,z.$p)(b,M,$),Z=(0,Dn.IQ)(K||(p?(0,it.j)(p):(0,it._)(b,h,c)));ah(s,V,Z)}return p}function ah(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(Dn.bU,n)}catch(r){}}function ch(t,e=!0,n=!0){if(!gt||!gt.location){It&&S.kg.warn("Could not initialize routing instrumentation due to invalid location");return}let r=gt.location.href,s;e&&(s=t({name:gt.location.pathname,startTimestamp:Ut.Z1?Ut.Z1/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&(0,Wr.a)(({to:i,from:o})=>{if(o===void 0&&r&&r.indexOf(i)!==-1){r=void 0;return}o!==i&&(r=void 0,s&&(It&&S.kg.log(`[Tracing] Finishing current transaction with op: ${s.op}`),s.end()),s=t({name:gt.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const uh="BrowserTracing",lh=D(ct(D({},ln),{markBackgroundTransactions:!0,routingInstrumentation:ch,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{}}),wn);class dh{constructor(e){this.name=uh,this._hasSetTracePropagationTargets=!1,Ar(),It&&(this._hasSetTracePropagationTargets=!!(e&&(e.tracePropagationTargets||e.tracingOrigins))),this.options=D(D({},lh),e),this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=na(),this.options.enableLongTask&&ra(),this.options._experiments.enableInteractions&&sa()}setupOnce(e,n){this._getCurrentHub=n;const s=n().getClient(),i=s&&s.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:c,startTransactionOnPageLoad:u,markBackgroundTransactions:p,traceFetch:h,traceXHR:b,shouldCreateSpanForRequest:M,enableHTTPTimings:$,_experiments:K}=this.options,V=i&&i.tracePropagationTargets,Z=V||this.options.tracePropagationTargets;It&&this._hasSetTracePropagationTargets&&V&&S.kg.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o(J=>{const rt=this._createRouteTransaction(J);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(rt,J,n),rt},u,c),p&&ta(),K.enableInteractions&&this._registerInteractionListener(),Ds({traceFetch:h,traceXHR:b,tracePropagationTargets:Z,shouldCreateSpanForRequest:M,enableHTTPTimings:$})}_createRouteTransaction(e){if(!this._getCurrentHub){It&&S.kg.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=this.options,c=e.op==="pageload";let u;if(c){const $=c?aa("sentry-trace"):"",K=c?aa("baggage"):void 0,{traceId:V,dsc:Z,parentSpanId:J,sampled:rt}=(0,z.pT)($,K);u=ct(D({traceId:V,parentSpanId:J,parentSampled:rt},e),{metadata:ct(D({},e.metadata),{dynamicSamplingContext:Z}),trimEnd:!0})}else u=D({trimEnd:!0},e);const p=typeof r=="function"?r(u):u,h=p===void 0?ct(D({},u),{sampled:!1}):p;h.metadata=h.name!==u.name?ct(D({},h.metadata),{source:"custom"}):h.metadata,this._latestRouteName=h.name,this._latestRouteSource=fh(h),h.sampled===!1&&It&&S.kg.log(`[Tracing] Will not send ${h.op} transaction because of beforeNavigate.`),It&&S.kg.log(`[Tracing] Starting ${h.op} transaction on scope`);const{location:b}=gt,M=$n(n,h,s,i,!0,{location:b},o,c);return c&&(gt.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(gt.document.readyState)&&M.sendAutoFinishSignal()}),["interactive","complete"].includes(gt.document.readyState)&&M.sendAutoFinishSignal()),M.registerBeforeFinishCallback($=>{this._collectWebVitals(),ia($)}),M}_registerInteractionListener(){let e;const n=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:i}=this.options,o="ui.action.click",c=he();if(c&&c.op&&["navigation","pageload"].includes(c.op)){It&&S.kg.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub){It&&S.kg.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){It&&S.kg.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const u=this._getCurrentHub(),{location:p}=gt,h={name:this._latestRouteName,op:o,trimEnd:!0,data:{[Qt]:this._latestRouteSource||"url"}};e=$n(u,h,r,s,!0,{location:p},i)};["click"].forEach(r=>{addEventListener(r,n,{once:!1,capture:!0})})}}function aa(t){const e=(0,oe.qT)(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function fh(t){const e=t.attributes&&t.attributes[Qt],n=t.data&&t.data[Qt],r=t.metadata&&t.metadata.source;return e||n||r}const ph="BrowserTracing",hh=D(ct(D({},ln),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,_experiments:{}}),wn),mh=(t={})=>{const e=It?!!(t.tracePropagationTargets||t.tracingOrigins):!1;Ar(),!t.tracePropagationTargets&&t.tracingOrigins&&(t.tracePropagationTargets=t.tracingOrigins);const n=D(D({},hh),t),r=na(),s={};n.enableInp&&jp(s),n.enableLongTask&&ra(),n._experiments.enableInteractions&&sa();const i={name:void 0,context:void 0};function o(c){const u=(0,L.Gd)(),{beforeStartSpan:p,idleTimeout:h,finalTimeout:b,heartbeatInterval:M}=n,$=c.op==="pageload";let K;if($){const rt=$?la("sentry-trace"):"",st=$?la("baggage"):void 0,{traceId:ut,dsc:lt,parentSpanId:ot,sampled:at}=(0,z.pT)(rt,st);K=ct(D({traceId:ut,parentSpanId:ot,parentSampled:at},c),{metadata:ct(D({},c.metadata),{dynamicSamplingContext:lt}),trimEnd:!0})}else K=D({trimEnd:!0},c);const V=p?p(K):K;V.metadata=V.name!==K.name?ct(D({},V.metadata),{source:"custom"}):V.metadata,i.name=V.name,i.context=V,V.sampled===!1&&It&&S.kg.log(`[Tracing] Will not send ${V.op} transaction because of beforeNavigate.`),It&&S.kg.log(`[Tracing] Starting ${V.op} transaction on scope`);const{location:Z}=gt,J=$n(u,V,h,b,!0,{location:Z},M,$);return $&&gt.document&&(gt.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(gt.document.readyState)&&J.sendAutoFinishSignal()}),["interactive","complete"].includes(gt.document.readyState)&&J.sendAutoFinishSignal()),J.registerBeforeFinishCallback(rt=>{r(),ia(rt)}),J}return{name:ph,setupOnce:()=>{},afterAllSetup(c){const u=c.getOptions(),{markBackgroundSpan:p,traceFetch:h,traceXHR:b,shouldCreateSpanForRequest:M,enableHTTPTimings:$,_experiments:K}=n,V=u&&u.tracePropagationTargets,Z=V||n.tracePropagationTargets;It&&e&&V&&S.kg.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let J,rt=gt.location&&gt.location.href;if(c.on&&(c.on("startNavigationSpan",st=>{J&&(It&&S.kg.log(`[Tracing] Finishing current transaction with op: ${(0,Q.XU)(J).op}`),J.end()),J=o(D({op:"navigation"},st))}),c.on("startPageLoadSpan",st=>{J&&(It&&S.kg.log(`[Tracing] Finishing current transaction with op: ${(0,Q.XU)(J).op}`),J.end()),J=o(D({op:"pageload"},st))})),n.instrumentPageLoad&&c.emit&&gt.location){const st={name:gt.location.pathname,startTimestamp:Ut.Z1?Ut.Z1/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Qt]:"url"}};ca(c,st)}n.instrumentNavigation&&c.emit&&gt.location&&(0,Wr.a)(({to:st,from:ut})=>{if(ut===void 0&&rt&&rt.indexOf(st)!==-1){rt=void 0;return}if(ut!==st){rt=void 0;const lt={name:gt.location.pathname,origin:"auto.navigation.browser",attributes:{[Qt]:"url"}};ua(c,lt)}}),p&&ta(),K.enableInteractions&&gh(n,i),n.enableInp&&Eh(s,i),Ds({traceFetch:h,traceXHR:b,tracePropagationTargets:Z,shouldCreateSpanForRequest:M,enableHTTPTimings:$})},options:n}};function ca(t,e){if(!t.emit)return;t.emit("startPageLoadSpan",e);const n=Re();return(n&&(0,Q.XU)(n).op)==="pageload"?n:void 0}function ua(t,e){if(!t.emit)return;t.emit("startNavigationSpan",e);const n=Re();return(n&&(0,Q.XU)(n).op)==="navigation"?n:void 0}function la(t){const e=(0,oe.qT)(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function gh(t,e){let n;const r=()=>{const{idleTimeout:s,finalTimeout:i,heartbeatInterval:o}=t,c="ui.action.click",u=he();if(u&&u.op&&["navigation","pageload"].includes(u.op)){It&&S.kg.warn(`[Tracing] Did not create ${c} transaction because a pageload or navigation transaction is in progress.`);return}if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!e.name){It&&S.kg.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}const{location:p}=gt,h={name:e.name,op:c,trimEnd:!0,data:{[Qt]:e.context?vh(e.context):"url"}};n=$n((0,L.Gd)(),h,s,i,!0,{location:p},o)};["click"].forEach(s=>{addEventListener(s,r,{once:!1,capture:!0})})}function _h(t){return"duration"in t}const yh=10;function Eh(t,e){hn("event",({entries:n})=>{const r=(0,G.s3)(),s=r!==void 0&&r.getIntegrationByName!==void 0?r.getIntegrationByName("Replay"):void 0,i=s!==void 0?s.getReplayId():void 0,o=he(),c=(0,G.nZ)(),u=c!==void 0?c.getUser():void 0;for(const p of n)if(_h(p)){const h=p.duration,b=Object.keys(t),M=b.length>0?b.reduce(($,K)=>t[$].duration<t[K].duration?$:K):void 0;if(M===void 0||h>t[M].duration){const $=p.interactionId,K=e.name,V=e.context;$&&K&&V&&(M&&Object.keys(t).length>=yh&&delete t[M],t[$]={routeName:K,duration:h,parentContext:V,user:u,activeTransaction:o,replayId:i})}}})}function vh(t){const e=t.attributes&&t.attributes[Qt],n=t.data&&t.data[Qt],r=t.metadata&&t.metadata.source;return e||n||r}const Sh=100,da=5e3,Th=36e5;function ws(t,e){nt.X&&S.kg.info(`[Offline]: ${t}`,e)}function bh(t){return e=>{const n=t(e),r=e.createStore?e.createStore(e):void 0;let s=da,i;function o(h,b,M){return(0,A.R)(h,["replay_event","replay_recording","client_report"])?!1:e.shouldStore?e.shouldStore(h,b,M):!0}function c(h){r&&(i&&clearTimeout(i),i=setTimeout(()=>St(this,null,function*(){i=void 0;const b=yield r.pop();b&&(ws("Attempting to send previously queued event"),p(b).catch(M=>{ws("Failed to retry sending",M)}))}),h),typeof i!="number"&&i.unref&&i.unref())}function u(){i||(c(s),s=Math.min(s*2,Th))}function p(h){return St(this,null,function*(){try{const b=yield n.send(h);let M=Sh;if(b){if(b.headers&&b.headers["retry-after"])M=(0,jr.JY)(b.headers["retry-after"]);else if((b.statusCode||0)>=400)return b}return c(M),s=da,b}catch(b){if(r&&(yield o(h,b,s)))return yield r.insert(h),u(),ws("Error sending. Event queued",b),{};throw b}})}return e.flushAtStartup&&u(),{send:p,flush:h=>n.flush(h)}}}function kn(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Ih(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=kn(n);return s=>r.then(i=>s(i.transaction(e,"readwrite").objectStore(e)))}function fa(t){return kn(t.getAllKeys())}function Oh(t,e,n){return t(r=>fa(r).then(s=>{if(!(s.length>=n))return r.put(e,Math.max(...s,0)+1),kn(r.transaction)}))}function Rh(t){return t(e=>fa(e).then(n=>{if(n.length!==0)return kn(e.get(n[0])).then(r=>(e.delete(n[0]),kn(e.transaction).then(()=>r)))}))}function Mh(t){let e;function n(){return e==null&&(e=Ih(t.dbName||"sentry-offline",t.storeName||"queue")),e}return{insert:r=>St(this,null,function*(){try{const s=yield(0,A.V$)(r,t.textEncoder);yield Oh(n(),s,t.maxQueueSize||30)}catch(s){}}),pop:()=>St(this,null,function*(){try{const r=yield Rh(n());if(r)return(0,A.f4)(r,t.textEncoder||new TextEncoder,t.textDecoder||new TextDecoder)}catch(r){}})}}function Ch(t){return e=>t(ct(D({},e),{createStore:Mh}))}function Dh(t){return Ch(bh(t))}var Lt=a("265132"),wh=a("371908");const pa=1e6,Tr=String(0),kh="main";let ha="",ma="",ga="",ks=Gt.m9.navigator&&Gt.m9.navigator.userAgent||"",_a="";const Ah=Gt.m9.navigator&&Gt.m9.navigator.language||Gt.m9.navigator&&Gt.m9.navigator.languages&&Gt.m9.navigator.languages[0]||"";function Ph(t){return typeof t=="object"&&t!==null&&"getHighEntropyValues"in t}const ya=Gt.m9.navigator&&Gt.m9.navigator.userAgentData;Ph(ya)&&ya.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(t=>{if(ha=t.platform||"",ga=t.architecture||"",_a=t.model||"",ma=t.platformVersion||"",t.fullVersionList&&t.fullVersionList.length>0){const e=t.fullVersionList[t.fullVersionList.length-1];ks=`${e.brand} ${e.version}`}}).catch(t=>{});function xh(t){return!("thread_metadata"in t)}function Lh(t){return xh(t)?Bh(t):t}function Nh(t){const e=t&&t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id;return typeof e=="string"&&e.length!==32&&Lt.X&&S.kg.log(`[Profiling] Invalid traceId: ${e} on profiled event`),typeof e!="string"?"":e}function Uh(t,e,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=Nh(r),i=Lh(n),o=e||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:Date.now()),c=typeof r.timestamp=="number"?r.timestamp*1e3:Date.now();return{event_id:t,timestamp:new Date(o).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||wh.J,runtime:{name:"javascript",version:Gt.m9.navigator.userAgent},os:{name:ha,version:ma,build_number:ks},device:{locale:Ah,model:_a,manufacturer:ks,architecture:ga,is_emulator:!1},debug_meta:{images:jh(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||(0,un.DM)(),trace_id:s,active_thread_id:Tr,relative_start_ns:"0",relative_end_ns:((c-o)*1e6).toFixed(0)}]}}function Ea(t){return t.op==="pageload"}function Bh(t){let e,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Tr]:{name:kh}}};if(!t.samples.length)return r;const s=t.samples[0].timestamp,i=typeof performance.timeOrigin=="number"?performance.timeOrigin:Ut.Z1||0,o=i-(Ut.Z1||i);for(let c=0;c<t.samples.length;c++){const u=t.samples[c];if(u.stackId===void 0){e===void 0&&(e=n,r.stacks[e]=[],n++),r.samples[c]={elapsed_since_start_ns:((u.timestamp+o-s)*pa).toFixed(0),stack_id:e,thread_id:Tr};continue}let p=t.stacks[u.stackId];const h=[];for(;p;){h.push(p.frameId);const M=t.frames[p.frameId];r.frames[p.frameId]===void 0&&(r.frames[p.frameId]={function:M.name,abs_path:typeof M.resourceId=="number"?t.resources[M.resourceId]:void 0,lineno:M.line,colno:M.column}),p=p.parentId===void 0?void 0:t.stacks[p.parentId]}const b={elapsed_since_start_ns:((u.timestamp+o-s)*pa).toFixed(0),stack_id:n,thread_id:Tr};r.stacks[n]=h,r.samples[c]=b,n++}return r}function Fh(t,e){if(!e.length)return t;for(const n of e)t[1].push([{type:"profile"},n]);return t}function Wh(t){const e=[];return(0,A.gv)(t,(n,r)=>{if(r==="transaction")for(let s=1;s<n.length;s++){const i=n[s];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&e.push(n[s])}}),e}const va=new WeakMap;function jh(t){const e=me.n2._sentryDebugIds;if(!e)return[];const n=(0,G.s3)(),r=n&&n.getOptions(),s=r&&r.stackParser;if(!s)return[];let i;const o=va.get(s);o?i=o:(i=new Map,va.set(s,i));const c=Object.keys(e).reduce((p,h)=>{let b;const M=i.get(h);M?b=M:(b=s(h),i.set(h,b));for(let $=b.length-1;$>=0;$--){const K=b[$],V=K&&K.filename;if(K&&V){p[V]=e[h];break}}return p},{}),u=[];for(const p of t)p&&c[p]&&u.push({type:"sourcemap",code_file:p,debug_id:c[p]});return u}function Hh(t){return typeof t!="number"&&typeof t!="boolean"||typeof t=="number"&&isNaN(t)?(Lt.X&&S.kg.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t===!0||t===!1?!0:t<0||t>1?(Lt.X&&S.kg.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function $h(t){return t.samples.length<2?(Lt.X&&S.kg.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):t.frames.length?!0:(Lt.X&&S.kg.log("[Profiling] Discarding profile because it contains no frames"),!1)}let Sa=!1;const Ta=3e4;function Kh(t){return typeof t=="function"}function zh(){const t=Gt.m9.Profiler;if(!Kh(t)){Lt.X&&S.kg.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const e=10,n=Math.floor(Ta/e);try{return new t({sampleInterval:e,maxBufferSize:n})}catch(r){Lt.X&&(S.kg.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),S.kg.log("[Profiling] Disabling profiling for current user session.")),Sa=!0}}function As(t){if(Sa)return Lt.X&&S.kg.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!t.isRecording())return Lt.X&&S.kg.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const e=(0,G.s3)(),n=e&&e.getOptions();if(!n)return Lt.X&&S.kg.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return Hh(r)?r?(r===!0?!0:Math.random()<r)?!0:(Lt.X&&S.kg.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(Lt.X&&S.kg.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(Lt.X&&S.kg.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function Gh(t,e,n,r){return $h(n)?Uh(t,e,n,r):null}const xe=new Map;function Xh(){return xe.size}function Yh(t){const e=xe.get(t);return e&&xe.delete(t),e}function Vh(t,e){if(xe.set(t,e),xe.size>30){const n=xe.keys().next().value;xe.delete(n)}}function Jh(t){return t?As(t)?Ps(t):t:(Lt.X&&S.kg.log("[Profiling] Transaction is undefined, skipping profiling"),t)}function Ps(t){let e;Ea(t)&&(e=(0,Ut.ph)()*1e3);const n=zh();if(!n)return t;Lt.X&&S.kg.log(`[Profiling] started profiling transaction: ${(0,Q.XU)(t).description}`);const r=(0,un.DM)();function s(){return St(this,null,function*(){return!t||!n?null:n.stop().then(u=>(i&&(Gt.m9.clearTimeout(i),i=void 0),Lt.X&&S.kg.log(`[Profiling] stopped profiling of transaction: ${(0,Q.XU)(t).description}`),u?(Vh(r,u),null):(Lt.X&&S.kg.log(`[Profiling] profiler returned null profile for: ${(0,Q.XU)(t).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null))).catch(u=>(Lt.X&&S.kg.log("[Profiling] error while stopping profiler:",u),null))})}let i=Gt.m9.setTimeout(()=>{Lt.X&&S.kg.log("[Profiling] max profile duration elapsed, stopping profiling for:",(0,Q.XU)(t).description),s()},Ta);const o=t.end.bind(t);function c(){return t?(s().then(()=>{t.setContext("profile",{profile_id:r,start_timestamp:e}),o()},()=>{o()}),t):o()}return t.end=c,t}const ba="BrowserProfiling",Zh=()=>({name:ba,setupOnce(){},setup(t){const n=(0,G.nZ)().getTransaction();if(n&&Ea(n)&&As(n)&&Ps(n),typeof t.on!="function"){S.kg.warn("[Profiling] Client does not support hooks, profiling will be disabled");return}t.on("startTransaction",r=>{As(r)&&Ps(r)}),t.on("beforeEnvelope",r=>{if(!Xh())return;const s=Wh(r);if(!s.length)return;const i=[];for(const o of s){const c=o&&o.contexts,u=c&&c.profile&&c.profile.profile_id,p=c&&c.profile&&c.profile.start_timestamp;if(typeof u!="string"){Lt.X&&S.kg.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!u){Lt.X&&S.kg.log("[Profiling] cannot find profile for a transaction without a profile context");continue}c&&c.profile&&delete c.profile;const h=Yh(u);if(!h){Lt.X&&S.kg.log(`[Profiling] Could not retrieve profile for transaction: ${u}`);continue}const b=Gh(u,p,h,o);b&&i.push(b)}Fh(r,i)})}}),Ia=(0,N._I)(Zh),Qh=(0,N.RN)(ba,Ia);let Oa={};Gt.m9.Sentry&&Gt.m9.Sentry.Integrations&&(Oa=Gt.m9.Sentry.Integrations);const Ra=D(D(D({},Oa),Y),R);function Ma(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ma(Object(n),!0).forEach(function(r){tm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var em=function(e){var n=e.orgId,r=e.namespace,s=r===void 0?"FS":r,i=e.debug,o=e.host,c=o===void 0?"fullstory.com":o,u=e.script,p=u===void 0?"edge.fullstory.com/s/fs.js":u;if(!n)throw new Error("FullStory orgId is a required parameter");window._fs_host=c,window._fs_script=p,window._fs_org=n,window._fs_namespace=s,function(h,b,M,$,K,V,Z,J){if(M in h){h.console&&h.console.log&&h.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');return}Z=h[M]=function(rt,st,ut){Z.q?Z.q.push([rt,st,ut]):Z._api(rt,st,ut)},Z.q=[],V=b.createElement($),V.async=1,V.crossOrigin="anonymous",V.src="https://"+_fs_script,J=b.getElementsByTagName($)[0],J.parentNode.insertBefore(V,J),Z.identify=function(rt,st,ut){Z(K,{uid:rt},ut),st&&Z(K,st,ut)},Z.setUserVars=function(rt,st){Z(K,rt,st)},Z.event=function(rt,st,ut){Z("event",{n:rt,p:st},ut)},Z.anonymize=function(){Z.identify(!1)},Z.shutdown=function(){Z("rec",!1)},Z.restart=function(){Z("rec",!0)},Z.log=function(rt,st){Z("log",[rt,st])},Z.consent=function(rt){Z("consent",!arguments.length||rt)},Z.identifyAccount=function(rt,st){V="account",st=st||{},st.acctId=rt,Z(V,st)},Z.clearUserCookie=function(){},Z.setVars=function(rt,st){Z("setVars",[rt,st])},Z._w={},J="XMLHttpRequest",Z._w[J]=h[J],J="fetch",Z._w[J]=h[J],h[J]&&(h[J]=function(){return Z._w[J].apply(this,arguments)}),Z._v="1.3.0"}(window,document,window._fs_namespace,"script","user")},An=function(){return window[window._fs_namespace]},nm=function(){var e=!!An();if(!e)throw Error("FullStory is not loaded, please ensure the init function is invoked before calling FullStory API functions")},rm=function(){nm();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.every(function(s){return An()[s]})},de=function(e){return function(){if(window._fs_dev_mode){var n="FullStory is in dev mode and is not recording: ".concat(e," method not executed");return console.warn(n),n}if(rm(e)){var r;return(r=An())[e].apply(r,arguments)}return console.warn("FS.".concat(e," not ready")),null}},Ca=de("event"),sm=de("log"),im=de("getCurrentSessionURL"),om=de("identify"),am=de("setUserVars"),cm=de("consent"),Da=de("shutdown"),um=de("restart"),lm=de("anonymize"),dm=de("setVars"),fm=function(e,n){var r=qh({},e);if(An()){console.warn("The FullStory snippet has already been defined elsewhere (likely in the <head> element)");return}if(r.recordCrossDomainIFrames&&(window._fs_run_in_iframe=!0),r.recordOnlyThisIFrame&&(window._fs_is_outer_script=!0),r.debug===!0&&(r.script?console.warn("Ignoring `debug = true` because `script` is set"):r.script="edge.fullstory.com/s/fs-debug.js"),em(r),n&&An()("observe",{type:"start",callback:n}),r.devMode===!0){var s="FullStory was initialized in devMode and will stop recording";Ca("FullStory Dev Mode",{message_str:s}),Da(),window._fs_dev_mode=!0,console.warn(s)}},pm=function(e,n){return function(){if(window._fs_initialized){n&&console.warn(n);return}e.apply(void 0,arguments),window._fs_initialized=!0}},hm=pm(fm,"FullStory init has already been called once, additional invocations are ignored"),mm=function(){return!!window._fs_initialized};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Pn=function(){return Pn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pn.apply(this,arguments)};function gm(){return!!window[window._fs_namespace]}var _m=function(t){return new URL(t).pathname.replace("/","")},ym=function(t){return t.message!==void 0},Em=function(t){if(t&&t.originalException&&ym(t.originalException)){var e=t.originalException,n=e.name,r=e.message;return{name:n,message:r}}return{}};function vm(t){var e;try{var n=(((e=(0,L.Gd)().getClient())===null||e===void 0?void 0:e.getOptions())||{}).dsn;if(!n)return console.error("No sn"),"Could not retrieve url";if(!t.hint)return console.error("No event hint"),"Could not retrieve url";var r=_m(n);return t.baseSentryUrl+"/organizations/"+t.sentryOrg+"/issues/?project="+r+"&query="+t.hint.event_id}catch(s){return console.error("Error retrieving project ID from DSN",s),"Could not retrieve url"}}var Sm=function(){function t(e,n){n===void 0&&(n={}),this.name=t.id,this.sentryOrg=e,this.client=n.client||U,this.baseSentryUrl=n.baseSentryUrl||"https://sentry.io"}return t.prototype.setupOnce=function(){var e=this;(0,ei.cc)(function(n,r){var s=(0,L.Gd)().getIntegration(t);if(s&&n.type!=="transaction"&&gm()){var i=function(){try{return e.client.getCurrentSessionURL(!0)||"Current session URL API not ready"}catch(c){var o=c instanceof Error?c.message:String(c);return"Unable to get url: "+o}};n.contexts=Pn(Pn({},n.contexts),{fullStory:{fullStoryUrl:i()}});try{e.client.event("Sentry Error",Pn({sentryUrl:vm({baseSentryUrl:e.baseSentryUrl,sentryOrg:e.sentryOrg,hint:r})},Em(r)))}catch(o){console.debug("Unable to report sentry error details to FullStory")}}return n})},t.id="SentryFullStory",t}(),Tm=Sm;const wa=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,ka="Dedupe",bm=()=>{let t;return{name:ka,setupOnce(){},processEvent(e){if(e.type)return e;try{if(Rm(e,t))return wa&&S.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return t=e}}},Im=(0,N._I)(bm),Om=(0,N.RN)(ka,Im);function Rm(t,e){return e?!!(Mm(t,e)||Cm(t,e)):!1}function Mm(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Pa(t,e)||!Aa(t,e))}function Cm(t,e){const n=xa(e),r=xa(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Pa(t,e)||!Aa(t,e))}function Aa(t,e){let n=La(t),r=La(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Pa(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch(s){return!1}}function xa(t){return t.exception&&t.exception.values&&t.exception.values[0]}function La(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(n){return}}const Na="ExtraErrorData",Dm=(t={})=>{const e=t.depth||3,n=t.captureErrorCause||!1;return{name:Na,setupOnce(){},processEvent(r,s){return Am(r,s,e,n)}}},wm=(0,N._I)(Dm),km=(0,N.RN)(Na,wm);function Am(t,e={},n,r){if(!e.originalException||!(0,q.VZ)(e.originalException))return t;const s=e.originalException.name||e.originalException.constructor.name,i=Pm(e.originalException,r);if(i){const o=D({},t.contexts),c=(0,zn.Fv)(i,n);return(0,q.PO)(c)&&((0,et.xp)(c,"__sentry_skip_normalization__",!0),o[s]=c),ct(D({},t),{contexts:o})}return t}function Pm(t,e){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const s of Object.keys(t)){if(n.indexOf(s)!==-1)continue;const i=t[s];r[s]=(0,q.VZ)(i)?i.toString():i}if(e&&t.cause!==void 0&&(r.cause=(0,q.VZ)(t.cause)?t.cause.toString():t.cause),typeof t.toJSON=="function"){const s=t.toJSON();for(const i of Object.keys(s)){const o=s[i];r[i]=(0,q.VZ)(o)?o.toString():o}}return r}catch(n){wa&&S.kg.error("Unable to extract extra data from the Error object:",n)}return null}function Ua(t,e){let n=0;for(let r=t.length-1;r>=0;r--){const s=t[r];s==="."?t.splice(r,1):s===".."?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}const xm=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Ba(t){const e=t.length>1024?`<truncated>${t.slice(-1024)}`:t,n=xm.exec(e);return n?n.slice(1):[]}function Fa(...t){let e="",n=!1;for(let r=t.length-1;r>=-1&&!n;r--){const s=r>=0?t[r]:"/";s&&(e=`${s}/${e}`,n=s.charAt(0)==="/")}return e=Ua(e.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+e||"."}function Wa(t){let e=0;for(;e<t.length&&t[e]==="";e++);let n=t.length-1;for(;n>=0&&t[n]==="";n--);return e>n?[]:t.slice(e,n-e+1)}function Lm(t,e){t=Fa(t).slice(1),e=Fa(e).slice(1);const n=Wa(t.split("/")),r=Wa(e.split("/")),s=Math.min(n.length,r.length);let i=s;for(let c=0;c<s;c++)if(n[c]!==r[c]){i=c;break}let o=[];for(let c=i;c<n.length;c++)o.push("..");return o=o.concat(r.slice(i)),o.join("/")}function Nm(t){const e=Um(t),n=t.slice(-1)==="/";let r=Ua(t.split("/").filter(s=>!!s),!e).join("/");return!r&&!e&&(r="."),r&&n&&(r+="/"),(e?"/":"")+r}function Um(t){return t.charAt(0)==="/"}function Ig(...t){return Nm(t.join("/"))}function Og(t){const e=Ba(t),n=e[0];let r=e[1];return!n&&!r?".":(r&&(r=r.slice(0,r.length-1)),n+r)}function Bm(t,e){let n=Ba(t)[2];return e&&n.slice(e.length*-1)===e&&(n=n.slice(0,n.length-e.length)),n}const ja="RewriteFrames",Fm=(t={})=>{const e=t.root,n=t.prefix||"app:///",r=t.iteratee||(o=>{if(!o.filename)return o;const c=/^[a-zA-Z]:\\/.test(o.filename)||o.filename.includes("\\")&&!o.filename.includes("/"),u=/^\//.test(o.filename);if(c||u){const p=c?o.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):o.filename,h=e?Lm(e,p):Bm(p);o.filename=`${n}${h}`}return o});function s(o){try{return ct(D({},o),{exception:ct(D({},o.exception),{values:o.exception.values.map(c=>D(D({},c),c.stacktrace&&{stacktrace:i(c.stacktrace)}))})})}catch(c){return o}}function i(o){return ct(D({},o),{frames:o&&o.frames&&o.frames.map(c=>r(c))})}return{name:ja,setupOnce(){},processEvent(o){let c=o;return o.exception&&Array.isArray(o.exception.values)&&(c=s(c)),c}}},Wm=(0,N._I)(Fm),jm=(0,N.RN)(ja,Wm);var Hm=a("430217"),xn=a("558916"),rn=a("998124");function $m(){return"cdf84e425fd279067ff40b808d544fa744f47404"}function Km(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){Km(t,s,n[s])})}return t}function zm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ha(t,e){return e=e!=null?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):zm(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}var $a=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.cookie;return t.includes("SQS_SENTRY_LOG_EVENTS=true")},Gm=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.cookie;return!0},Ka=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.cookie,e=!(0,rn.ni)();return e||(0,rn.Jl)()||t.includes("SQS_SENTRY_SEND_EVENTS=true")},za=()=>{try{var t,e,n;return(n=(e=document.getElementById("sqs-site-frame"))===null||e===void 0||(t=e.contentWindow)===null||t===void 0?void 0:t.document)!==null&&n!==void 0?n:null}catch(r){return null}},Xm=()=>{var t="PRODUCTION";return(0,rn.r8)()?t="DEVELOPMENT":(0,rn.Oj)()?t="QA":((0,rn.Jl)()||(0,rn.ni)())&&(t="STAGING"),t},Ln=/\b[0-9a-f]{24}\b/g,Ga=/Blocked a frame (with origin|at) (.*) from accessing a (cross-origin )?frame( with origin)?/,Xa=/Dirty Iframe was destroyed without prompting user at (.*)/,Ya=/Loading chunk (.*) failed\./,Ym=/(Extension\.appex|safari-extension:\/\/)[^\n]+\/([^\/]+)\.safariextension/g,Vm=/chrome-extension:\/\/([^\/]+)\//g,Jm=/webkit-masked-url\(?:\/\/hidden\//g,Zm=performance.now(),Qm=12*60*60*1e3,qm=Qm,tg="{{ default }}",eg=["safari-extension-Honey","chrome-extension-bmnlcjabgnpnenekpadlanbbkooimhnj","privacy-blocked-extension"],ng=/(squarespace|sqsp)\.(net|com)/,rg=["tracing.squarespace.com","fullstory.com"];function Va(t){if(!t)return["getStacklessFingerprint","undefinedException"];var e=t.response;if(e&&e.config&&e.config.method&&e.status&&e.config.url)return[e.config.method,e.config.url.replace(Ln,"<MONGODB_ID>"),e.status];if(t.notFound===!0&&t.error)return["notFound",t.error.replace(Ln,"<MONGODB_ID>")];if(t.errorKey)return[JSON.stringify((0,zn.Fv)(Ha(sn({},t),{errorKey:"<ERROR_KEY>"})))];if(typeof t=="string"&&t.match(Ga)||t.message&&typeof t.message=="string"&&t.message.match(Ga))return["mysterious-cross-origin-exception"];if(typeof t=="string"&&t.match(Ln)||t.message&&typeof t.message=="string"&&t.message.match(Ln)){var n=t.message||t;return[n.replace(Ln,"<MONGODB_ID>")]}else{if(typeof t=="string"&&t.match(Xa)||t.message&&typeof t.message=="string"&&t.message.match(Xa))return["Dirty Iframe was destroyed without prompting user at <URL>"];if(typeof t=="string"&&t.match(Ya)||t.message&&typeof t.message=="string"&&t.message.match(Ya))return["Loading chunk <CHUNK_NAME> failed"]}return[tg]}function sg(t){var e=document.getElementById("sqs-site-frame");e&&(t.tags||(t.tags={}),t.tags["frame.url"]=e.getAttribute("src"))}function ig(t,e){var n={};try{var r=t==null?void 0:t.breadcrumbs,s=r==null?void 0:r.some(ot=>{var at;return ot==null||(at=ot.message)===null||at===void 0?void 0:at.toLowerCase().includes("extension context invalidated")});s&&(n.extensionsInBreadcrumb=!0);var i,o=(i=e.stack)!==null&&i!==void 0?i:"",c=Jm.test(o);if(c)return sn({extensionsInStack:!0,"privacy-blocked-extension":!0},n);var u=o.matchAll(Ym),p=o.matchAll(Vm),h=!0,b=!1,M=void 0;try{for(var $=u[Symbol.iterator](),K;!(h=(K=$.next()).done);h=!0){var V=K.value;n["safari-extension-"+V[2]]=!0}}catch(ot){b=!0,M=ot}finally{try{!h&&$.return!=null&&$.return()}finally{if(b)throw M}}var Z=!0,J=!1,rt=void 0;try{for(var st=p[Symbol.iterator](),ut;!(Z=(ut=st.next()).done);Z=!0){var lt=ut.value;n["chrome-extension-"+lt[1]]=!0}}catch(ot){J=!0,rt=ot}finally{try{!Z&&st.return!=null&&st.return()}finally{if(J)throw rt}}if(Object.keys(n).length)return sn({extensionsInStack:!0},n)}catch(ot){console.error(ot)}return n}function og(){try{throw new Error("SYNTHETIC_ERROR")}catch(t){return t}}function ag(){var t=new Set(["cdn.userway.org"]),e=Array.from(document.scripts),n=[];try{var r,s;n=Array.from((s=(r=za())===null||r===void 0?void 0:r.scripts)!==null&&s!==void 0?s:[])}catch(i){}return[...e,...n].some(i=>{try{return t.has(new URL(i.src).host)}catch(o){return!1}})}function cg(t){var e;t.tags||(t.tags={});var n=!0,r=!1,s=void 0;try{for(var i=eg[Symbol.iterator](),o;!(n=(o=i.next()).done);n=!0){var c=o.value;if(t.tags&&t.tags[c])return!0}}catch(p){r=!0,s=p}finally{try{!n&&i.return!=null&&i.return()}finally{if(r)throw s}}if(!((e=t.message)===null||e===void 0)&&e.includes("Non-Error promise rejection captured")){var u;if(!((u=t.tags)===null||u===void 0)&&u.extensionsInBreadcrumb)return!0}return!1}function ug(t){var e,n,r=(n=t==null||(e=t.exception)===null||e===void 0?void 0:e.values)!==null&&n!==void 0?n:[];return r.some(s=>{var i,o,c=(o=(i=s.stacktrace)===null||i===void 0?void 0:i.frames)!==null&&o!==void 0?o:[];if(!c.length||c.length===1&&c[0].abs_path==="<anonymous>")return!1;var u=c[c.length-1],p=null;return u.abs_path?p=u.abs_path:u.filename&&/^https?:\/\//.test(u.filename)&&(p=u.filename),p?!ng.test(p):!1})}function lg(t){var e,n,r,s,i,o,c,u,p,h,b,M=(n=t.exception)===null||n===void 0||(e=n.values)===null||e===void 0?void 0:e[0];return!M||((s=t.exception)===null||s===void 0||(r=s.values)===null||r===void 0?void 0:r.length)!==1?!1:!!(M&&(!((i=M.value)===null||i===void 0)&&i.match(/Uncaught ReferenceError: \w+ is not defined/))&&((o=M.mechanism)===null||o===void 0?void 0:o.type)==="onerror"&&((u=M.stacktrace)===null||u===void 0||(c=u.frames)===null||c===void 0?void 0:c.length)===1&&(!((b=M.stacktrace)===null||b===void 0||(h=b.frames)===null||h===void 0||(p=h[0].filename)===null||p===void 0)&&p.startsWith("blob:")))}function dg(t){var e,n,r,s,i;if(((n=t.exception)===null||n===void 0||(e=n.values)===null||e===void 0?void 0:e.length)!==1)return!1;var o=t.exception.values[0];return o?!!(!((r=o.value)===null||r===void 0)&&r.includes("Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.")&&(!((i=o.stacktrace)===null||i===void 0||(s=i.frames)===null||s===void 0)&&s.some(c=>{var u;return(u=c.module)===null||u===void 0?void 0:u.includes("react-dom.production")}))):!1}function fg(t){try{var e,n;(n=(e=t).tags)!==null&&n!==void 0||(e.tags={});var r=window.navigator.connection;if(!r){t.tags["network_connection.details"]="unknown";return}var s;t.tags["network_connection.downlink"]=(s=r.downlink)!==null&&s!==void 0?s:"unknown";var i;t.tags["network_connection.effective_type"]=(i=r.effectiveType)!==null&&i!==void 0?i:"unknown";var o;t.tags["network_connection.rtt"]=(o=r.rtt)!==null&&o!==void 0?o:"unknown",t.tags["network_connection.details"]="found"}catch(p){var c,u;(u=(c=t).tags)!==null&&u!==void 0||(c.tags={}),t.tags["network_connection.details"]="errored"}}function pg(t){try{var e,n;(n=(e=t).tags)!==null&&n!==void 0||(e.tags={});var r;t.tags.device_memory=(r=window.navigator.deviceMemory)!==null&&r!==void 0?r:"unknown";var s;t.tags.is_browser_automated=(s=window.navigator.webdriver)!==null&&s!==void 0?s:"unknown"}catch(c){var i,o;(o=(i=t).tags)!==null&&o!==void 0||(i.tags={})}}var hg=(t,e)=>{try{var n,r,s;t.tags=t.tags||{},t.extra=t.extra||{};var i=performance.now()-Zm,o=(r=t.exception)===null||r===void 0||(n=r.values)===null||n===void 0?void 0:n[0],c=og();t.tags["release.variant"]="default",t.tags["url.path"]=window.location.pathname,t.tags["url.hostname"]=window.location.hostname,t.tags.ancient=i>qm,t.tags=sn({},t.tags,ig(t,c)),t.extra.appLifetimeInSeconds=Math.floor(i/1e3),sg(t),fg(t),pg(t);var u=!1;try{var p;u=!!(!((p=za())===null||p===void 0)&&p.querySelector("#skFooter"))}catch(h){}t.tags.squarekicker_enabled=u||!!window.skuiApp,e.originalException&&((0,Hm.isApiError)(e.originalException)||(0,xn.IZ)(e.originalException))?(t.fingerprint=(0,xn.aW)(e.originalException),t.tags=sn({},(0,xn.Mt)(e.originalException),t.tags)):o&&!(!((s=o.stacktrace)===null||s===void 0)&&s.frames)?(t.fingerprint=Va(e.originalException),t.extra.syntheticStackTrace=c.stack):!t.exception&&t.reason&&(t.fingerprint=Va(t.reason))}catch(h){t.extra||(t.extra={}),t.extra.fingerprintingError=h}return t},br="ROUTE_TO",Ja="sqsCustomSentryRouting",mg=t=>{var e,n=t.getEvent();if(n&&n.extra&&br in n.extra&&Array.isArray(n.extra[br]))return n.extra[br];var r=n==null||(e=n.extra)===null||e===void 0?void 0:e[Ja];if(r){var s,i=r.dsn,o=r.release;return n==null||(s=n.extra)===null||s===void 0||delete s[Ja],[{dsn:i,release:o}]}return[]},gg=d(E.f,mg),_g={dsn:"https://5fa7b3ac571046d8a61aab5ff7649693@sentry.io/1363201",environment:Xm(),release:$m(),ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications.","ttq is not defined","Can't find variable: ttq","InvalidStateError A mutation operation was attempted on a database that did not allow mutations.","UnknownError Internal error.","undefined is not an object (evaluating 'this.Env._guidp')","Cannot read properties of undefined (reading '_guidp')",/Failed to read a named property ['"]removeEventListener['"] from ['"]Window['"]: Blocked a frame with origin/i],denyUrls:[/instream\/video\/client\.js/,/cdn\.pendo\.io/i,/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/^resource:\/\//i,/\/(gtm|ga|analytics)\.js/i,/www.googletagmanager.com/i,/cloudfront\.net/i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i,/amazon\-adsystem\.com\//i,/amp\-project\.org\//i,/mediavine\.com\//i],beforeBreadcrumb:t=>{if(t.category==="xhr"){var e,n=(e=t.data)===null||e===void 0?void 0:e.url;if(n&&rg.some(r=>n.match(r)))return null}return t.category==="console"&&t.message&&t.message.match(/No corresponding JsonSchema found for mapping \[object Object\] in schema/)?null:t},transport:gg,beforeSend:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,r,s,i,o=t.level==="error"?"error":"log";if(e.originalException===null?console[o]("Sentry captured an event with a `null` value for `hint.originalException`",t):console[o](e.originalException),e.originalException&&(0,xn.Vf)(e.originalException)||e.originalException&&(0,xn.aJ)(e.originalException)||ug(t))return null;if(!(t==null||(i=t.exception)===null||i===void 0||(s=i.values)===null||s===void 0||(r=s[0])===null||r===void 0||(n=r.stacktrace)===null||n===void 0)&&n.frames){var c=t.exception.values[0].stacktrace.frames,u=c.filter(K=>K.module_metadata&&K.module_metadata.dsn).map(K=>K.module_metadata).slice(-1);u.length&&(t.extra=Ha(sn({},t.extra),{[br]:u}))}var p=hg(t,e);if(cg(p)||ag()||lg(t)||dg(t))return null;if($a()){var h,b,M,$=p.message||((M=p.exception)===null||M===void 0||(b=M.values)===null||b===void 0||(h=b[0])===null||h===void 0?void 0:h.value)||"no message";console.log('SENTRY DEBUG > "'.concat($,'"'),p)}return Ka()?p:null},integrations:[new Ra.Breadcrumbs({console:!0,dom:{serializeAttribute:["data-test","data-testid","aria-label"],maxStringLength:1024}}),new Om,new km,new jm({iteratee:t=>(t.filename&&/.*@https?:/.test(t.filename)&&(t.filename=t.filename.replace(/^.*@/,"")),t)}),new Tm("squarespace"),Dr()]};Gm()&&(Ka()?console.log("Sentry is initialized and sending events"):console.log("Sentry is initialized but will not send events to the Sentry service"),$a()&&console.log("Sentry events will be logged to the console."),ge.S1(_g),window.SQUARESPACE_SENTRY=B)},392338:function(tt){"use strict"}},function(tt){var F=function(x){return tt(tt.s=x)},a=F("473395")}]);

})();
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/d2583e319c8f1fb4/error-reporter-61c5a4108ea6d34a-min.en-US.js.map